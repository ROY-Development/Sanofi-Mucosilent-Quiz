var qE=Object.defineProperty,$E=Object.defineProperties;var jE=Object.getOwnPropertyDescriptors;var F_=Object.getOwnPropertySymbols;var WE=Object.prototype.hasOwnProperty,QE=Object.prototype.propertyIsEnumerable;var L_=(n,t,e)=>t in n?qE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,$=(n,t)=>{for(var e in t||={})WE.call(t,e)&&L_(n,e,t[e]);if(F_)for(var e of F_(t))QE.call(t,e)&&L_(n,e,t[e]);return n},Se=(n,t)=>$E(n,jE(t));var ue=(n,t,e)=>new Promise((i,o)=>{var r=l=>{try{a(e.next(l))}catch(c){o(c)}},s=l=>{try{a(e.throw(l))}catch(c){o(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(r,s);a((e=e.apply(n,t)).next())});var gn=null,Bu=!1,Im=1,YE=null,_n=Symbol("SIGNAL");function me(n){let t=gn;return gn=n,t}function Lu(){return gn}var Zs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Il(n){if(Bu)throw new Error("");if(gn===null)return;gn.consumerOnSignalRead(n);let t=gn.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=gn.recomputing;if(i&&(e=t!==void 0?t.nextProducer:gn.producers,e!==void 0&&e.producer===n)){gn.producersTail=e,e.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===gn&&(!i||KE(o,gn)))return;let r=ea(gn),s={producer:n,consumer:gn,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};gn.producersTail=s,t!==void 0?t.nextProducer=s:gn.producers=s,r&&H_(n,s)}function G_(){Im++}function Em(n){if(!(ea(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Im)){if(!n.producerMustRecompute(n)&&!Pl(n)){Dm(n);return}n.producerRecomputeValue(n),Dm(n)}}function Pm(n){if(n.consumers===void 0)return;let t=Bu;Bu=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||XE(i)}}finally{Bu=t}}function km(){return gn?.consumerAllowSignalWrites!==!1}function XE(n){n.dirty=!0,Pm(n),n.consumerMarkedDirty?.(n)}function Dm(n){n.dirty=!1,n.lastCleanEpoch=Im}function Js(n){return n&&V_(n),me(n)}function V_(n){n.producersTail=void 0,n.recomputing=!0}function El(n,t){me(t),n&&z_(n)}function z_(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(ea(n))do e=Om(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Pl(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(Em(e),i!==e.version))return!0}return!1}function $r(n){if(ea(n)){let t=n.producers;for(;t!==void 0;)t=Om(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function H_(n,t){let e=n.consumersTail,i=ea(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let o=n.producers;o!==void 0;o=o.nextProducer)H_(o.producer,o)}function Om(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=i;else if(t.consumers=i,!ea(t)){let r=t.producers;for(;r!==void 0;)r=Om(r)}return e}function ea(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Rm(n){YE?.(n)}function KE(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function Am(n,t){return Object.is(n,t)}function Gu(n,t){let e=Object.create(ZE);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(Em(e),Il(e),e.value===Fu)throw e.error;return e.value};return i[_n]=e,Rm(e),i}var xm=Symbol("UNSET"),Tm=Symbol("COMPUTING"),Fu=Symbol("ERRORED"),ZE=Se($({},Zs),{value:xm,dirty:!0,error:null,equal:Am,kind:"computed",producerMustRecompute(n){return n.value===xm||n.value===Tm},producerRecomputeValue(n){if(n.value===Tm)throw new Error("");let t=n.value;n.value=Tm;let e=Js(n),i,o=!1;try{i=n.computation(),me(null),o=t!==xm&&t!==Fu&&i!==Fu&&n.equal(t,i)}catch(r){i=Fu,n.error=r}finally{El(n,e)}if(o){n.value=t;return}n.value=i,n.version++}});function JE(){throw new Error}var U_=JE;function q_(n){U_(n)}function Nm(n){U_=n}var eP=null;function Bm(n,t){let e=Object.create(Vu);e.value=n,t!==void 0&&(e.equal=t);let i=()=>$_(e);return i[_n]=e,Rm(e),[i,s=>kl(e,s),s=>j_(e,s)]}function $_(n){return Il(n),n.value}function kl(n,t){km()||q_(n),n.equal(n.value,t)||(n.value=t,tP(n))}function j_(n,t){km()||q_(n),kl(n,t(n.value))}var Vu=Se($({},Zs),{equal:Am,value:void 0,kind:"signal"});function tP(n){n.version++,G_(),Pm(n),eP?.(n)}function Fm(n){let t=me(null);try{return n()}finally{me(t)}}var Lm=Se($({},Zs),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Gm(n){if(n.dirty=!1,n.version>0&&!Pl(n))return;n.version++;let t=Js(n);try{n.cleanup(),n.fn()}finally{El(n,t)}}function xe(n){return typeof n=="function"}function ta(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var zu=ta(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,o)=>`${o+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function jr(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var gt=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(xe(i))try{i()}catch(r){t=r instanceof zu?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{W_(r)}catch(s){t=t??[],s instanceof zu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new zu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)W_(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&jr(e,t)}remove(t){let{_finalizers:e}=this;e&&jr(e,t),t instanceof n&&t._removeParent(this)}};gt.EMPTY=(()=>{let n=new gt;return n.closed=!0,n})();var Vm=gt.EMPTY;function Hu(n){return n instanceof gt||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function W_(n){xe(n)?n():n.unsubscribe()}var Oi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var na={setTimeout(n,t,...e){let{delegate:i}=na;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=na;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Uu(n){na.setTimeout(()=>{let{onUnhandledError:t}=Oi;if(t)t(n);else throw n})}function Ol(){}var Q_=zm("C",void 0,void 0);function Y_(n){return zm("E",void 0,n)}function X_(n){return zm("N",n,void 0)}function zm(n,t,e){return{kind:n,value:t,error:e}}var Wr=null;function ia(n){if(Oi.useDeprecatedSynchronousErrorHandling){let t=!Wr;if(t&&(Wr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=Wr;if(Wr=null,e)throw i}}else n()}function K_(n){Oi.useDeprecatedSynchronousErrorHandling&&Wr&&(Wr.errorThrown=!0,Wr.error=n)}var Qr=class extends gt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Hu(t)&&t.add(this)):this.destination=oP}static create(t,e,i){return new cr(t,e,i)}next(t){this.isStopped?Um(X_(t),this):this._next(t)}error(t){this.isStopped?Um(Y_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Um(Q_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nP=Function.prototype.bind;function Hm(n,t){return nP.call(n,t)}var qm=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){qu(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){qu(i)}else qu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){qu(e)}}},cr=class extends Qr{constructor(t,e,i){super();let o;if(xe(t)||!t)o={next:t??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&Oi.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Hm(t.next,r),error:t.error&&Hm(t.error,r),complete:t.complete&&Hm(t.complete,r)}):o=t}this.destination=new qm(o)}};function qu(n){Oi.useDeprecatedSynchronousErrorHandling?K_(n):Uu(n)}function iP(n){throw n}function Um(n,t){let{onStoppedNotification:e}=Oi;e&&na.setTimeout(()=>e(n,t))}var oP={closed:!0,next:Ol,error:iP,complete:Ol};var oa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ri(n){return n}function $m(...n){return jm(n)}function jm(n){return n.length===0?Ri:n.length===1?n[0]:function(e){return n.reduce((i,o)=>o(i),e)}}var De=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,o){let r=sP(e)?e:new cr(e,i,o);return ia(()=>{let{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=Z_(i),new i((o,r)=>{let s=new cr({next:a=>{try{e(a)}catch(l){r(l),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[oa](){return this}pipe(...e){return jm(e)(this)}toPromise(e){return e=Z_(e),new e((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return n.create=t=>new n(t),n})();function Z_(n){var t;return(t=n??Oi.Promise)!==null&&t!==void 0?t:Promise}function rP(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}function sP(n){return n&&n instanceof Qr||rP(n)&&Hu(n)}function aP(n){return xe(n?.lift)}function Qe(n){return t=>{if(aP(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(n,t,e,i,o){return new Wm(n,t,e,i,o)}var Wm=class extends Qr{constructor(t,e,i,o,r,s){super(t),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var J_=ta(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var bt=(()=>{class n extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new $u(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new J_}next(e){ia(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){ia(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ia(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:o,observers:r}=this;return i||o?Vm:(this.currentObservers=null,r.push(e),new gt(()=>{this.currentObservers=null,jr(r,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:o,isStopped:r}=this;i?e.error(o):r&&e.complete()}asObservable(){let e=new De;return e.source=this,e}}return n.create=(t,e)=>new $u(t,e),n})(),$u=class extends bt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Vm}};var St=class extends bt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Qm={now(){return(Qm.delegate||Date).now()},delegate:void 0};var ju=class extends gt{constructor(t,e){super()}schedule(t,e=0){return this}};var Rl={setInterval(n,t,...e){let{delegate:i}=Rl;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Rl;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Wu=class extends ju{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let o=this.id,r=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Rl.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&Rl.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,o;try{this.work(t)}catch(r){i=!0,o=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,jr(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var ra=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};ra.now=Qm.now;var Qu=class extends ra{constructor(t,e=ra.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var Ym=new Qu(Wu),eb=Ym;var Xt=new De(n=>n.complete());function Yu(n){return n&&xe(n.schedule)}function tb(n){return n[n.length-1]}function sa(n){return xe(tb(n))?n.pop():void 0}function ur(n){return Yu(tb(n))?n.pop():void 0}function Kt(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r}function ib(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}function nb(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yr(n){return this instanceof Yr?(this.v=n,this):new Yr(n)}function ob(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(m){return function(b){return Promise.resolve(b).then(m,d)}}function a(m,b){i[m]&&(o[m]=function(_){return new Promise(function(S,T){r.push([m,_,S,T])>1||l(m,_)})},b&&(o[m]=b(o[m])))}function l(m,b){try{c(i[m](b))}catch(_){h(r[0][3],_)}}function c(m){m.value instanceof Yr?Promise.resolve(m.value.v).then(u,d):h(r[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,b){m(b),r.shift(),r.length&&l(r[0][0],r[0][1])}}function rb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof nb=="function"?nb(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(s){return new Promise(function(a,l){s=n[r](s),o(a,l,s.done,s.value)})}}function o(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}}var Xu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ku(n){return xe(n?.then)}function Zu(n){return xe(n[oa])}function Ju(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function ed(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var td=lP();function nd(n){return xe(n?.[td])}function id(n){return ob(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:o}=yield Yr(e.read());if(o)return yield Yr(void 0);yield yield Yr(i)}}finally{e.releaseLock()}})}function od(n){return xe(n?.getReader)}function wt(n){if(n instanceof De)return n;if(n!=null){if(Zu(n))return cP(n);if(Xu(n))return uP(n);if(Ku(n))return dP(n);if(Ju(n))return sb(n);if(nd(n))return fP(n);if(od(n))return gP(n)}throw ed(n)}function cP(n){return new De(t=>{let e=n[oa]();if(xe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uP(n){return new De(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function dP(n){return new De(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Uu)})}function fP(n){return new De(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function sb(n){return new De(t=>{hP(n,t).catch(e=>t.error(e))})}function gP(n){return sb(id(n))}function hP(n,t){var e,i,o,r;return ib(this,void 0,void 0,function*(){try{for(e=rb(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}t.complete()})}function On(n,t,e,i=0,o=!1){let r=t.schedule(function(){e(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!o)return r}function rd(n,t=0){return Qe((e,i)=>{e.subscribe(Ue(i,o=>On(i,n,()=>i.next(o),t),()=>On(i,n,()=>i.complete(),t),o=>On(i,n,()=>i.error(o),t)))})}function sd(n,t=0){return Qe((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ab(n,t){return wt(n).pipe(sd(t),rd(t))}function lb(n,t){return wt(n).pipe(sd(t),rd(t))}function cb(n,t){return new De(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function ub(n,t){return new De(e=>{let i;return On(e,t,()=>{i=n[td](),On(e,t,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){e.error(s);return}r?e.complete():e.next(o)},0,!0)}),()=>xe(i?.return)&&i.return()})}function ad(n,t){if(!n)throw new Error("Iterable cannot be null");return new De(e=>{On(e,t,()=>{let i=n[Symbol.asyncIterator]();On(e,t,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function db(n,t){return ad(id(n),t)}function fb(n,t){if(n!=null){if(Zu(n))return ab(n,t);if(Xu(n))return cb(n,t);if(Ku(n))return lb(n,t);if(Ju(n))return ad(n,t);if(nd(n))return ub(n,t);if(od(n))return db(n,t)}throw ed(n)}function Ke(n,t){return t?fb(n,t):wt(n)}function _e(...n){let t=ur(n);return Ke(n,t)}function Xr(n,t){let e=xe(n)?n:()=>n,i=o=>o.error(e());return new De(t?o=>t.schedule(i,0,o):i)}function ld(n){return!!n&&(n instanceof De||xe(n.lift)&&xe(n.subscribe))}var Ao=ta(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xm(n,t){let e=typeof t=="object";return new Promise((i,o)=>{let r=new cr({next:s=>{i(s),r.unsubscribe()},error:o,complete:()=>{e?i(t.defaultValue):o(new Ao)}});n.subscribe(r)})}function gb(n){return n instanceof Date&&!isNaN(n)}function Te(n,t){return Qe((e,i)=>{let o=0;e.subscribe(Ue(i,r=>{i.next(n.call(t,r,o++))}))})}var{isArray:mP}=Array;function pP(n,t){return mP(t)?n(...t):n(t)}function cd(n){return Te(t=>pP(n,t))}var{isArray:CP}=Array,{getPrototypeOf:vP,prototype:yP,keys:_P}=Object;function ud(n){if(n.length===1){let t=n[0];if(CP(t))return{args:t,keys:null};if(bP(t)){let e=_P(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function bP(n){return n&&typeof n=="object"&&vP(n)===yP}function dd(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}function fd(...n){let t=ur(n),e=sa(n),{args:i,keys:o}=ud(n);if(i.length===0)return Ke([],t);let r=new De(SP(i,t,o?s=>dd(o,s):Ri));return e?r.pipe(cd(e)):r}function SP(n,t,e=Ri){return i=>{hb(t,()=>{let{length:o}=n,r=new Array(o),s=o,a=o;for(let l=0;l<o;l++)hb(t,()=>{let c=Ke(n[l],t),u=!1;c.subscribe(Ue(i,d=>{r[l]=d,u||(u=!0,a--),a||i.next(e(r.slice()))},()=>{--s||i.complete()}))},i)},i)}}function hb(n,t,e){n?On(e,n,t):t()}function mb(n,t,e,i,o,r,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},m=_=>c<i?b(_):l.push(_),b=_=>{r&&t.next(_),c++;let S=!1;wt(e(_,u++)).subscribe(Ue(t,T=>{o?.(T),r?m(T):t.next(T)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){let T=l.shift();s?On(t,s,()=>b(T)):b(T)}h()}catch(T){t.error(T)}}))};return n.subscribe(Ue(t,m,()=>{d=!0,h()})),()=>{a?.()}}function Ft(n,t,e=1/0){return xe(t)?Ft((i,o)=>Te((r,s)=>t(i,r,o,s))(wt(n(i,o))),e):(typeof t=="number"&&(e=t),Qe((i,o)=>mb(i,o,n,e)))}function aa(n=1/0){return Ft(Ri,n)}function pb(){return aa(1)}function la(...n){return pb()(Ke(n,ur(n)))}function Al(n){return new De(t=>{wt(n()).subscribe(t)})}function Km(...n){let t=sa(n),{args:e,keys:i}=ud(n),o=new De(r=>{let{length:s}=e;if(!s){r.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;wt(e[u]).subscribe(Ue(r,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||r.next(i?dd(i,a):a),r.complete())}))}});return t?o.pipe(cd(t)):o}function ca(n=0,t,e=eb){let i=-1;return t!=null&&(Yu(t)?e=t:i=t),new De(o=>{let r=gb(n)?+n-e.now():n;r<0&&(r=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=i?this.schedule(void 0,i):o.complete())},r)})}function Zm(n=0,t=Ym){return n<0&&(n=0),ca(n,n,t)}var{isArray:wP}=Array;function Cb(n){return n.length===1&&wP(n[0])?n[0]:n}function Rn(n,t){return Qe((e,i)=>{let o=0;e.subscribe(Ue(i,r=>n.call(t,r,o++)&&i.next(r)))})}function Jm(...n){let t=sa(n),e=Cb(n);return e.length?new De(i=>{let o=e.map(()=>[]),r=e.map(()=>!1);i.add(()=>{o=r=null});for(let s=0;!i.closed&&s<e.length;s++)wt(e[s]).subscribe(Ue(i,a=>{if(o[s].push(a),o.every(l=>l.length)){let l=o.map(c=>c.shift());i.next(t?t(...l):l),o.some((c,u)=>!c.length&&r[u])&&i.complete()}},()=>{r[s]=!0,!o[s].length&&i.complete()}));return()=>{o=r=null}}):Xt}function Xn(n){return Qe((t,e)=>{let i=null,o=!1,r;i=t.subscribe(Ue(e,void 0,void 0,s=>{r=wt(n(s,Xn(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(e))})}function dr(n,t){return xe(t)?Ft(n,t,1):Ft(n,1)}function ep(n){return Qe((t,e)=>{let i=!1;t.subscribe(Ue(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function Ai(n){return n<=0?()=>Xt:Qe((t,e)=>{let i=0;t.subscribe(Ue(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function vb(n=MP){return Qe((t,e)=>{let i=!1;t.subscribe(Ue(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function MP(){return new Ao}function Kn(n){return Qe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function No(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Rn((o,r)=>n(o,r,i)):Ri,Ai(1),e?ep(t):vb(()=>new Ao))}function gd(n){return n<=0?()=>Xt:Qe((t,e)=>{let i=[];t.subscribe(Ue(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(let o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function tp(...n){let t=ur(n);return Qe((e,i)=>{(t?la(n,e,t):la(n,e)).subscribe(i)})}function Lt(n,t){return Qe((e,i)=>{let o=null,r=0,s=!1,a=()=>s&&!o&&i.complete();e.subscribe(Ue(i,l=>{o?.unsubscribe();let c=0,u=r++;wt(n(l,u)).subscribe(o=Ue(i,d=>i.next(t?t(l,d,u,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Kr(n){return Qe((t,e)=>{wt(n).subscribe(Ue(e,()=>e.complete(),Ol)),!e.closed&&t.subscribe(e)})}function Zt(n,t,e){let i=xe(n)||t||e?{next:n,error:t,complete:e}:n;return i?Qe((o,r)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;o.subscribe(Ue(r,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),r.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),r.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),r.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Ri}var np;function hd(){return np}function Ji(n){let t=np;return np=n,t}var yb=Symbol("NotFound");function ua(n){return n===yb||n?.name==="\u0275NotFound"}var bd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",J=class extends Error{code;constructor(t,e){super(no(t,e)),this.code=t}};function xP(n){return`NG0${Math.abs(n)}`}function no(n,t){return`${xP(n)}${t?": "+t:""}`}var xt=globalThis;function Ye(n){for(let t in n)if(n[t]===Ye)return t;throw Error("")}function Mb(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Fo(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Fo).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function Sd(n,t){return n?t?`${n} ${t}`:n:t||""}var TP=Ye({__forward_ref__:Ye});function bi(n){return n.__forward_ref__=bi,n.toString=function(){return Fo(this())},n}function on(n){return mp(n)?n():n}function mp(n){return typeof n=="function"&&n.hasOwnProperty(TP)&&n.__forward_ref__===bi}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pe(n){return{providers:n.providers||[],imports:n.imports||[]}}function zl(n){return DP(n,wd)}function pp(n){return zl(n)!==null}function DP(n,t){return n.hasOwnProperty(t)&&n[t]||null}function IP(n){let t=n?.[wd]??null;return t||null}function op(n){return n&&n.hasOwnProperty(pd)?n[pd]:null}var wd=Ye({\u0275prov:Ye}),pd=Ye({\u0275inj:Ye}),oe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=L({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cp(n){return n&&!!n.\u0275providers}var vp=Ye({\u0275cmp:Ye}),yp=Ye({\u0275dir:Ye}),Hl=Ye({\u0275pipe:Ye}),_p=Ye({\u0275mod:Ye}),Bl=Ye({\u0275fac:Ye}),ns=Ye({__NG_ELEMENT_ID__:Ye}),_b=Ye({__NG_ENV_ID__:Ye});function Ni(n){return typeof n=="string"?n:n==null?"":String(n)}function xb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ni(n)}var Tb=Ye({ngErrorCode:Ye}),EP=Ye({ngErrorMessage:Ye}),PP=Ye({ngTokenPath:Ye});function bp(n,t){return Db("",-200,t)}function Md(n,t){throw new J(-201,!1)}function Db(n,t,e){let i=new J(t,n);return i[Tb]=t,i[EP]=n,e&&(i[PP]=e),i}function kP(n){return n[Tb]}var rp;function Ib(){return rp}function bn(n){let t=rp;return rp=n,t}function Sp(n,t,e){let i=zl(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;Md(n,"Injector")}var OP={},Zr=OP,RP="__NG_DI_FLAG__",sp=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=Jr(e)||0;try{return this.injector.get(t,i&8?null:Zr,i)}catch(o){if(ua(o))return o;throw o}}};function AP(n,t=0){let e=hd();if(e===void 0)throw new J(-203,!1);if(e===null)return Sp(n,void 0,t);{let i=NP(t),o=e.retrieve(n,i);if(ua(o)){if(i.optional)return null;throw o}return o}}function ce(n,t=0){return(Ib()||AP)(on(n),t)}function p(n,t){return ce(n,Jr(t))}function Jr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function NP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ap(n){let t=[];for(let e=0;e<n.length;e++){let i=on(n[e]);if(Array.isArray(i)){if(i.length===0)throw new J(900,!1);let o,r=0;for(let s=0;s<i.length;s++){let a=i[s],l=BP(a);typeof l=="number"?l===-1?o=a.token:r|=l:o=a}t.push(ce(o,r))}else t.push(ce(i))}return t}function BP(n){return n[RP]}function fr(n,t){let e=n.hasOwnProperty(Bl);return e?n[Bl]:null}function Eb(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],r=t[i];if(e&&(o=e(o),r=e(r)),r!==o)return!1}return!0}function Pb(n){return n.flat(Number.POSITIVE_INFINITY)}function xd(n,t){n.forEach(e=>Array.isArray(e)?xd(e,t):t(e))}function wp(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ul(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function kb(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function Ob(n,t,e,i){let o=n.length;if(o==t)n.push(e,i);else if(o===1)n.push(i,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let r=o-2;n[o]=n[r],o--}n[t]=e,n[t+1]=i}}function Td(n,t,e){let i=fa(n,t);return i>=0?n[i|1]=e:(i=~i,Ob(n,i,t,e)),i}function Dd(n,t){let e=fa(n,t);if(e>=0)return n[e|1]}function fa(n,t){return FP(n,t,1)}function FP(n,t,e){let i=0,o=n.length>>e;for(;o!==i;){let r=i+(o-i>>1),s=n[r<<e];if(t===s)return r<<e;s>t?o=r:i=r+1}return~(o<<e)}var mr={},hn=[],Lo=new oe(""),Mp=new oe("",-1),xp=new oe(""),Fl=class{get(t,e=Zr){if(e===Zr){let o=Db("",-201);throw o.name="\u0275NotFound",o}return e}};function Tp(n){return n[_p]||null}function Go(n){return n[vp]||null}function Dp(n){return n[yp]||null}function Rb(n){return n[Hl]||null}function Vo(n){return{\u0275providers:n}}function Ab(...n){return{\u0275providers:Ip(!0,n),\u0275fromNgModule:!0}}function Ip(n,...t){let e=[],i=new Set,o,r=s=>{e.push(s)};return xd(t,s=>{let a=s;Cd(a,r,[],i)&&(o||=[],o.push(a))}),o!==void 0&&Nb(o,r),e}function Nb(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:o}=n[e];Ep(o,r=>{t(r,i)})}}function Cd(n,t,e,i){if(n=on(n),!n)return!1;let o=null,r=op(n),s=!r&&Go(n);if(!r&&!s){let l=n.ngModule;if(r=op(l),r)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=i.has(o);if(s){if(a)return!1;if(i.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Cd(c,t,e,i)}}else if(r){if(r.imports!=null&&!a){i.add(o);let c;try{xd(r.imports,u=>{Cd(u,t,e,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Nb(c,t)}if(!a){let c=fr(o)||(()=>new o);t({provide:o,useFactory:c,deps:hn},o),t({provide:xp,useValue:o,multi:!0},o),t({provide:Lo,useValue:()=>ce(o),multi:!0},o)}let l=r.providers;if(l!=null&&!a){let c=n;Ep(l,u=>{t(u,c)})}}else return!1;return o!==n&&n.providers!==void 0}function Ep(n,t){for(let e of n)Cp(e)&&(e=e.\u0275providers),Array.isArray(e)?Ep(e,t):t(e)}var LP=Ye({provide:String,useValue:Ye});function Bb(n){return n!==null&&typeof n=="object"&&LP in n}function GP(n){return!!(n&&n.useExisting)}function VP(n){return!!(n&&n.useFactory)}function es(n){return typeof n=="function"}function Fb(n){return!!n.useClass}var ql=new oe(""),md={},bb={},ip;function $l(){return ip===void 0&&(ip=new Fl),ip}var Mt=class{},ts=class extends Mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,cp(t,s=>this.processProvider(s)),this.records.set(Mp,da(void 0,this)),o.has("environment")&&this.records.set(Mt,da(void 0,this));let r=this.records.get(ql);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(xp,hn,{self:!0}))}retrieve(t,e){let i=Jr(e)||0;try{return this.get(t,Zr,i)}catch(o){if(ua(o))return o;throw o}}destroy(){Nl(this),this._destroyed=!0;let t=me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(t)}}onDestroy(t){return Nl(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Nl(this);let e=Ji(this),i=bn(void 0),o;try{return t()}finally{Ji(e),bn(i)}}get(t,e=Zr,i){if(Nl(this),t.hasOwnProperty(_b))return t[_b](this);let o=Jr(i),r,s=Ji(this),a=bn(void 0);try{if(!(o&4)){let c=this.records.get(t);if(c===void 0){let u=$P(t)&&zl(t);u&&this.injectableDefInScope(u)?c=da(lp(t),md):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,o)}let l=o&2?$l():this.parent;return e=o&8&&e===Zr?null:e,l.get(t,e)}catch(l){let c=kP(l);throw c===-200||c===-201?new J(c,null):l}finally{bn(a),Ji(s)}}resolveInjectorInitializers(){let t=me(null),e=Ji(this),i=bn(void 0),o;try{let r=this.get(Lo,hn,{self:!0});for(let s of r)s()}finally{Ji(e),bn(i),me(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Fo(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=on(t);let e=es(t)?t:on(t&&t.provide),i=HP(t);if(!es(t)&&t.multi===!0){let o=this.records.get(e);o||(o=da(void 0,md,!0),o.factory=()=>ap(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let o=me(null);try{if(e.value===bb)throw bp(Fo(t));return e.value===md&&(e.value=bb,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&qP(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{me(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=on(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function lp(n){let t=zl(n),e=t!==null?t.factory:fr(n);if(e!==null)return e;if(n instanceof oe)throw new J(204,!1);if(n instanceof Function)return zP(n);throw new J(204,!1)}function zP(n){if(n.length>0)throw new J(204,!1);let e=IP(n);return e!==null?()=>e.factory(n):()=>new n}function HP(n){if(Bb(n))return da(void 0,n.useValue);{let t=Pp(n);return da(t,md)}}function Pp(n,t,e){let i;if(es(n)){let o=on(n);return fr(o)||lp(o)}else if(Bb(n))i=()=>on(n.useValue);else if(VP(n))i=()=>n.useFactory(...ap(n.deps||[]));else if(GP(n))i=(o,r)=>ce(on(n.useExisting),r!==void 0&&r&8?8:void 0);else{let o=on(n&&(n.useClass||n.provide));if(UP(n))i=()=>new o(...ap(n.deps));else return fr(o)||lp(o)}return i}function Nl(n){if(n.destroyed)throw new J(205,!1)}function da(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function UP(n){return!!n.deps}function qP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $P(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function cp(n,t){for(let e of n)Array.isArray(e)?cp(e,t):e&&Cp(e)?cp(e.\u0275providers,t):t(e)}function Jt(n,t){let e;n instanceof ts?(Nl(n),e=n):e=new sp(n);let i,o=Ji(e),r=bn(void 0);try{return t()}finally{Ji(o),bn(r)}}function kp(){return Ib()!==void 0||hd()!=null}var Bi=0,fe=1,be=2,qt=3,Si=4,Sn=5,is=6,ga=7,ht=8,wn=9,io=10,tt=11,ha=12,Op=13,os=14,Mn=15,zo=16,rs=17,oo=18,ma=19,Rp=20,Bo=21,Id=22,gr=23,Zn=24,ss=25,Ho=26,rt=27,Lb=1,Ap=6,pr=7,jl=8,as=9,Tt=10;function Fi(n){return Array.isArray(n)&&typeof n[Lb]=="object"}function Li(n){return Array.isArray(n)&&n[Lb]===!0}function Np(n){return(n.flags&4)!==0}function Cr(n){return n.componentOffset>-1}function pa(n){return(n.flags&1)===1}function ro(n){return!!n.template}function Ca(n){return(n[be]&512)!==0}function ls(n){return(n[be]&256)===256}var Bp="svg",Gb="math";function xn(n){for(;Array.isArray(n);)n=n[Bi];return n}function Fp(n,t){return xn(t[n])}function Jn(n,t){return xn(t[n.index])}function Wl(n,t){return n.data[t]}function Ed(n,t){return n[t]}function Lp(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function An(n,t){let e=t[n];return Fi(e)?e:e[Bi]}function Vb(n){return(n[be]&4)===4}function Pd(n){return(n[be]&128)===128}function zb(n){return Li(n[qt])}function so(n,t){return t==null?null:n[t]}function Gp(n){n[rs]=0}function Vp(n){n[be]&1024||(n[be]|=1024,Pd(n)&&cs(n))}function Hb(n,t){for(;n>0;)t=t[os],n--;return t}function Ql(n){return!!(n[be]&9216||n[Zn]?.dirty)}function kd(n){n[io].changeDetectionScheduler?.notify(8),n[be]&64&&(n[be]|=1024),Ql(n)&&cs(n)}function cs(n){n[io].changeDetectionScheduler?.notify(0);let t=hr(n);for(;t!==null&&!(t[be]&8192||(t[be]|=8192,!Pd(t)));)t=hr(t)}function zp(n,t){if(ls(n))throw new J(911,!1);n[Bo]===null&&(n[Bo]=[]),n[Bo].push(t)}function Ub(n,t){if(n[Bo]===null)return;let e=n[Bo].indexOf(t);e!==-1&&n[Bo].splice(e,1)}function hr(n){let t=n[qt];return Li(t)?t[qt]:t}function Hp(n){return n[ga]??=[]}function Up(n){return n.cleanup??=[]}function qb(n,t,e,i){let o=Hp(t);o.push(e),n.firstCreatePass&&Up(n).push(i,o.length-1)}var Ie={lFrame:iS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var up=!1;function $b(){return Ie.lFrame.elementDepthCount}function jb(){Ie.lFrame.elementDepthCount++}function Wb(){Ie.lFrame.elementDepthCount--}function Od(){return Ie.bindingsEnabled}function qp(){return Ie.skipHydrationRootTNode!==null}function Qb(n){return Ie.skipHydrationRootTNode===n}function Yb(){Ie.skipHydrationRootTNode=null}function he(){return Ie.lFrame.lView}function mt(){return Ie.lFrame.tView}function O(n){return Ie.lFrame.contextLView=n,n[ht]}function R(n){return Ie.lFrame.contextLView=null,n}function en(){let n=$p();for(;n!==null&&n.type===64;)n=n.parent;return n}function $p(){return Ie.lFrame.currentTNode}function Xb(){let n=Ie.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function va(n,t){let e=Ie.lFrame;e.currentTNode=n,e.isParent=t}function jp(){return Ie.lFrame.isParent}function Wp(){Ie.lFrame.isParent=!1}function Qp(){return up}function Ll(n){let t=up;return up=n,t}function us(){let n=Ie.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Yp(){return Ie.lFrame.bindingIndex}function Kb(n){return Ie.lFrame.bindingIndex=n}function ds(){return Ie.lFrame.bindingIndex++}function Yl(n){let t=Ie.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Zb(){return Ie.lFrame.inI18n}function Jb(n,t){let e=Ie.lFrame;e.bindingIndex=e.bindingRootIndex=n,Rd(t)}function eS(){return Ie.lFrame.currentDirectiveIndex}function Rd(n){Ie.lFrame.currentDirectiveIndex=n}function tS(n){let t=Ie.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Xp(){return Ie.lFrame.currentQueryIndex}function Ad(n){Ie.lFrame.currentQueryIndex=n}function jP(n){let t=n[fe];return t.type===2?t.declTNode:t.type===1?n[Sn]:null}function Kp(n,t,e){if(e&4){let o=t,r=n;for(;o=o.parent,o===null&&!(e&1);)if(o=jP(r),o===null||(r=r[os],o.type&10))break;if(o===null)return!1;t=o,n=r}let i=Ie.lFrame=nS();return i.currentTNode=t,i.lView=n,!0}function Nd(n){let t=nS(),e=n[fe];Ie.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function nS(){let n=Ie.lFrame,t=n===null?null:n.child;return t===null?iS(n):t}function iS(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function oS(){let n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Zp=oS;function Bd(){let n=oS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rS(n){return(Ie.lFrame.contextLView=Hb(n,Ie.lFrame.contextLView))[ht]}function Gi(){return Ie.lFrame.selectedIndex}function vr(n){Ie.lFrame.selectedIndex=n}function Fd(){let n=Ie.lFrame;return Wl(n.tView,n.selectedIndex)}function Xl(){Ie.lFrame.currentNamespace=Bp}function sS(){return Ie.lFrame.currentNamespace}var aS=!0;function Ld(){return aS}function Kl(n){aS=n}function dp(n,t=null,e=null,i){let o=Jp(n,t,e,i);return o.resolveInjectorInitializers(),o}function Jp(n,t=null,e=null,i,o=new Set){let r=[e||hn,Ab(n)];return i=i||(typeof n=="object"?void 0:Fo(n)),new ts(r,t||$l(),i||null,o)}var $t=class n{static THROW_IF_NOT_FOUND=Zr;static NULL=new Fl;static create(t,e){if(Array.isArray(t))return dp({name:""},e,t,"");{let i=t.name??"";return dp({name:i},t.parent,t.providers,i)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>ce(Mp)});static __NG_ELEMENT_ID__=-1},lt=new oe(""),ei=(()=>{class n{static __NG_ELEMENT_ID__=WP;static __NG_ENV_ID__=e=>e}return n})(),vd=class extends ei{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ls(this._lView)}onDestroy(t){let e=this._lView;return zp(e,t),()=>Ub(e,t)}};function WP(){return new vd(he())}var e0=!1,ao=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new St(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new De(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),fp=class extends bt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,kp()&&(this.destroyRef=p(ei,{optional:!0})??void 0,this.pendingTasks=p(ao,{optional:!0})??void 0)}emit(t){let e=me(null);try{super.next(t)}finally{me(e)}}subscribe(t,e,i){let o=t,r=e||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;o=l.next?.bind(l),r=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:r,complete:s});return t instanceof gt&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Z=fp;function yd(...n){}function t0(n){let t,e;function i(){n=yd;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function n0(n){return queueMicrotask(()=>n()),()=>{n=yd}}var i0="isAngularZone",Gl=i0+"_ID",QP=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Z(!1);onMicrotaskEmpty=new Z(!1);onStable=new Z(!1);onError=new Z(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=e0}=t;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&i,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,KP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(i0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new J(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,t,YP,yd,yd);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},YP={};function o0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){t0(()=>{n.callbackScheduled=!1,gp(n),n.isCheckStableRunning=!0,o0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),gp(n)}function KP(n){let t=()=>{XP(n)},e=QP++;n._inner=n._inner.fork({name:"angular",properties:{[i0]:!0,[Gl]:e,[Gl+e]:!0},onInvokeTask:(i,o,r,s,a,l)=>{if(ZP(l))return i.invokeTask(r,s,a,l);try{return Sb(n),i.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),wb(n)}},onInvoke:(i,o,r,s,a,l,c)=>{try{return Sb(n),i.invoke(r,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!JP(l)&&t(),wb(n)}},onHasTask:(i,o,r,s)=>{i.hasTask(r,s),o===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,gp(n),o0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,o,r,s)=>(i.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function gp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Sb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wb(n){n._nesting--,o0(n)}var Vl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Z;onMicrotaskEmpty=new Z;onStable=new Z;onError=new Z;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,o){return t.apply(e,i)}};function ZP(n){return lS(n,"__ignore_ng_zone__")}function JP(n){return lS(n,"__scheduler_tick__")}function lS(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var eo=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ti=new oe("",{factory:()=>{let n=p(Oe),t=p(Mt),e;return i=>{n.runOutsideAngular(()=>{t.destroyed&&!e?setTimeout(()=>{throw i}):(e??=t.get(eo),e.handleError(i))})}}}),cS={provide:Lo,useValue:()=>{let n=p(eo,{optional:!0})},multi:!0};function w(n,t){let[e,i,o]=Bm(n,t?.equal),r=e,s=r[_n];return r.set=i,r.update=o,r.asReadonly=uS.bind(r),r}function uS(){let n=this[_n];if(n.readonlyFn===void 0){let t=()=>this();t[_n]=n,n.readonlyFn=t}return n.readonlyFn}var Zl=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=ek}return n})();function ek(){return new Zl(he(),en())}var to=class{},ya=new oe("",{factory:()=>!0});var Gd=new oe(""),Jl=(()=>{class n{internalPendingTasks=p(ao);scheduler=p(to);errorHandler=p(ti);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vd=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new hp})}return n})(),hp=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}},_d=class{[_n];constructor(t){this[_n]=t}destroy(){this[_n].destroy()}};function ec(n,t){let e=t?.injector??p($t),i=t?.manualCleanup!==!0?e.get(ei):null,o,r=e.get(Zl,null,{optional:!0}),s=e.get(to);return r!==null?(o=ik(r.view,s,n),i instanceof vd&&i._lView===r.view&&(i=null)):o=ok(n,e.get(Vd),s),o.injector=e,i!==null&&(o.onDestroyFns=[i.onDestroy(()=>o.destroy())]),new _d(o)}var dS=Se($({},Lm),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=Ll(!1);try{Gm(this)}finally{Ll(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=me(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],me(n)}}}),tk=Se($({},dS),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if($r(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),nk=Se($({},dS),{consumerMarkedDirty(){this.view[be]|=8192,cs(this.view),this.notifier.notify(13)},destroy(){if($r(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[gr]?.delete(this)}});function ik(n,t,e){let i=Object.create(nk);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=fS(i,e),n[gr]??=new Set,n[gr].add(i),i.consumerMarkedDirty(i),i}function ok(n,t,e){let i=Object.create(tk);return i.fn=fS(i,n),i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function fS(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}function Gt(n){return Fm(n)}function gc(n){return{toString:n}.toString()}function KS(n){let t=xt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function dk(n){return typeof n=="function"}function ZS(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var Xd=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}},Pe=(()=>{let n=()=>JS;return n.ngInherit=!0,n})();function JS(n){return n.type.prototype.ngOnChanges&&(n.setInput=gk),fk}function fk(){let n=tw(this),t=n?.current;if(t){let e=n.previous;if(e===mr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function gk(n,t,e,i,o){let r=this.declaredInputs[i],s=tw(n)||hk(n,{previous:mr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[r];a[r]=new Xd(c&&c.currentValue,e,l===mr),ZS(n,t,o,e)}var ew="__ngSimpleChanges__";function tw(n){return n[ew]||null}function hk(n,t){return n[ew]=t}var gS=[];var nt=function(n,t=null,e){for(let i=0;i<gS.length;i++){let o=gS[i];o(n,t,e)}},$e=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})($e||{});function mk(n,t,e){let{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=t.type.prototype;if(i){let s=JS(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}o&&(e.preOrderHooks??=[]).push(0-n,o),r&&((e.preOrderHooks??=[]).push(n,r),(e.preOrderCheckHooks??=[]).push(n,r))}function nw(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let r=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function jd(n,t,e){iw(n,t,3,e)}function Wd(n,t,e,i){(n[be]&3)===e&&iw(n,t,e,i)}function r0(n,t){let e=n[be];(e&3)===t&&(e&=16383,e+=1,n[be]=e)}function iw(n,t,e,i){let o=i!==void 0?n[rs]&65535:0,r=i??-1,s=t.length-1,a=0;for(let l=o;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(n[rs]+=65536),(a<r||r==-1)&&(pk(n,e,t,l),n[rs]=(n[rs]&4294901760)+l+2),l++}function hS(n,t){nt($e.LifecycleHookStart,n,t);let e=me(null);try{t.call(n)}finally{me(e),nt($e.LifecycleHookEnd,n,t)}}function pk(n,t,e,i){let o=e[i]<0,r=e[i+1],s=o?-e[i]:e[i],a=n[s];o?n[be]>>14<n[rs]>>16&&(n[be]&3)===t&&(n[be]+=16384,hS(a,r)):hS(a,r)}var ba=-1,hs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=i}};function Ck(n){return(n.flags&8)!==0}function vk(n){return(n.flags&16)!==0}function yk(n,t,e){let i=0;for(;i<e.length;){let o=e[i];if(typeof o=="number"){if(o!==0)break;i++;let r=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,r)}else{let r=o,s=e[++i];bk(r)?n.setProperty(t,r,s):n.setAttribute(t,r,s),i++}}return i}function _k(n){return n===3||n===4||n===6}function bk(n){return n.charCodeAt(0)===64}function oc(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let o=t[i];typeof o=="number"?e=o:e===0||(e===-1||e===2?mS(n,e,o,null,t[++i]):mS(n,e,o,null,null))}}return n}function mS(n,t,e,i,o){let r=0,s=n.length;if(t===-1)s=-1;else for(;r<n.length;){let a=n[r++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=r-1;break}}}for(;r<n.length;){let a=n[r];if(typeof a=="number")break;if(a===e){o!==null&&(n[r+1]=o);return}r++,o!==null&&r++}s!==-1&&(n.splice(s,0,t),r=s+1),n.splice(r++,0,e),o!==null&&n.splice(r++,0,o)}function ow(n){return n!==ba}function Kd(n){return n&32767}function Sk(n){return n>>16}function Zd(n,t){let e=Sk(n),i=t;for(;e>0;)i=i[os],e--;return i}var v0=!0;function Jd(n){let t=v0;return v0=n,t}var wk=256,rw=wk-1,sw=5,Mk=0,lo={};function xk(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(ns)&&(i=e[ns]),i==null&&(i=e[ns]=Mk++);let o=i&rw,r=1<<o;t.data[n+(o>>sw)]|=r}function ef(n,t){let e=aw(n,t);if(e!==-1)return e;let i=t[fe];i.firstCreatePass&&(n.injectorIndex=t.length,s0(i.data,n),s0(t,null),s0(i.blueprint,null));let o=eC(n,t),r=n.injectorIndex;if(ow(o)){let s=Kd(o),a=Zd(o,t),l=a[fe].data;for(let c=0;c<8;c++)t[r+c]=a[s+c]|l[s+c]}return t[r+8]=o,r}function s0(n,t){n.push(0,0,0,0,0,0,0,0,t)}function aw(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function eC(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,o=t;for(;o!==null;){if(i=fw(o),i===null)return ba;if(e++,o=o[os],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return ba}function y0(n,t,e){xk(n,t,e)}function lw(n,t,e){if(e&8||n!==void 0)return n;Md(t,"NodeInjector")}function cw(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let o=n[wn],r=bn(void 0);try{return o?o.get(t,i,e&8):Sp(t,i,e&8)}finally{bn(r)}}return lw(i,t,e)}function uw(n,t,e,i=0,o){if(n!==null){if(t[be]&2048&&!(i&2)){let s=Ek(n,t,e,i,lo);if(s!==lo)return s}let r=dw(n,t,e,i,lo);if(r!==lo)return r}return cw(t,e,i,o)}function dw(n,t,e,i,o){let r=Dk(e);if(typeof r=="function"){if(!Kp(t,n,i))return i&1?lw(o,e,i):cw(t,e,i,o);try{let s;if(s=r(i),s==null&&!(i&8))Md(e);else return s}finally{Zp()}}else if(typeof r=="number"){let s=null,a=aw(n,t),l=ba,c=i&1?t[Mn][Sn]:null;for((a===-1||i&4)&&(l=a===-1?eC(n,t):t[a+8],l===ba||!CS(i,!1)?a=-1:(s=t[fe],a=Kd(l),t=Zd(l,t)));a!==-1;){let u=t[fe];if(pS(r,a,u.data)){let d=Tk(a,t,e,s,i,c);if(d!==lo)return d}l=t[a+8],l!==ba&&CS(i,t[fe].data[a+8]===c)&&pS(r,a,t)?(s=u,a=Kd(l),t=Zd(l,t)):a=-1}}return o}function Tk(n,t,e,i,o,r){let s=t[fe],a=s.data[n+8],l=i==null?Cr(a)&&v0:i!=s&&(a.type&3)!==0,c=o&1&&r===a,u=Qd(a,s,e,l,c);return u!==null?rc(t,s,u,a,o):lo}function Qd(n,t,e,i,o){let r=n.providerIndexes,s=t.data,a=r&1048575,l=n.directiveStart,c=n.directiveEnd,u=r>>20,d=i?a:a+u,h=o?a+u:c;for(let m=d;m<h;m++){let b=s[m];if(m<l&&e===b||m>=l&&b.type===e)return m}if(o){let m=s[l];if(m&&ro(m)&&m.type===e)return l}return null}function rc(n,t,e,i,o){let r=n[e],s=t.data;if(r instanceof hs){let a=r;if(a.resolving){let m=xb(s[e]);throw bp(m)}let l=Jd(a.canSeeViewProviders);a.resolving=!0;let c=s[e].type||s[e],u,d=a.injectImpl?bn(a.injectImpl):null,h=Kp(n,i,0);try{r=n[e]=a.factory(void 0,o,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&mk(e,s[e],t)}finally{d!==null&&bn(d),Jd(l),a.resolving=!1,Zp()}}return r}function Dk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(ns)?n[ns]:void 0;return typeof t=="number"?t>=0?t&rw:Ik:t}function pS(n,t,e){let i=1<<n;return!!(e[t+(n>>sw)]&i)}function CS(n,t){return!(n&2)&&!(n&1&&t)}var fs=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return uw(this._tNode,this._lView,t,Jr(i),e)}};function Ik(){return new fs(en(),he())}function rn(n){return gc(()=>{let t=n.prototype.constructor,e=t[Bl]||_0(t),i=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;){let r=o[Bl]||_0(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function _0(n){return mp(n)?()=>{let t=_0(on(n));return t&&t()}:fr(n)}function Ek(n,t,e,i,o){let r=n,s=t;for(;r!==null&&s!==null&&s[be]&2048&&!Ca(s);){let a=dw(r,s,e,i|2,lo);if(a!==lo)return a;let l=r.parent;if(!l){let c=s[Rp];if(c){let u=c.get(e,lo,i);if(u!==lo)return u}l=fw(s),s=s[os]}r=l}return o}function fw(n){let t=n[fe],e=t.type;return e===2?t.declTNode:e===1?n[Sn]:null}function Pk(){return Da(en(),he())}function Da(n,t){return new Dt(Jn(n,t))}var Dt=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Pk}return n})();function kk(n){return n instanceof Dt?n.nativeElement:n}function Ok(){return this._results[Symbol.iterator]()}var tf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new bt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=Pb(t);(this._changesDetected=!Eb(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ok};function gw(n){return(n.flags&128)===128}var tC=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(tC||{}),nC=new Map,Rk=0;function Ak(){return Rk++}function Nk(n){nC.set(n[ma],n)}function hw(n){return nC.get(n)||null}function b0(n){nC.delete(n[ma])}var nf=class{lViewId;nodeIndex;native;component;directives;localRefs;get lView(){return hw(this.lViewId)}constructor(t,e,i){this.lViewId=t,this.nodeIndex=e,this.native=i}};function iC(n){let t=a0(n);if(t){if(Fi(t)){let e=t,i,o,r;if(mw(n)){if(i=Lk(e,n),i==-1)throw new Error("The provided component was not found in the application");o=n}else if(Bk(n)){if(i=Gk(e,n),i==-1)throw new Error("The provided directive was not found in the application");r=Vk(i,e)}else if(i=yS(e,n),i==-1)return null;let s=xn(e[i]),a=a0(s),l=a&&!Array.isArray(a)?a:vS(e,i,s);if(o&&l.component===void 0&&(l.component=o,co(l.component,l)),r&&l.directives===void 0){l.directives=r;for(let c=0;c<r.length;c++)co(r[c],l)}co(l.native,l),t=l}}else{let e=n,i=e;for(;i=i.parentNode;){let o=a0(i);if(o){let r=Array.isArray(o)?o:o.lView;if(!r)return null;let s=yS(r,e);if(s>=0){let a=xn(r[s]),l=vS(r,s,a);co(a,l),t=l;break}}}}return t||null}function vS(n,t,e){return new nf(n[ma],t,e)}var S0="__ngContext__";function co(n,t){Fi(t)?(n[S0]=t[ma],Nk(t)):n[S0]=t}function a0(n){let t=n[S0];return typeof t=="number"?hw(t):t||null}function mw(n){return n&&n.constructor&&n.constructor.\u0275cmp}function Bk(n){return n&&n.constructor&&n.constructor.\u0275dir}function yS(n,t){let e=n[fe];for(let i=rt;i<e.bindingStartIndex;i++)if(xn(n[i])===t)return i;return-1}function Fk(n){if(n.child)return n.child;if(n.next)return n.next;for(;n.parent&&!n.parent.next;)n=n.parent;return n.parent&&n.parent.next}function Lk(n,t){let e=n[fe].components;if(e)for(let i=0;i<e.length;i++){let o=e[i];if(An(o,n)[ht]===t)return o}else if(An(rt,n)[ht]===t)return rt;return-1}function Gk(n,t){let e=n[fe].firstChild;for(;e;){let i=e.directiveStart,o=e.directiveEnd;for(let r=i;r<o;r++)if(n[r]===t)return e.index;e=Fk(e)}return-1}function Vk(n,t){let e=t[fe].data[n];if(e.directiveStart===0)return hn;let i=[];for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t[o];mw(r)||i.push(r)}return i}function pw(n){return vw(n[ha])}function Cw(n){return vw(n[Si])}function vw(n){for(;n!==null&&!Li(n);)n=n[Si];return n}var w0;function oC(n){w0=n}function yw(){if(w0!==void 0)return w0;if(typeof document<"u")return document;throw new J(210,!1)}var Cf=new oe("",{factory:()=>zk}),zk="ng";var vf=new oe(""),hc=new oe("",{providedIn:"platform",factory:()=>"unknown"});var yf=new oe("",{factory:()=>p(lt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),_f={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},bf=new oe("",{factory:()=>_f});var _w="r";var bw="di";var Sw=!1,ww=new oe("",{factory:()=>Sw});var Sf=new oe("");var Hk=(n,t,e,i)=>{};function Uk(n,t,e,i){Hk(n,t,e,i)}function wf(n){return(n.flags&32)===32}var qk=()=>null;function Mw(n,t,e=!1){return qk(n,t,e)}function xw(n,t){let e=n.contentQueries;if(e!==null){let i=me(null);try{for(let o=0;o<e.length;o+=2){let r=e[o],s=e[o+1];if(s!==-1){let a=n.data[s];Ad(r),a.contentQueries(2,t[s],s)}}}finally{me(i)}}}function M0(n,t,e){Ad(0);let i=me(null);try{t(n,e)}finally{me(i)}}function rC(n,t,e){if(Np(t)){let i=me(null);try{let o=t.directiveStart,r=t.directiveEnd;for(let s=o;s<r;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{me(i)}}}var Hi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Hi||{});var zd;function $k(){if(zd===void 0&&(zd=null,xt.trustedTypes))try{zd=xt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zd}function Mf(n){return $k()?.createHTML(n)||n}var Hd;function jk(){if(Hd===void 0&&(Hd=null,xt.trustedTypes))try{Hd=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hd}function _S(n){return jk()?.createHTML(n)||n}var Uo=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bd})`}},x0=class extends Uo{getTypeName(){return"HTML"}},T0=class extends Uo{getTypeName(){return"Style"}},D0=class extends Uo{getTypeName(){return"Script"}},I0=class extends Uo{getTypeName(){return"URL"}},E0=class extends Uo{getTypeName(){return"ResourceURL"}};function ni(n){return n instanceof Uo?n.changingThisBreaksApplicationSecurity:n}function qo(n,t){let e=Tw(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${bd})`)}return e===t}function Tw(n){return n instanceof Uo&&n.getTypeName()||null}function sC(n){return new x0(n)}function aC(n){return new T0(n)}function lC(n){return new D0(n)}function cC(n){return new I0(n)}function uC(n){return new E0(n)}function Wk(n){let t=new k0(n);return Qk()?new P0(t):t}var P0=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Mf(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},k0=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Mf(t),e}};function Qk(){try{return!!new window.DOMParser().parseFromString(Mf(""),"text/html")}catch{return!1}}var Yk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mc(n){return n=String(n),n.match(Yk)?n:"unsafe:"+n}function $o(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function pc(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var Dw=$o("area,br,col,hr,img,wbr"),Iw=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ew=$o("rp,rt"),Xk=pc(Ew,Iw),Kk=pc(Iw,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zk=pc(Ew,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bS=pc(Dw,Kk,Zk,Xk),Pw=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jk=$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eO=$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),tO=pc(Pw,Jk,eO),nO=$o("script,style,template"),O0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,o=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){o.push(e),e=rO(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=oO(e);if(r){e=r;break}e=o.pop()}}return this.buf.join("")}startElement(t){let e=SS(t).toLowerCase();if(!bS.hasOwnProperty(e))return this.sanitizedSomething=!0,!nO.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let o=0;o<i.length;o++){let r=i.item(o),s=r.name,a=s.toLowerCase();if(!tO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;Pw[a]&&(l=mc(l)),this.buf.push(" ",s,'="',wS(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=SS(t).toLowerCase();bS.hasOwnProperty(e)&&!Dw.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(wS(t))}};function iO(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function oO(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw kw(t);return t}function rO(n){let t=n.firstChild;if(t&&iO(n,t))throw kw(t);return t}function SS(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function kw(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var sO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aO=/([^\#-~ |!])/g;function wS(n){return n.replace(/&/g,"&amp;").replace(sO,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(aO,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ud;function xf(n,t){let e=null;try{Ud=Ud||Wk(n);let i=t?String(t):"";e=Ud.getInertBodyElement(i);let o=5,r=i;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=e.innerHTML,e=Ud.getInertBodyElement(i)}while(i!==r);let a=new O0().sanitizeChildren(MS(e)||e);return Mf(a)}finally{if(e){let i=MS(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function MS(n){return"content"in n&&lO(n)?n.content:null}function lO(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var cO=/^>|^->|<!--|-->|--!>|<!-$/g,uO=/(<|>)/g,dO="\u200B$1\u200B";function fO(n){return n.replace(cO,t=>t.replace(uO,dO))}function gO(n,t){return n.createText(t)}function hO(n,t,e){n.setValue(t,e)}function mO(n,t){return n.createComment(fO(t))}function Ow(n,t,e){return n.createElement(t,e)}function of(n,t,e,i,o){n.insertBefore(t,e,i,o)}function Rw(n,t,e){n.appendChild(t,e)}function xS(n,t,e,i,o){i!==null?of(n,t,e,i,o):Rw(n,t,e)}function Aw(n,t,e,i){n.removeChild(null,t,e,i)}function pO(n,t,e){n.setAttribute(t,"style",e)}function CO(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Nw(n,t,e){let{mergedAttrs:i,classes:o,styles:r}=e;i!==null&&yk(n,t,i),o!==null&&CO(n,t,o),r!==null&&pO(n,t,r)}var ii=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(ii||{});function Le(n){let t=Bw();return t?_S(t.sanitize(ii.HTML,n)||""):qo(n,"HTML")?_S(ni(n)):xf(yw(),Ni(n))}function oi(n){let t=Bw();return t?t.sanitize(ii.URL,n)||"":qo(n,"URL")?ni(n):mc(Ni(n))}function Bw(){let n=he();return n&&n[io].sanitizer}function jt(n){return n.ownerDocument.defaultView}function Fw(n){return n instanceof Function?n():n}function vO(n,t,e){let i=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let r=t.length;if(o+r===i||n.charCodeAt(o+r)<=32)return o}e=o+1}}var Lw="ng-template";function yO(n,t,e,i){let o=0;if(i){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&vO(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(dC(n))return!1;if(o=t.indexOf(1,o),o>-1){let r;for(;++o<t.length&&typeof(r=t[o])=="string";)if(r.toLowerCase()===e)return!0}return!1}function dC(n){return n.type===4&&n.value!==Lw}function _O(n,t,e){let i=n.type===4&&!e?Lw:n.value;return t===i}function bO(n,t,e){let i=4,o=n.attrs,r=o!==null?MO(o):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Vi(i)&&!Vi(l))return!1;if(s&&Vi(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!_O(n,l,e)||l===""&&t.length===1){if(Vi(i))return!1;s=!0}}else if(i&8){if(o===null||!yO(n,o,l,e)){if(Vi(i))return!1;s=!0}}else{let c=t[++a],u=SO(l,o,dC(n),e);if(u===-1){if(Vi(i))return!1;s=!0;continue}if(c!==""){let d;if(u>r?d="":d=o[u+1].toLowerCase(),i&2&&c!==d){if(Vi(i))return!1;s=!0}}}}return Vi(i)||s}function Vi(n){return(n&1)===0}function SO(n,t,e,i){if(t===null)return-1;let o=0;if(i||!e){let r=!1;for(;o<t.length;){let s=t[o];if(s===n)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return xO(t,n)}function Gw(n,t,e=!1){for(let i=0;i<t.length;i++)if(bO(n,t[i],e))return!0;return!1}function wO(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function MO(n){for(let t=0;t<n.length;t++){let e=n[t];if(_k(e))return t}return n.length}function xO(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function TO(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let o=0;o<n.length;o++)if(n[o]!==i[o])continue e;return!0}}return!1}function TS(n,t){return n?":not("+t.trim()+")":t}function DO(n){let t=n[0],e=1,i=2,o="",r=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?o+="."+s:i&4&&(o+=" "+s);else o!==""&&!Vi(s)&&(t+=TS(r,o),o=""),i=s,r=r||!Vi(i);e++}return o!==""&&(t+=TS(r,o)),t}function IO(n){return n.map(DO).join(",")}function EO(n){let t=[],e=[],i=1,o=2;for(;i<n.length;){let r=n[i];if(typeof r=="string")o===2?r!==""&&t.push(r,n[++i]):o===8&&e.push(r);else{if(!Vi(o))break;o=r}i++}return e.length&&t.push(1,...e),t}var mn={};function fC(n,t,e,i,o,r,s,a,l,c,u){let d=rt+i,h=d+o,m=PO(d,h),b=typeof c=="function"?c():c;return m[fe]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:u}}function PO(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:mn);return e}function kO(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=fC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function gC(n,t,e,i,o,r,s,a,l,c,u){let d=t.blueprint.slice();return d[Bi]=o,d[be]=i|4|128|8|64|1024,(c!==null||n&&n[be]&2048)&&(d[be]|=2048),Gp(d),d[qt]=d[os]=n,d[ht]=e,d[io]=s||n&&n[io],d[tt]=a||n&&n[tt],d[wn]=l||n&&n[wn]||null,d[Sn]=r,d[ma]=Ak(),d[is]=u,d[Rp]=c,d[Mn]=t.type==2?n[Mn]:d,d}function OO(n,t,e){let i=Jn(t,n),o=kO(e),r=n[io].rendererFactory,s=hC(n,gC(n,o,null,Vw(e),i,t,null,r.createRenderer(i,e),null,null,null));return n[t.index]=s}function Vw(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function zw(n,t,e,i){if(e===0)return-1;let o=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return o}function hC(n,t){return n[ha]?n[Op][Si]=t:n[ha]=t,n[Op]=t,t}function f(n=1){Hw(mt(),he(),Gi()+n,!1)}function Hw(n,t,e,i){if(!i)if((t[be]&3)===3){let r=n.preOrderCheckHooks;r!==null&&jd(t,r,e)}else{let r=n.preOrderHooks;r!==null&&Wd(t,r,0,e)}vr(e)}var Tf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Tf||{});function R0(n,t,e,i){let o=me(null);try{let[r,s,a]=n.inputs[e],l=null;(s&Tf.SignalBased)!==0&&(l=t[r][_n]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),n.setInput!==null?n.setInput(t,l,i,e,r):ZS(t,l,r,i)}finally{me(o)}}var Ui=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ui||{}),RO;function mC(n,t){return RO(n,t)}function rf(n){if(!n)return 0;let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Sa(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function AO(n){let t=Sa(n,"transition-property"),e=Sa(n,"transition-duration"),i=Sa(n,"transition-delay"),o={propertyName:"",duration:0,animationName:void 0};for(let r=0;r<t.length;r++){let s=rf(i[r])+rf(e[r]);s>o.duration&&(o.propertyName=t[r],o.duration=s)}return o}function NO(n){let t=Sa(n,"animation-name"),e=Sa(n,"animation-delay"),i=Sa(n,"animation-duration"),o={animationName:"",propertyName:void 0,duration:0};for(let r=0;r<t.length;r++){let s=rf(e[r])+rf(i[r]);s>o.duration&&(o.animationName=t[r],o.duration=s)}return o}function Uw(n,t){return n!==void 0&&n.duration>t.duration}function qw(n){return(n.animationName!=null||n.propertyName!=null)&&n.duration>0}function BO(n,t){let e=getComputedStyle(n),i=NO(e),o=AO(e),r=i.duration>o.duration?i:o;Uw(t.get(n),r)||qw(r)&&t.set(n,r)}function $w(n,t,e){if(!e)return;let i=n.getAnimations();return i.length===0?BO(n,t):FO(n,t,i)}function FO(n,t,e){let i={animationName:void 0,propertyName:void 0,duration:0};for(let o of e){let r=o.effect?.getTiming(),s=typeof r?.duration=="number"?r.duration:0,a=(r?.delay??0)+s,l,c;o.animationName?c=o.animationName:l=o.transitionProperty,a>=i.duration&&(i={animationName:c,propertyName:l,duration:a})}Uw(t.get(n),i)||qw(i)&&t.set(n,i)}var yr=new Set,Df=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Df||{}),jo=new oe(""),DS=new Set;function Nn(n){DS.has(n)||(DS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var pC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),jw=[0,1,2,3],Ww=(()=>{class n{ngZone=p(Oe);scheduler=p(to);errorHandler=p(eo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){p(jo,{optional:!0})}execute(){let e=this.sequences.size>0;e&&nt($e.AfterRenderHooksStart),this.executing=!0;for(let i of jw)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[i]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=o.hooks[i];return r(o.pipelinedValue)},o.snapshot))}catch(r){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&nt($e.AfterRenderHooksEnd)}register(e){let{view:i}=e;i!==void 0?((i[ss]??=[]).push(e),cs(i),i[be]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(Df.AFTER_NEXT_RENDER,e):e()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),sf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,o,r,s=null){this.impl=t,this.hooks=e,this.view=i,this.once=o,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[ss];t&&(this.view[ss]=t.filter(e=>e!==this))}};function Cc(n,t){let e=t?.injector??p($t);return Nn("NgAfterNextRender"),GO(n,e,t,!0)}function LO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function GO(n,t,e,i){let o=t.get(pC);o.impl??=t.get(Ww);let r=t.get(jo,null,{optional:!0}),s=e?.manualCleanup!==!0?t.get(ei):null,a=t.get(Zl,null,{optional:!0}),l=new sf(o.impl,LO(n),a?.view,i,s,r?.snapshot(null));return o.impl.register(l),l}var If=new oe("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:p(Mt)})});function Qw(n,t,e){let i=n.get(If);if(Array.isArray(t))for(let o of t)i.queue.add(o),e?.detachedLeaveAnimationFns?.push(o);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function VO(n,t){let e=n.get(If);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)e.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function zO(n){let t=n.get(If);t.isScheduled||(Cc(()=>{t.isScheduled=!1;for(let e of t.queue)e();t.queue.clear()},{injector:t.injector}),t.isScheduled=!0)}function Yw(n){let t=n.get(If);t.scheduler=zO,t.scheduler(n)}function Xw(n,t){for(let[e,i]of t)Qw(n,i.animateFns)}function IS(n,t,e,i){let o=n?.[Ho]?.enter;t!==null&&o&&o.has(e.index)&&Xw(i,o)}function _a(n,t,e,i,o,r,s,a){if(o!=null){let l,c=!1;Li(o)?l=o:Fi(o)&&(c=!0,o=o[Bi]);let u=xn(o);n===0&&i!==null?(IS(a,i,r,e),s==null?Rw(t,i,u):of(t,i,u,s||null,!0)):n===1&&i!==null?(IS(a,i,r,e),of(t,i,u,s||null,!0)):n===2?ES(a,r,e,d=>{Aw(t,u,c,d)}):n===3&&ES(a,r,e,()=>{t.destroyNode(u)}),l!=null&&ZO(t,n,e,l,r,i,s)}}function HO(n,t){Kw(n,t),t[Bi]=null,t[Sn]=null}function UO(n,t,e,i,o,r){i[Bi]=o,i[Sn]=t,Pf(n,i,e,1,o,r)}function Kw(n,t){t[io].changeDetectionScheduler?.notify(9),Pf(n,t,t[tt],2,null,null)}function qO(n){let t=n[ha];if(!t)return l0(n[fe],n);for(;t;){let e=null;if(Fi(t))e=t[ha];else{let i=t[Tt];i&&(e=i)}if(!e){for(;t&&!t[Si]&&t!==n;)Fi(t)&&l0(t[fe],t),t=t[qt];t===null&&(t=n),Fi(t)&&l0(t[fe],t),e=t&&t[Si]}t=e}}function CC(n,t){let e=n[as],i=e.indexOf(t);e.splice(i,1)}function Ef(n,t){if(ls(t))return;let e=t[tt];e.destroyNode&&Pf(n,t,e,3,null,null),qO(t)}function l0(n,t){if(ls(t))return;let e=me(null);try{t[be]&=-129,t[be]|=256,t[Zn]&&$r(t[Zn]),WO(n,t),jO(n,t),t[fe].type===1&&t[tt].destroy();let i=t[zo];if(i!==null&&Li(t[qt])){i!==t[qt]&&CC(i,t);let o=t[oo];o!==null&&o.detachView(n)}b0(t)}finally{me(e)}}function ES(n,t,e,i){let o=n?.[Ho];if(o==null||o.leave==null||!o.leave.has(t.index))return i(!1);n&&yr.add(n),Qw(e,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),$O(n,i)}else n&&yr.delete(n),i(!1)},o)}function $O(n,t){let e=n[Ho]?.running;if(e){e.then(()=>{n[Ho].running=void 0,yr.delete(n),t(!0)});return}t(!1)}function jO(n,t){let e=n.cleanup,i=t[ga];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[e[s+1]];e[s].call(a)}i!==null&&(t[ga]=null);let o=t[Bo];if(o!==null){t[Bo]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let r=t[gr];if(r!==null){t[gr]=null;for(let s of r)s.destroy()}}function WO(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let o=t[e[i]];if(!(o instanceof hs)){let r=e[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let a=o[r[s]],l=r[s+1];nt($e.LifecycleHookStart,a,l);try{l.call(a)}finally{nt($e.LifecycleHookEnd,a,l)}}else{nt($e.LifecycleHookStart,o,r);try{r.call(o)}finally{nt($e.LifecycleHookEnd,o,r)}}}}}function Zw(n,t,e){return QO(n,t.parent,e)}function QO(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Bi];if(Cr(i)){let{encapsulation:o}=n.data[i.directiveStart+i.componentOffset];if(o===Hi.None||o===Hi.Emulated)return null}return Jn(i,e)}function Jw(n,t,e){return XO(n,t,e)}function YO(n,t,e){return n.type&40?Jn(n,e):null}var XO=YO,PS;function vC(n,t,e,i){let o=Zw(n,i,t),r=t[tt],s=i.parent||t[Sn],a=Jw(s,i,t);if(o!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)xS(r,o,e[l],a,!1);else xS(r,o,e,a,!1);PS!==void 0&&PS(r,i,t,e,o)}function nc(n,t){if(t!==null){let e=t.type;if(e&3)return Jn(t,n);if(e&4)return af(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return nc(n,i);{let o=n[t.index];return Li(o)?af(-1,o):xn(o)}}else{if(e&128)return nc(n,t.next);if(e&32)return mC(t,n)()||xn(n[t.index]);{let i=eM(n,t);if(i!==null){if(Array.isArray(i))return i[0];let o=hr(n[Mn]);return nc(o,i)}else return nc(n,t.next)}}}return null}function eM(n,t){if(t!==null){let i=n[Mn][Sn],o=t.projection;return i.projection[o]}return null}function af(n,t){let e=Tt+n+1;if(e<t.length){let i=t[e],o=i[fe].firstChild;if(o!==null)return nc(i,o)}return t[pr]}function yC(n,t,e,i,o,r,s){for(;e!=null;){let a=i[wn];if(e.type===128){e=e.next;continue}let l=i[e.index],c=e.type;if(s&&t===0&&(l&&co(xn(l),i),e.flags|=2),!wf(e))if(c&8)yC(n,t,e.child,i,o,r,!1),_a(t,n,a,o,l,e,r,i);else if(c&32){let u=mC(e,i),d;for(;d=u();)_a(t,n,a,o,d,e,r,i);_a(t,n,a,o,l,e,r,i)}else c&16?tM(n,t,i,e,o,r):_a(t,n,a,o,l,e,r,i);e=s?e.projectionNext:e.next}}function Pf(n,t,e,i,o,r){yC(e,i,n.firstChild,t,o,r,!1)}function KO(n,t,e){let i=t[tt],o=Zw(n,e,t),r=e.parent||t[Sn],s=Jw(r,e,t);tM(i,0,t,e,o,s)}function tM(n,t,e,i,o,r){let s=e[Mn],l=s[Sn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];_a(t,n,e[wn],o,u,i,r,e)}else{let c=l,u=s[qt];gw(i)&&(c.flags|=128),yC(n,t,c,u,o,r,!0)}}function ZO(n,t,e,i,o,r,s){let a=i[pr],l=xn(i);a!==l&&_a(t,n,e,r,a,o,s);for(let c=Tt;c<i.length;c++){let u=i[c];Pf(u[fe],u,n,t,r,a)}}function JO(n,t,e,i,o){if(t)o?n.addClass(e,i):n.removeClass(e,i);else{let r=i.indexOf("-")===-1?void 0:Ui.DashCase;o==null?n.removeStyle(e,i,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=Ui.Important),n.setStyle(e,i,o,r))}}function nM(n,t,e,i,o){let r=Gi(),s=i&2;try{vr(-1),s&&t.length>rt&&Hw(n,t,rt,!1);let a=s?$e.TemplateUpdateStart:$e.TemplateCreateStart;nt(a,o,e),e(i,o)}finally{vr(r);let a=s?$e.TemplateUpdateEnd:$e.TemplateCreateEnd;nt(a,o,e)}}function kf(n,t,e){sR(n,t,e),(e.flags&64)===64&&aR(n,t,e)}function Of(n,t,e=Jn){let i=t.localNames;if(i!==null){let o=t.index+1;for(let r=0;r<i.length;r+=2){let s=i[r+1],a=s===-1?e(t,n):n[s];n[o++]=a}}}function eR(n,t,e,i){let r=i.get(ww,Sw)||e===Hi.ShadowDom||e===Hi.ExperimentalIsolatedShadowDom,s=n.selectRootElement(t,r);return tR(s),s}function tR(n){nR(n)}var nR=()=>null;function iR(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function iM(n,t,e,i,o,r){let s=t[fe];if(bC(n,s,t,e,i)){Cr(n)&&rR(t,n.index);return}n.type&3&&(e=iR(e)),oR(n,t,e,i,o,r)}function oR(n,t,e,i,o,r){if(n.type&3){let s=Jn(n,t);i=r!=null?r(i,n.value||"",e):i,o.setProperty(s,e,i)}else n.type&12}function rR(n,t){let e=An(t,n);e[be]&16||(e[be]|=64)}function sR(n,t,e){let i=e.directiveStart,o=e.directiveEnd;Cr(e)&&OO(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||ef(e,t);let r=e.initialInputs;for(let s=i;s<o;s++){let a=n.data[s],l=rc(t,n,s,e);if(co(l,t),r!==null&&dR(t,s-i,l,a,e,r),ro(a)){let c=An(e.index,t);c[ht]=rc(t,n,s,e)}}}function aR(n,t,e){let i=e.directiveStart,o=e.directiveEnd,r=e.index,s=eS();try{vr(r);for(let a=i;a<o;a++){let l=n.data[a],c=t[a];Rd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lR(l,c)}}finally{vr(-1),Rd(s)}}function lR(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function _C(n,t){let e=n.directiveRegistry,i=null;if(e)for(let o=0;o<e.length;o++){let r=e[o];Gw(t,r.selectors,!1)&&(i??=[],ro(r)?i.unshift(r):i.push(r))}return i}function cR(n,t,e,i,o,r){let s=Jn(n,t);uR(t[tt],s,r,n.value,e,i,o)}function uR(n,t,e,i,o,r,s){if(r==null)n.removeAttribute(t,o,e);else{let a=s==null?Ni(r):s(r,i||"",o);n.setAttribute(t,o,a,e)}}function dR(n,t,e,i,o,r){let s=r[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];R0(i,e,l,c)}}function oM(n,t,e,i,o){let r=rt+e,s=t[fe],a=o(s,t,n,i,e);t[r]=a,va(n,!0);let l=n.type===2;return l?(Nw(t[tt],a,n),($b()===0||pa(n))&&co(a,t),jb()):co(a,t),Ld()&&(!l||!wf(n))&&vC(s,t,a,n),n}function rM(n){let t=n;return jp()?Wp():(t=t.parent,va(t,!1)),t}function fR(n,t){let e=n[wn];if(!e)return;let i;try{i=e.get(ti,null)}catch{i=null}i?.(t)}function bC(n,t,e,i,o){let r=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];R0(d,e[c],u,o),a=!0}if(r)for(let l of r){let c=e[l],u=t.data[l];R0(u,c,i,o),a=!0}return a}function gR(n,t){let e=An(t,n),i=e[fe];hR(i,e);let o=e[Bi];o!==null&&e[is]===null&&(e[is]=Mw(o,e[wn])),nt($e.ComponentStart);try{SC(i,e,e[ht])}finally{nt($e.ComponentEnd,e[ht])}}function hR(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function SC(n,t,e){Nd(t);try{let i=n.viewQuery;i!==null&&M0(1,i,e);let o=n.template;o!==null&&nM(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[oo]?.finishViewCreation(n),n.staticContentQueries&&xw(n,t),n.staticViewQueries&&M0(2,n.viewQuery,e);let r=n.components;r!==null&&mR(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[be]&=-5,Bd()}}function mR(n,t){for(let e=0;e<t.length;e++)gR(n,t[e])}function vc(n,t,e,i){let o=me(null);try{let r=t.tView,a=n[be]&4096?4096:16,l=gC(n,r,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[t.index];l[zo]=c;let u=n[oo];return u!==null&&(l[oo]=u.createEmbeddedView(r)),SC(r,l,e),l}finally{me(o)}}function Ma(n,t){return!t||t.firstChild===null||gw(n)}function sc(n,t,e,i,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let r=t[e.index];r!==null&&i.push(xn(r)),Li(r)&&sM(r,i);let s=e.type;if(s&8)sc(n,t,e.child,i);else if(s&32){let a=mC(e,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=eM(t,e);if(Array.isArray(a))i.push(...a);else{let l=hr(t[Mn]);sc(l[fe],l,a,i,!0)}}e=o?e.projectionNext:e.next}return i}function sM(n,t){for(let e=Tt;e<n.length;e++){let i=n[e],o=i[fe].firstChild;o!==null&&sc(i[fe],i,o,t)}n[pr]!==n[Bi]&&t.push(n[pr])}function aM(n){if(n[ss]!==null){for(let t of n[ss])t.impl.addSequence(t);n[ss].length=0}}var lM=[];function pR(n){return n[Zn]??CR(n)}function CR(n){let t=lM.pop()??Object.create(yR);return t.lView=n,t}function vR(n){n.lView[Zn]!==n&&(n.lView=null,lM.push(n))}var yR=Se($({},Zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{cs(n.lView)},consumerOnSignalRead(){this.lView[Zn]=this}});function _R(n){let t=n[Zn]??Object.create(bR);return t.lView=n,t}var bR=Se($({},Zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=hr(n.lView);for(;t&&!cM(t[fe]);)t=hr(t);t&&Vp(t)},consumerOnSignalRead(){this.lView[Zn]=this}});function cM(n){return n.type!==2}function uM(n){if(n[gr]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[gr])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[be]&8192)}}var SR=100;function dM(n,t=0){let i=n[io].rendererFactory,o=!1;o||i.begin?.();try{wR(n,t)}finally{o||i.end?.()}}function wR(n,t){let e=Qp();try{Ll(!0),A0(n,t);let i=0;for(;Ql(n);){if(i===SR)throw new J(103,!1);i++,A0(n,1)}}finally{Ll(e)}}function MR(n,t,e,i){if(ls(t))return;let o=t[be],r=!1,s=!1;Nd(t);let a=!0,l=null,c=null;r||(cM(n)?(c=pR(t),l=Js(c)):Lu()===null?(a=!1,c=_R(t),l=Js(c)):t[Zn]&&($r(t[Zn]),t[Zn]=null));try{Gp(t),Kb(n.bindingStartIndex),e!==null&&nM(n,t,e,2,i);let u=(o&3)===3;if(!r)if(u){let m=n.preOrderCheckHooks;m!==null&&jd(t,m,null)}else{let m=n.preOrderHooks;m!==null&&Wd(t,m,0,null),r0(t,0)}if(s||xR(t),uM(t),fM(t,0),n.contentQueries!==null&&xw(n,t),!r)if(u){let m=n.contentCheckHooks;m!==null&&jd(t,m)}else{let m=n.contentHooks;m!==null&&Wd(t,m,1),r0(t,1)}DR(n,t);let d=n.components;d!==null&&hM(t,d,0);let h=n.viewQuery;if(h!==null&&M0(2,h,i),!r)if(u){let m=n.viewCheckHooks;m!==null&&jd(t,m)}else{let m=n.viewHooks;m!==null&&Wd(t,m,2),r0(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Id]){for(let m of t[Id])m();t[Id]=null}r||(aM(t),t[be]&=-73)}catch(u){throw r||cs(t),u}finally{c!==null&&(El(c,l),a&&vR(c)),Bd()}}function fM(n,t){for(let e=pw(n);e!==null;e=Cw(e))for(let i=Tt;i<e.length;i++){let o=e[i];gM(o,t)}}function xR(n){for(let t=pw(n);t!==null;t=Cw(t)){if(!(t[be]&2))continue;let e=t[as];for(let i=0;i<e.length;i++){let o=e[i];Vp(o)}}}function TR(n,t,e){nt($e.ComponentStart);let i=An(t,n);try{gM(i,e)}finally{nt($e.ComponentEnd,i[ht])}}function gM(n,t){Pd(n)&&A0(n,t)}function A0(n,t){let i=n[fe],o=n[be],r=n[Zn],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(r?.dirty&&Pl(r)),s||=!1,r&&(r.dirty=!1),n[be]&=-9217,s)MR(i,n,i.template,n[ht]);else if(o&8192){let a=me(null);try{uM(n),fM(n,1);let l=i.components;l!==null&&hM(n,l,1),aM(n)}finally{me(a)}}}function hM(n,t,e){for(let i=0;i<t.length;i++)TR(n,t[i],e)}function DR(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let o=e[i];if(o<0)vr(~o);else{let r=o,s=e[++i],a=e[++i];Jb(s,r);let l=t[r];nt($e.HostBindingsUpdateStart,l);try{a(2,l)}finally{nt($e.HostBindingsUpdateEnd,l)}}}}finally{vr(-1)}}function wC(n,t){let e=Qp()?64:1088;for(n[io].changeDetectionScheduler?.notify(t);n;){n[be]|=e;let i=hr(n);if(Ca(n)&&!i)return n;n=i}return null}function mM(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function pM(n,t){let e=Tt+t;if(e<n.length)return n[e]}function yc(n,t,e,i=!0){let o=t[fe];if(IR(o,t,n,e),i){let s=af(e,n),a=t[tt],l=a.parentNode(n[pr]);l!==null&&UO(o,n[Sn],a,t,l,s)}let r=t[is];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function CM(n,t){let e=ac(n,t);return e!==void 0&&Ef(e[fe],e),e}function ac(n,t){if(n.length<=Tt)return;let e=Tt+t,i=n[e];if(i){let o=i[zo];o!==null&&o!==n&&CC(o,i),t>0&&(n[e-1][Si]=i[Si]);let r=Ul(n,Tt+t);HO(i[fe],i);let s=r[oo];s!==null&&s.detachView(r[fe]),i[qt]=null,i[Si]=null,i[be]&=-129}return i}function IR(n,t,e,i){let o=Tt+i,r=e.length;i>0&&(e[o-1][Si]=t),i<r-Tt?(t[Si]=e[o],wp(e,Tt+i,t)):(e.push(t),t[Si]=null),t[qt]=e;let s=t[zo];s!==null&&e!==s&&vM(s,t);let a=t[oo];a!==null&&a.insertView(n),kd(t),t[be]|=128}function vM(n,t){let e=n[as],i=t[qt];if(Fi(i))n[be]|=2;else{let o=i[qt][Mn];t[Mn]!==o&&(n[be]|=2)}e===null?n[as]=[t]:e.push(t)}var _r=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[fe];return sc(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[ht]}set context(t){this._lView[ht]=t}get destroyed(){return ls(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[qt];if(Li(t)){let e=t[jl],i=e?e.indexOf(this):-1;i>-1&&(ac(t,i),Ul(e,i))}this._attachedToViewContainer=!1}Ef(this._lView[fe],this._lView)}onDestroy(t){zp(this._lView,t)}markForCheck(){wC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[be]&=-129}reattach(){kd(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,dM(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ca(this._lView),e=this._lView[zo];e!==null&&!t&&CC(e,this._lView),Kw(this._lView[fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=t;let e=Ca(this._lView),i=this._lView[zo];i!==null&&!e&&vM(i,this._lView),kd(this._lView)}};var br=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ER;constructor(e,i,o){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,o){let r=vc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:o});return new _r(r)}}return n})();function ER(){return MC(en(),he())}function MC(n,t){return n.type&4?new br(t,n,Da(n,t)):null}function _c(n,t,e,i,o){let r=n.data[t];if(r===null)r=PR(n,t,e,i,o),Zb()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=i,r.attrs=o;let s=Xb();r.injectorIndex=s===null?-1:s.injectorIndex}return va(r,!0),r}function PR(n,t,e,i,o){let r=$p(),s=jp(),a=s?r:r&&r.parent,l=n.data[t]=OR(n,a,e,t,i,o);return kR(n,l,r,s),l}function kR(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function OR(n,t,e,i,o,r){let s=t?t.injectorIndex:-1,a=0;return qp()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function RR(n){let t=n[Ap]??[],i=n[qt][tt],o=[];for(let r of t)r.data[bw]!==void 0?o.push(r):AR(r,i);n[Ap]=o}function AR(n,t){let e=0,i=n.firstChild;if(i){let o=n.data[_w];for(;e<o;){let r=i.nextSibling;Aw(t,i,!1),i=r,e++}}}var NR=()=>null,BR=()=>null;function lf(n,t){return NR(n,t)}function yM(n,t,e){return BR(n,t,e)}var _M=class{},Rf=class{},N0=class{resolveComponentFactory(t){throw new J(917,!1)}},bc=class{static NULL=new N0},ms=class{},Mi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>FR()}return n})();function FR(){let n=he(),t=en(),e=An(t.index,n);return(Fi(e)?e:n)[tt]}var bM=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var Yd={},B0=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let o=this.injector.get(t,Yd,i);return o!==Yd||e===Yd?o:this.parentInjector.get(t,e,i)}};function kS(n,t,e){let i=e?n.styles:null,o=e?n.classes:null,r=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")r=a;else if(r==1)o=Sd(o,a);else if(r==2){let l=a,c=t[++s];i=Sd(i,l+": "+c+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=o:n.classesWithoutHost=o}function Re(n,t=0){let e=he();if(e===null)return ce(n,t);let i=en();return uw(i,e,on(n),t)}function xC(){let n="invalid";throw new Error(n)}function SM(n,t,e,i,o){let r=i===null?null:{"":-1},s=o(n,e);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}VR(n,t,e,a,r,l,c)}r!==null&&i!==null&&LR(e,i,r)}function LR(n,t,e){let i=n.localNames=[];for(let o=0;o<t.length;o+=2){let r=e[t[o+1]];if(r==null)throw new J(-301,!1);i.push(t[o],r)}}function GR(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function VR(n,t,e,i,o,r,s){let a=i.length,l=null;for(let h=0;h<a;h++){let m=i[h];l===null&&ro(m)&&(l=m,GR(n,e,h)),y0(ef(e,t),n,m.type)}jR(e,n.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let h=0;h<a;h++){let m=i[h];m.providersResolver&&m.providersResolver(m)}let c=!1,u=!1,d=zw(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let h=0;h<a;h++){let m=i[h];if(e.mergedAttrs=oc(e.mergedAttrs,m.hostAttrs),HR(n,e,t,d,m),$R(d,m,o),s!==null&&s.has(m)){let[_,S]=s.get(m);e.directiveToIndex.set(m.type,[d,_+e.directiveStart,S+e.directiveStart])}else(r===null||!r.has(m))&&e.directiveToIndex.set(m.type,d);m.contentQueries!==null&&(e.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(e.flags|=64);let b=m.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}zR(n,e,r)}function zR(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let o=n.data[i];if(e===null||!e.has(o))OS(0,t,o,i),OS(1,t,o,i),AS(t,i,!1);else{let r=e.get(o);RS(0,t,r,i),RS(1,t,r,i),AS(t,i,!0)}}}function OS(n,t,e,i){let o=n===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[r]??=[],s[r].push(i),wM(t,r)}}function RS(n,t,e,i){let o=n===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s=o[r],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,r),wM(t,s)}}function wM(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function AS(n,t,e){let{attrs:i,inputs:o,hostDirectiveInputs:r}=n;if(i===null||!e&&o===null||e&&r===null||dC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&o.hasOwnProperty(l)){let c=o[l];for(let u of c)if(u===t){s??=[],s.push(l,i[a+1]);break}}else if(e&&r.hasOwnProperty(l)){let c=r[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function HR(n,t,e,i,o){n.data[i]=o;let r=o.factory||(o.factory=fr(o.type,!0)),s=new hs(r,ro(o),Re,null);n.blueprint[i]=s,e[i]=s,UR(n,t,i,zw(n,e,o.hostVars,mn),o)}function UR(n,t,e,i,o){let r=o.hostBindings;if(r){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;qR(s)!=a&&s.push(a),s.push(e,i,r)}}function qR(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function $R(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ro(t)&&(e[""]=n)}}function jR(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function TC(n,t,e,i,o,r,s,a){let l=t[fe],c=l.consts,u=so(c,s),d=_c(l,n,e,i,u);return r&&SM(l,t,d,so(c,a),o),d.mergedAttrs=oc(d.mergedAttrs,d.attrs),d.attrs!==null&&kS(d,d.attrs,!1),d.mergedAttrs!==null&&kS(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function DC(n,t){nw(n,t),Np(t)&&n.queries.elementEnd(t)}function IC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function EC(n,t,e){return n[t]=e}function wi(n,t,e){if(e===mn)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function lc(n,t,e,i){let o=wi(n,t,e);return wi(n,t+1,i)||o}function WR(n,t,e,i,o){let r=lc(n,t,e,i);return wi(n,t+2,o)||r}function QR(n,t,e,i,o,r){let s=lc(n,t,e,i);return lc(n,t+2,o,r)||s}function c0(n,t,e){return function i(o){let r=Cr(n)?An(n.index,t):t;wC(r,5);let s=t[ht],a=NS(t,s,e,o),l=i.__ngNextListenerFn__;for(;l;)a=NS(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function NS(n,t,e,i){let o=me(null);try{return nt($e.OutputStart,t,e),e(i)!==!1}catch(r){return fR(n,r),!1}finally{nt($e.OutputEnd,t,e),me(o)}}function YR(n,t,e,i,o,r,s,a){let l=pa(n),c=!1,u=null;if(!i&&l&&(u=KR(t,e,r,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=Jn(n,e),h=i?i(d):d;Uk(e,h,r,a);let m=o.listen(h,r,a);if(!XR(r)){let b=i?_=>i(xn(_[n.index])):n.index;MM(b,t,e,r,a,m,!1)}}return c}function XR(n){return n.startsWith("animation")||n.startsWith("transition")}function KR(n,t,e,i){let o=n.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===e&&o[r+1]===i){let a=t[ga],l=o[r+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(r+=2)}return null}function MM(n,t,e,i,o,r,s){let a=t.firstCreatePass?Up(t):null,l=Hp(e),c=l.length;l.push(o,r),a&&a.push(i,n,c,(c+1)*(s?-1:1))}function BS(n,t,e,i,o,r){let s=t[e],a=t[fe],c=a.data[e].outputs[i],d=s[c].subscribe(r);MM(n.index,a,t,o,r,d,!0)}var F0=Symbol("BINDING");var cf=class extends bc{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Go(t);return new ps(e,this.ngModule)}};function ZR(n){return Object.keys(n).map(t=>{let[e,i,o]=n[t],r={propName:e,templateName:t,isSignal:(i&Tf.SignalBased)!==0};return o&&(r.transform=o),r})}function JR(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function eA(n,t,e){let i=t instanceof Mt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new B0(e,i):e}function tA(n){let t=n.get(ms,null);if(t===null)throw new J(407,!1);let e=n.get(bM,null),i=n.get(to,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function nA(n,t){let e=xM(n);return Ow(t,e,e==="svg"?Bp:e==="math"?Gb:null)}function xM(n){return(n.selectors[0][0]||"div").toLowerCase()}var ps=class extends Rf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ZR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=JR(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=IO(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,o,r,s){nt($e.DynamicComponentStart);let a=me(null);try{let l=this.componentDef,c=iA(i,l,s,r),u=eA(l,o||this.ngModule,t),d=tA(u),h=d.rendererFactory.createRenderer(null,l),m=i?eR(h,i,l.encapsulation,u):nA(l,h),b=s?.some(FS)||r?.some(T=>typeof T!="function"&&T.bindings.some(FS)),_=gC(null,c,null,512|Vw(l),null,null,d,h,u,null,Mw(m,u,!0));_[rt]=m,Nd(_);let S=null;try{let T=TC(rt,_,2,"#host",()=>c.directiveRegistry,!0,0);Nw(h,m,T),co(m,_),kf(c,_,T),rC(c,T,_),DC(c,T),e!==void 0&&rA(T,this.ngContentSelectors,e),S=An(T.index,_),_[ht]=S[ht],SC(c,_,null)}catch(T){throw S!==null&&b0(S),b0(_),T}finally{nt($e.DynamicComponentEnd),Bd()}return new uf(this.componentType,_,!!b)}finally{me(a)}}};function iA(n,t,e,i){let o=n?["ng-version","21.0.3"]:EO(t.selectors[0]),r=null,s=null,a=0;if(e)for(let u of e)a+=u[F0].requiredVars,u.create&&(u.targetIdx=0,(r??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let d=i[u];if(typeof d!="function")for(let h of d.bindings){a+=h[F0].requiredVars;let m=u+1;h.create&&(h.targetIdx=m,(r??=[]).push(h)),h.update&&(h.targetIdx=m,(s??=[]).push(h))}}let l=[t];if(i)for(let u of i){let d=typeof u=="function"?u:u.type,h=Dp(d);l.push(h)}return fC(0,null,oA(r,s),1,a,l,null,null,null,[o],null)}function oA(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function FS(n){let t=n[F0].kind;return t==="input"||t==="twoWay"}var uf=class extends _M{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=Wl(e[fe],rt),this.location=Da(this._tNode,e),this.instance=An(this._tNode.index,e)[ht],this.hostView=this.changeDetectorRef=new _r(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,r=bC(i,o[fe],o,t,e);this.previousInputValues.set(t,e);let s=An(i.index,o);wC(s,1)}get injector(){return new fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function rA(n,t,e){let i=n.projection=[];for(let o=0;o<t.length;o++){let r=e[o];i.push(r!=null&&r.length?Array.from(r):null)}}var Sr=(()=>{class n{static __NG_ELEMENT_ID__=sA}return n})();function sA(){let n=en();return DM(n,he())}var aA=Sr,TM=class extends aA{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Da(this._hostTNode,this._hostLView)}get injector(){return new fs(this._hostTNode,this._hostLView)}get parentInjector(){let t=eC(this._hostTNode,this._hostLView);if(ow(t)){let e=Zd(t,this._hostLView),i=Kd(t),o=e[fe].data[i+8];return new fs(o,e)}else return new fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=LS(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(t,e,i){let o,r;typeof i=="number"?o=i:i!=null&&(o=i.index,r=i.injector);let s=lf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(a,o,Ma(this._hostTNode,s)),a}createComponent(t,e,i,o,r,s,a){let l=t&&!dk(t),c;if(l)c=e;else{let S=e||{};c=S.index,i=S.injector,o=S.projectableNodes,r=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let u=l?t:new ps(Go(t)),d=i||this.parentInjector;if(!r&&u.ngModule==null){let T=(l?d:this.parentInjector).get(Mt,null);T&&(r=T)}let h=Go(u.componentType??{}),m=lf(this._lContainer,h?.id??null),b=m?.firstChild??null,_=u.create(d,o,b,r,s,a);return this.insertImpl(_.hostView,c,Ma(this._hostTNode,m)),_}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let o=t._lView;if(zb(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=o[qt],c=new TM(l,l[Sn],l[qt]);c.detach(c.indexOf(t))}}let r=this._adjustIndex(e),s=this._lContainer;return yc(s,o,r,i),t.attachToViewContainerRef(),wp(u0(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=LS(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=ac(this._lContainer,e);i&&(Ul(u0(this._lContainer),e),Ef(i[fe],i))}detach(t){let e=this._adjustIndex(t,-1),i=ac(this._lContainer,e);return i&&Ul(u0(this._lContainer),e)!=null?new _r(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function LS(n){return n[jl]}function u0(n){return n[jl]||(n[jl]=[])}function DM(n,t){let e,i=t[n.index];return Li(i)?e=i:(e=mM(i,t,null,n),t[n.index]=e,hC(t,e)),cA(e,t,n,i),new TM(e,n,t)}function lA(n,t){let e=n[tt],i=e.createComment(""),o=Jn(t,n),r=e.parentNode(o);return of(e,r,i,e.nextSibling(o),!1),i}var cA=fA,uA=()=>!1;function dA(n,t,e){return uA(n,t,e)}function fA(n,t,e,i){if(n[pr])return;let o;e.type&8?o=xn(i):o=lA(t,e),n[pr]=o}var L0=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},G0=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let r=0;r<i;r++){let s=e.getByIndex(r),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)PC(t,e).matches!==null&&this.queries[e].setDirty()}},df=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=_A(t):this.predicate=t}},V0=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let o=e!==null?e.length:0,r=this.getByIndex(i).embeddedTView(t,o);r&&(r.indexInDeclarationView=i,e!==null?e.push(r):e=[r])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},z0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){let r=i[o];this.matchTNodeWithReadOption(t,e,gA(e,r)),this.matchTNodeWithReadOption(t,e,Qd(e,t,r,!1,!1))}else i===br?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qd(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let o=this.metadata.read;if(o!==null)if(o===Dt||o===Sr||o===br&&e.type&4)this.addMatch(e.index,-2);else{let r=Qd(e,t,o,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function gA(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function hA(n,t){return n.type&11?Da(n,t):n.type&4?MC(n,t):null}function mA(n,t,e,i){return e===-1?hA(t,n):e===-2?pA(n,t,i):rc(n,n[fe],e,t)}function pA(n,t,e){if(e===Dt)return Da(t,n);if(e===br)return MC(t,n);if(e===Sr)return DM(t,n)}function IM(n,t,e,i){let o=t[oo].queries[i];if(o.matches===null){let r=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=r[c];a.push(mA(t,u,s[l+1],e.metadata.read))}}o.matches=a}return o.matches}function H0(n,t,e,i){let o=n.queries.getByIndex(e),r=o.matches;if(r!==null){let s=IM(n,t,o,e);for(let a=0;a<r.length;a+=2){let l=r[a];if(l>0)i.push(s[a/2]);else{let c=r[a+1],u=t[-l];for(let d=Tt;d<u.length;d++){let h=u[d];h[zo]===h[qt]&&H0(h[fe],h,c,i)}if(u[as]!==null){let d=u[as];for(let h=0;h<d.length;h++){let m=d[h];H0(m[fe],m,c,i)}}}}}return i}function CA(n,t){return n[oo].queries[t].queryList}function EM(n,t,e){let i=new tf((e&4)===4);return qb(n,t,i,i.destroy),(t[oo]??=new G0).queries.push(new L0(i))-1}function vA(n,t,e){let i=mt();return i.firstCreatePass&&(PM(i,new df(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),EM(i,he(),t)}function yA(n,t,e,i){let o=mt();if(o.firstCreatePass){let r=en();PM(o,new df(t,e,i),r.index),bA(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return EM(o,he(),e)}function _A(n){return n.split(",").map(t=>t.trim())}function PM(n,t,e){n.queries===null&&(n.queries=new V0),n.queries.track(new z0(t,e))}function bA(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function PC(n,t){return n.queries.getByIndex(t)}function SA(n,t){let e=n[fe],i=PC(e,t);return i.crossesNgTemplate?H0(e,n,t,[]):IM(e,n,i,t)}var U0=new Map,wA=new Set;function kM(n){return ue(this,null,function*(){let t=U0;U0=new Map;let e=new Map;function i(r){let s=e.get(r);if(s)return s;let a=n(r).then(l=>MA(r,l));return e.set(r,a),a}let o=Array.from(t).map(a=>ue(null,[a],function*([r,s]){if(s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let l=[];s.templateUrl&&l.push(i(s.templateUrl).then(h=>{s.template=h}));let c=typeof s.styles=="string"?[s.styles]:s.styles??[];s.styles=c;let{styleUrl:u,styleUrls:d}=s;if(u&&(d=[u],s.styleUrl=void 0),d?.length){let h=Promise.all(d.map(m=>i(m))).then(m=>{c.push(...m),s.styleUrls=void 0});l.push(h)}yield Promise.all(l),wA.delete(r)}));yield Promise.all(o)})}function OM(){return U0.size===0}function MA(n,t){return ue(this,null,function*(){if(typeof t=="string")return t;if(t.status!==void 0&&t.status!==200)throw new J(918,!1);return t.text()})}var Cs=class{},Af=class{};var cc=class extends Cs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new cf(this);constructor(t,e,i,o=!0){super(),this.ngModuleType=t,this._parent=e;let r=Tp(t);this._bootstrapComponents=Fw(r.bootstrap),this._r3Injector=Jp(t,e,[{provide:Cs,useValue:this},{provide:bc,useValue:this.componentFactoryResolver},...i],Fo(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},uc=class extends Af{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new cc(this.moduleType,t,[])}};function RM(n,t,e){return new cc(n,t,e,!1)}var ff=class extends Cs{injector;componentFactoryResolver=new cf(this);instance=null;constructor(t){super();let e=new ts([...t.providers,{provide:Cs,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],t.parent||$l(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ia(n,t,e=null){return new ff({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var xA=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=Ip(!1,e.type),o=i.length>0?Ia([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(ce(Mt))})}return n})();function W(n){return gc(()=>{let t=AM(n),e=Se($({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(xA).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hi.Emulated,styles:n.styles||hn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Nn("NgStandalone"),NM(e);let i=n.dependencies;return e.directiveDefs=GS(i,TA),e.pipeDefs=GS(i,Rb),e.id=EA(e),e})}function TA(n){return Go(n)||Dp(n)}function ve(n){return gc(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DA(n,t){if(n==null)return mr;let e={};for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],r,s,a,l;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r,l=o[3]||null):(r=o,s=o,a=Tf.None,l=null),e[r]=[i,a,l],t[r]=s}return e}function IA(n){if(n==null)return mr;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Ge(n){return gc(()=>{let t=AM(n);return NM(t),t})}function xi(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function AM(n){let t={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||mr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:DA(n.inputs,t),outputs:IA(n.outputs),debugInfo:null}}function NM(n){n.features?.forEach(t=>t(n))}function GS(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let o of e){let r=t(o);r!==null&&i.push(r)}return i}:null}function EA(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let r of i.join("|"))t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function PA(n){return Object.getPrototypeOf(n.prototype).constructor}function Bn(n){let t=PA(n.type),e=!0,i=[n];for(;t;){let o;if(ro(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new J(903,!1);o=t.\u0275dir}if(o){if(e){i.push(o);let s=n;s.inputs=d0(n.inputs),s.declaredInputs=d0(n.declaredInputs),s.outputs=d0(n.outputs);let a=o.hostBindings;a&&NA(n,a);let l=o.viewQuery,c=o.contentQueries;if(l&&RA(n,l),c&&AA(n,c),kA(n,o),Mb(n.outputs,o.outputs),ro(o)&&o.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let a=r[s];a&&a.ngInherit&&a(n),a===Bn&&(e=!1)}}t=Object.getPrototypeOf(t)}OA(i)}function kA(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function OA(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let o=n[i];o.hostVars=t+=o.hostVars,o.hostAttrs=oc(o.hostAttrs,e=oc(e,o.hostAttrs))}}function d0(n){return n===mr?{}:n===hn?[]:n}function RA(n,t){let e=n.viewQuery;e?n.viewQuery=(i,o)=>{t(i,o),e(i,o)}:n.viewQuery=t}function AA(n,t){let e=n.contentQueries;e?n.contentQueries=(i,o,r)=>{t(i,o,r),e(i,o,r)}:n.contentQueries=t}function NA(n,t){let e=n.hostBindings;e?n.hostBindings=(i,o)=>{t(i,o),e(i,o)}:n.hostBindings=t}function BM(n,t,e,i,o,r,s,a){if(e.firstCreatePass){n.mergedAttrs=oc(n.mergedAttrs,n.attrs);let u=n.tView=fC(2,n,o,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),u.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),va(n,!1);let l=FA(e,t,n,i);Ld()&&vC(e,t,l,n),co(l,t);let c=mM(l,t,l,n);t[i+rt]=c,hC(t,c),dA(c,n,t)}function BA(n,t,e,i,o,r,s,a,l,c,u){let d=e+rt,h;return t.firstCreatePass?(h=_c(t,d,4,s||null,a||null),Od()&&SM(t,n,h,so(t.consts,c),_C),nw(t,h)):h=t.data[d],BM(h,n,t,e,i,o,r,l),pa(h)&&kf(t,n,h),c!=null&&Of(n,h,u),h}function dc(n,t,e,i,o,r,s,a,l,c,u){let d=e+rt,h;if(t.firstCreatePass){if(h=_c(t,d,4,s||null,a||null),c!=null){let m=so(t.consts,c);h.localNames=[];for(let b=0;b<m.length;b+=2)h.localNames.push(m[b],-1)}}else h=t.data[d];return BM(h,n,t,e,i,o,r,l),c!=null&&Of(n,h,u),h}function Wo(n,t,e,i,o,r,s,a){let l=he(),c=mt(),u=so(c.consts,r);return BA(l,c,n,t,e,i,o,u,void 0,s,a),Wo}var FA=LA;function LA(n,t,e,i){return Kl(!0),t[tt].createComment("")}var Nf=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function FM(n){return typeof n=="function"&&n[_n]!==void 0}function kC(n){return FM(n)&&typeof n.set=="function"}var Bf=new oe(""),Ff=new oe(""),Sc=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,o){this._ngZone=e,this.registry=i,kp()&&(this._destroyRef=p(ei,{optional:!0})??void 0),OC||(GM(o),o.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),e()},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:o})}whenStable(e,i,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,o){return[]}static \u0275fac=function(i){return new(i||n)(ce(Oe),ce(LM),ce(Ff))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),LM=(()=>{class n{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return OC?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function GM(n){OC=n}var OC;function Qo(n){return!!n&&typeof n.then=="function"}function Lf(n){return!!n&&typeof n.subscribe=="function"}var RC=new oe("");function Ea(n){return Vo([{provide:RC,multi:!0,useValue:n}])}var AC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=p(RC,{optional:!0})??[];injector=p($t);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let r=Jt(this.injector,o);if(Qo(r))e.push(r);else if(Lf(r)){let s=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gf=new oe("");function VM(){Nm(()=>{let n="";throw new J(600,n)})}function zM(n){return n.isBoundToModule}var GA=10;function NC(n,t){return Array.isArray(t)?t.reduce(NC,n):$($({},n),t)}var qi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=p(ti);afterRenderManager=p(pC);zonelessEnabled=p(ya);rootEffectScheduler=p(Vd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new bt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=p(ao);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Te(e=>!e))}constructor(){p(jo,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=p(Mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,o=$t.NULL){return this._injector.get(Oe).run(()=>{nt($e.BootstrapComponentStart);let s=e instanceof Rf;if(!this._injector.get(AC).done){let b="";throw new J(405,b)}let l;s?l=e:l=this._injector.get(bc).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=zM(l)?void 0:this._injector.get(Cs),u=i||l.selector,d=l.create(o,[],u,c),h=d.location.nativeElement,m=d.injector.get(Bf,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ic(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),nt($e.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){nt($e.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw nt($e.ChangeDetectionEnd),new J(101,!1);let e=me(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,me(e),this.afterTick.next(),nt($e.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ms,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<GA;){nt($e.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{nt($e.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!i&&!Ql(o))continue;let r=i&&!this.zonelessEnabled?0:1;dM(o,r),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ql(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;ic(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(Gf,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ic(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new J(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ic(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function VA(){let n,t;return{promise:new Promise((i,o)=>{n=i,t=o}),resolve:n,reject:t}}function sn(n,t,e,i){let o=he(),r=ds();if(wi(o,r,t)){let s=mt(),a=Fd();cR(a,o,n,t,e,i)}return sn}var HM=new oe("",{factory:()=>!1});var zA=!1,wc=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function UM(n){return n[wn].get(HM,zA)}function HA(n,t,e){let i=xa.get(n);if(i){for(let o of t)i.classList.push(o);for(let o of e)i.cleanupFns.push(o)}else xa.set(n,{classList:t,cleanupFns:e})}function BC(n){let t=xa.get(n);if(t){for(let e of t.cleanupFns)e();xa.delete(n)}gs.delete(n)}var xa=new WeakMap,gs=new WeakMap,wa=new WeakMap;function VS(n,t){let e=wa.get(n);if(e&&e.length>0){let i=e.findIndex(o=>o===t);i>-1&&e.splice(i,1)}e?.length===0&&wa.delete(n)}function qM(n,t){let e=wa.get(n)?.shift(),i=t[zo];if(i){let r=af(n.index,i)?.previousSibling;e&&r&&e===r&&e.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function UA(n,t){wa.has(n)?wa.get(n)?.push(t):wa.set(n,[t])}function zS(n){let t=n[Ho]??={};return t.enter??=new Map}function Vf(n){let t=n[Ho]??={};return t.leave??=new Map}function $M(n){let t=typeof n=="function"?n():n,e=Array.isArray(t)?t:null;return typeof t=="string"&&(e=t.trim().split(/\s+/).filter(i=>i)),e}function qA(n,t){if(!wc)return;let e=xa.get(n);if(e&&e.classList.length>0&&$A(n,e.classList))for(let i of e.classList)t.removeClass(n,i);BC(n)}function $A(n,t){for(let e of t)if(n.classList.contains(e))return!0;return!1}function jM(n,t){let e=gs.get(t);return e===void 0?!0:t===n.target&&(e.animationName!==void 0&&n.animationName===e.animationName||e.propertyName!==void 0&&n.propertyName===e.propertyName)}function WM(n,t,e){let i=n.get(t.index)??{animateFns:[]};i.animateFns.push(e),n.set(t.index,i)}function HS(n,t){if(n)for(let e of n)e();for(let e of t)e()}function US(n,t){let e=Vf(n).get(t.index);e&&(e.resolvers=void 0)}function it(n){if(Nn("NgAnimateEnter"),!wc)return it;let t=he();if(UM(t))return it;let e=en();return qM(e,t),WM(zS(t),e,()=>jA(t,e,n)),Yw(t[wn]),Xw(t[wn],zS(t)),it}function jA(n,t,e){let i=Jn(t,n),o=n[tt],r=n[wn].get(Oe),s=$M(e),a=[],l=u=>{if(u.target!==i)return;let d=u instanceof AnimationEvent?"animationend":"transitionend";r.runOutsideAngular(()=>{o.listen(i,d,c)})},c=u=>{u.target===i&&WA(u,i,o)};if(s&&s.length>0){r.runOutsideAngular(()=>{a.push(o.listen(i,"animationstart",l)),a.push(o.listen(i,"transitionstart",l))}),HA(i,s,a);for(let u of s)o.addClass(i,u);r.runOutsideAngular(()=>{requestAnimationFrame(()=>{if($w(i,gs,wc),!gs.has(i)){for(let u of s)o.removeClass(i,u);BC(i)}})})}}function WA(n,t,e){let i=xa.get(t);if(!(n.target!==t||!i)&&jM(n,t)){n.stopImmediatePropagation();for(let o of i.classList)e.removeClass(t,o);BC(t)}}function Vt(n){if(Nn("NgAnimateLeave"),!wc)return Vt;let t=he();if(UM(t))return Vt;let i=en();return qM(i,t),WM(Vf(t),i,()=>QA(t,i,n)),Yw(t[wn]),Vt}function QA(n,t,e){let{promise:i,resolve:o}=VA(),r=Jn(t,n),s=n[tt],a=n[wn].get(Oe);yr.add(n),(Vf(n).get(t.index).resolvers??=[]).push(o);let l=$M(e);return l&&l.length>0?YA(r,t,n,l,s,a):o(),{promise:i,resolve:o}}function YA(n,t,e,i,o,r){qA(n,o);let s=[],a=Vf(e).get(t.index)?.resolvers,l=c=>{if(c.target===n&&(c instanceof CustomEvent||jM(c,n))){if(c.stopImmediatePropagation(),gs.delete(n),VS(t,n),Array.isArray(t.projection))for(let u of i)o.removeClass(n,u);HS(a,s),US(e,t)}};r.runOutsideAngular(()=>{s.push(o.listen(n,"animationend",l)),s.push(o.listen(n,"transitionend",l))}),UA(t,n);for(let c of i)o.addClass(n,c);r.runOutsideAngular(()=>{requestAnimationFrame(()=>{$w(n,gs,wc),gs.has(n)||(VS(t,n),HS(a,s),US(e,t))})})}var q0=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),o=Math.max(t,e),r=this.detach(o);if(o-i>1){let s=this.detach(i);this.attach(i,r),this.attach(o,s)}else this.attach(i,r)}move(t,e){this.attach(e,this.detach(t))}};function f0(n,t,e,i,o){return n===e&&Object.is(t,i)?1:Object.is(o(n,t),o(e,i))?-1:0}function XA(n,t,e,i){let o,r,s=0,a=n.length-1,l=void 0;if(Array.isArray(t)){me(i);let c=t.length-1;for(me(null);s<=a&&s<=c;){let u=n.at(s),d=t[s],h=f0(s,u,s,d,e);if(h!==0){h<0&&n.updateValue(s,d),s++;continue}let m=n.at(a),b=t[c],_=f0(a,m,c,b,e);if(_!==0){_<0&&n.updateValue(a,b),a--,c--;continue}let S=e(s,u),T=e(a,m),B=e(s,d);if(Object.is(B,T)){let H=e(c,b);Object.is(H,S)?(n.swap(s,a),n.updateValue(a,b),c--,a--):n.move(a,s),n.updateValue(s,d),s++;continue}if(o??=new gf,r??=$S(n,s,a,e),$0(n,o,s,B))n.updateValue(s,d),s++,a++;else if(r.has(B))o.set(S,n.detach(s)),a--;else{let H=n.create(s,t[s]);n.attach(s,H),s++,a++}}for(;s<=c;)qS(n,o,e,s,t[s]),s++}else if(t!=null){me(i);let c=t[Symbol.iterator]();me(null);let u=c.next();for(;!u.done&&s<=a;){let d=n.at(s),h=u.value,m=f0(s,d,s,h,e);if(m!==0)m<0&&n.updateValue(s,h),s++,u=c.next();else{o??=new gf,r??=$S(n,s,a,e);let b=e(s,h);if($0(n,o,s,b))n.updateValue(s,h),s++,a++,u=c.next();else if(!r.has(b))n.attach(s,n.create(s,h)),s++,a++,u=c.next();else{let _=e(s,d);o.set(_,n.detach(s)),a--}}}for(;!u.done;)qS(n,o,e,n.length,u.value),u=c.next()}for(;s<=a;)n.destroy(n.detach(a--));o?.forEach(c=>{n.destroy(c)})}function $0(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function qS(n,t,e,i,o){if($0(n,t,i,e(i,o)))n.updateValue(i,o);else{let r=n.create(i,o);n.attach(i,r)}}function $S(n,t,e,i){let o=new Set;for(let r=t;r<=e;r++)o.add(i(r,n.at(r)));return o}var gf=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(i);)i=o.get(i),t(i,e)}}};function P(n,t,e,i,o,r,s,a){Nn("NgControlFlow");let l=he(),c=mt(),u=so(c.consts,r);return dc(l,c,n,t,e,i,o,u,256,s,a),FC}function FC(n,t,e,i,o,r,s,a){Nn("NgControlFlow");let l=he(),c=mt(),u=so(c.consts,r);return dc(l,c,n,t,e,i,o,u,512,s,a),FC}function k(n,t){Nn("NgControlFlow");let e=he(),i=ds(),o=e[i]!==mn?e[i]:-1,r=o!==-1?hf(e,rt+o):void 0,s=0;if(wi(e,i,n)){let a=me(null);try{if(r!==void 0&&CM(r,s),n!==-1){let l=rt+n,c=hf(e,l),u=Y0(e[fe],l),d=yM(c,u,e),h=vc(e,u,t,{dehydratedView:d});yc(c,h,s,Ma(u,d))}}finally{me(a)}}else if(r!==void 0){let a=pM(r,s);a!==void 0&&(a[ht]=t)}}var j0=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-Tt}};function LC(n){return n}function Fn(n,t){return t}var W0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function ct(n,t,e,i,o,r,s,a,l,c,u,d,h){Nn("NgControlFlow");let m=he(),b=mt(),_=l!==void 0,S=he(),T=a?s.bind(S[Mn][ht]):s,B=new W0(_,T);S[rt+n]=B,dc(m,b,n+1,t,e,i,o,so(b.consts,r),256),_&&dc(m,b,n+2,l,c,u,d,so(b.consts,h),512)}var Q0=class extends q0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-Tt}at(t){return this.getLView(t)[ht].$implicit}attach(t,e){let i=e[is];this.needsIndexUpdate||=t!==this.length,yc(this.lContainer,e,t,Ma(this.templateTNode,i)),KA(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,ZA(this.lContainer,t),JA(this.lContainer,t)}create(t,e){let i=lf(this.lContainer,this.templateTNode.tView.ssrId),o=vc(this.hostLView,this.templateTNode,new j0(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),o}destroy(t){Ef(t[fe],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[ht].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ht].$index=t}getLView(t){return eN(this.lContainer,t)}};function ut(n){let t=me(null),e=Gi();try{let i=he(),o=i[fe],r=i[e],s=e+1,a=hf(i,s);if(r.liveCollection===void 0){let c=Y0(o,s);r.liveCollection=new Q0(a,i,c)}else r.liveCollection.reset();let l=r.liveCollection;if(XA(l,n,r.trackByFn,t),l.updateIndexes(),r.hasEmptyBlock){let c=ds(),u=l.length===0;if(wi(i,c,u)){let d=e+2,h=hf(i,d);if(u){let m=Y0(o,d),b=yM(h,m,i),_=vc(i,m,void 0,{dehydratedView:b});yc(h,_,0,Ma(m,b))}else o.firstUpdatePass&&RR(h),CM(h,0)}}}finally{me(t)}}function hf(n,t){return n[t]}function KA(n,t){if(n.length<=Tt)return;let e=Tt+t,i=n[e],o=i?i[Ho]:void 0;if(i&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let r=i[wn];VO(r,o),yr.delete(i),o.detachedLeaveAnimationFns=void 0}}function ZA(n,t){if(n.length<=Tt)return;let e=Tt+t,i=n[e],o=i?i[Ho]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function JA(n,t){return ac(n,t)}function eN(n,t){return pM(n,t)}function Y0(n,t){return Wl(n,t)}function I(n,t,e){let i=he(),o=ds();if(wi(i,o,t)){let r=mt(),s=Fd();iM(s,i,n,t,i[tt],e)}return I}function X0(n,t,e,i,o){bC(t,n,e,o?"class":"style",i)}function C(n,t,e,i){let o=he(),r=o[fe],s=n+rt,a=r.firstCreatePass?TC(s,o,2,t,_C,Od(),e,i):r.data[s];if(oM(a,o,n,t,tN),pa(a)){let l=o[fe];kf(l,o,a),rC(l,a,o)}return i!=null&&Of(o,a),C}function v(){let n=mt(),t=en(),e=rM(t);return n.firstCreatePass&&DC(n,e),Qb(e)&&Yb(),Wb(),e.classesWithoutHost!=null&&Ck(e)&&X0(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&vk(e)&&X0(n,e,he(),e.stylesWithoutHost,!1),v}function D(n,t,e,i){return C(n,t,e,i),v(),D}var tN=(n,t,e,i,o)=>(Kl(!0),Ow(t[tt],i,sS()));function GC(n,t,e){let i=he(),o=i[fe],r=n+rt,s=o.firstCreatePass?TC(r,i,8,"ng-container",_C,Od(),t,e):o.data[r];if(oM(s,i,n,"ng-container",nN),pa(s)){let a=i[fe];kf(a,i,s),rC(a,s,i)}return e!=null&&Of(i,s),GC}function VC(){let n=mt(),t=en(),e=rM(t);return n.firstCreatePass&&DC(n,e),VC}function Mc(n,t,e){return GC(n,t,e),VC(),Mc}var nN=(n,t,e,i,o)=>(Kl(!0),mO(t[tt],""));function ne(){return he()}var tc=void 0;function iN(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var oN=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",tc,tc,tc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iN],g0={};function zf(n){let t=rN(n),e=jS(t);if(e)return e;let i=t.split("-")[0];if(e=jS(i),e)return e;if(i==="en")return oN;throw new J(701,!1)}function jS(n){return n in g0||(g0[n]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[n]),g0[n]}var ys=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(ys||{});function rN(n){return n.toLowerCase().replace(/_/g,"-")}var xc="en-US";var sN=xc;function QM(n){typeof n=="string"&&(sN=n.toLowerCase().replace(/_/g,"-"))}function N(n,t,e){let i=he(),o=mt(),r=en();return YM(o,i,i[tt],r,n,t,e),N}function YM(n,t,e,i,o,r,s){let a=!0,l=null;if((i.type&3||s)&&(l??=c0(i,t,r),YR(i,n,t,s,e,o,r,l)&&(a=!1)),a){let c=i.outputs?.[o],u=i.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],m=u[d+1];l??=c0(i,t,r),BS(i,t,h,m,o,l)}if(c&&c.length)for(let d of c)l??=c0(i,t,r),BS(i,t,d,o,o,l)}}function y(n=1){return rS(n)}function aN(n,t){let e=null,i=wO(n);for(let o=0;o<t.length;o++){let r=t[o];if(r==="*"){e=o;continue}if(i===null?Gw(n,r,!0):TO(i,r))return o}return e}function Tc(n){let t=he()[Mn][Sn];if(!t.projection){let e=n?n.length:1,i=t.projection=kb(e,null),o=i.slice(),r=t.child;for(;r!==null;){if(r.type!==128){let s=n?aN(r,n):0;s!==null&&(o[s]?o[s].projectionNext=r:i[s]=r,o[s]=r)}r=r.next}}}function Dc(n,t=0,e,i,o,r){let s=he(),a=mt(),l=i?n+1:null;l!==null&&dc(s,a,l,i,o,r,null,e);let c=_c(a,rt+n,16,null,e||null);c.projection===null&&(c.projection=t),Wp();let d=!s[is]||qp();s[Mn][Sn].projection[c.projection]===null&&l!==null?lN(s,a,l):d&&!wf(c)&&KO(a,s,c)}function lN(n,t,e){let i=rt+e,o=t.data[i],r=n[i],s=lf(r,o.tView.ssrId),a=vc(n,o,void 0,{dehydratedView:s});yc(r,a,0,Ma(o,s))}function Hf(n,t,e,i){yA(n,t,e,i)}function ie(n,t,e){vA(n,t,e)}function ee(n){let t=he(),e=mt(),i=Xp();Ad(i+1);let o=PC(e,i);if(n.dirty&&Vb(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let r=SA(t,i);n.reset(r,kk),n.notifyOnChanges()}return!0}return!1}function te(){return CA(he(),Xp())}function qd(n,t){return n<<17|t<<2}function vs(n){return n>>17&32767}function cN(n){return(n&2)==2}function uN(n,t){return n&131071|t<<17}function K0(n){return n|2}function Ta(n){return(n&131068)>>2}function h0(n,t){return n&-131069|t<<2}function dN(n){return(n&1)===1}function Z0(n){return n|1}function fN(n,t,e,i,o,r){let s=r?t.classBindings:t.styleBindings,a=vs(s),l=Ta(s);n[i]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||fa(d,u)>0)&&(c=!0)}else u=e;if(o)if(l!==0){let h=vs(n[a+1]);n[i+1]=qd(h,a),h!==0&&(n[h+1]=h0(n[h+1],i)),n[a+1]=uN(n[a+1],i)}else n[i+1]=qd(a,0),a!==0&&(n[a+1]=h0(n[a+1],i)),a=i;else n[i+1]=qd(l,0),a===0?a=i:n[l+1]=h0(n[l+1],i),l=i;c&&(n[i+1]=K0(n[i+1])),WS(n,u,i,!0),WS(n,u,i,!1),gN(t,u,n,i,r),s=qd(a,l),r?t.classBindings=s:t.styleBindings=s}function gN(n,t,e,i,o){let r=o?n.residualClasses:n.residualStyles;r!=null&&typeof t=="string"&&fa(r,t)>=0&&(e[i+1]=Z0(e[i+1]))}function WS(n,t,e,i){let o=n[e+1],r=t===null,s=i?vs(o):Ta(o),a=!1;for(;s!==0&&(a===!1||r);){let l=n[s],c=n[s+1];hN(l,t)&&(a=!0,n[s+1]=i?Z0(c):K0(c)),s=i?vs(c):Ta(c)}a&&(n[e+1]=i?K0(o):Z0(o))}function hN(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?fa(n,t)>=0:!1}var zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mN(n){return n.substring(zi.key,zi.keyEnd)}function pN(n){return CN(n),XM(n,KM(n,0,zi.textEnd))}function XM(n,t){let e=zi.textEnd;return e===t?-1:(t=zi.keyEnd=vN(n,zi.key=t,e),KM(n,t,e))}function CN(n){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=n.length}function KM(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function vN(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function x(n,t,e){return ZM(n,t,e,!1),x}function se(n,t){return ZM(n,t,null,!0),se}function Pa(n){_N(TN,yN,n,!0)}function yN(n,t){for(let e=pN(t);e>=0;e=XM(t,e))Td(n,mN(t),!0)}function ZM(n,t,e,i){let o=he(),r=mt(),s=Yl(2);if(r.firstUpdatePass&&e1(r,n,s,i),t!==mn&&wi(o,s,t)){let a=r.data[Gi()];t1(r,a,o,o[tt],n,o[s+1]=IN(t,e),i,s)}}function _N(n,t,e,i){let o=mt(),r=Yl(2);o.firstUpdatePass&&e1(o,null,r,i);let s=he();if(e!==mn&&wi(s,r,e)){let a=o.data[Gi()];if(n1(a,i)&&!JM(o,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Sd(l,e||"")),X0(o,a,s,e,i)}else DN(o,a,s,s[tt],s[r+1],s[r+1]=xN(n,t,e),i,r)}}function JM(n,t){return t>=n.expandoStartIndex}function e1(n,t,e,i){let o=n.data;if(o[e+1]===null){let r=o[Gi()],s=JM(n,e);n1(r,i)&&t===null&&!s&&(t=!1),t=bN(o,r,t,i),fN(o,r,t,e,s,i)}}function bN(n,t,e,i){let o=tS(n),r=i?t.residualClasses:t.residualStyles;if(o===null)(i?t.classBindings:t.styleBindings)===0&&(e=m0(null,n,t,e,i),e=fc(e,t.attrs,i),r=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==o)if(e=m0(o,n,t,e,i),r===null){let l=SN(n,t,i);l!==void 0&&Array.isArray(l)&&(l=m0(null,n,t,l[1],i),l=fc(l,t.attrs,i),wN(n,t,i,l))}else r=MN(n,t,i)}return r!==void 0&&(i?t.residualClasses=r:t.residualStyles=r),e}function SN(n,t,e){let i=e?t.classBindings:t.styleBindings;if(Ta(i)!==0)return n[vs(i)]}function wN(n,t,e,i){let o=e?t.classBindings:t.styleBindings;n[vs(o)]=i}function MN(n,t,e){let i,o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++){let s=n[r].hostAttrs;i=fc(i,s,e)}return fc(i,t.attrs,e)}function m0(n,t,e,i,o){let r=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(r=t[a],i=fc(i,r.hostAttrs,o),r!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function fc(n,t,e){let i=e?1:2,o=-1;if(t!==null)for(let r=0;r<t.length;r++){let s=t[r];typeof s=="number"?o=s:o===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Td(n,s,e?!0:t[++r]))}return n===void 0?null:n}function xN(n,t,e){if(e==null||e==="")return hn;let i=[],o=ni(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)n(i,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&n(i,r,o[r]);else typeof o=="string"&&t(i,o);return i}function TN(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&Td(n,i,e)}function DN(n,t,e,i,o,r,s,a){o===mn&&(o=hn);let l=0,c=0,u=0<o.length?o[0]:null,d=0<r.length?r[0]:null;for(;u!==null||d!==null;){let h=l<o.length?o[l+1]:void 0,m=c<r.length?r[c+1]:void 0,b=null,_;u===d?(l+=2,c+=2,h!==m&&(b=d,_=m)):d===null||u!==null&&u<d?(l+=2,b=u):(c+=2,b=d,_=m),b!==null&&t1(n,t,e,i,b,_,s,a),u=l<o.length?o[l]:null,d=c<r.length?r[c]:null}}function t1(n,t,e,i,o,r,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],u=dN(c)?QS(l,t,e,o,Ta(c),s):void 0;if(!mf(u)){mf(r)||cN(c)&&(r=QS(l,null,e,o,a,s));let d=Fp(Gi(),e);JO(i,s,d,o,r)}}function QS(n,t,e,i,o,r){let s=t===null,a;for(;o>0;){let l=n[o],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=e[o+1];h===mn&&(h=d?hn:void 0);let m=d?Dd(h,i):u===i?h:void 0;if(c&&!mf(m)&&(m=Dd(l,i)),mf(m)&&(a=m,s))return a;let b=n[o+1];o=s?vs(b):Ta(b)}if(t!==null){let l=r?t.residualClasses:t.residualStyles;l!=null&&(a=Dd(l,i))}return a}function mf(n){return n!==void 0}function IN(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Fo(ni(n)))),n}function n1(n,t){return(n.flags&(t?8:16))!==0}function M(n,t=""){let e=he(),i=mt(),o=n+rt,r=i.firstCreatePass?_c(i,o,1,t,null):i.data[o],s=EN(i,e,r,t,n);e[o]=s,Ld()&&vC(i,e,s,r),va(r,!1)}var EN=(n,t,e,i,o)=>(Kl(!0),gO(t[tt],i));function PN(n,t,e,i=""){return wi(n,ds(),e)?t+Ni(e)+i:mn}function kN(n,t,e,i,o,r=""){let s=Yp(),a=lc(n,s,e,o);return Yl(2),a?t+Ni(e)+i+Ni(o)+r:mn}function ON(n,t,e,i,o,r,s,a=""){let l=Yp(),c=WR(n,l,e,o,s);return Yl(3),c?t+Ni(e)+i+Ni(o)+r+Ni(s)+a:mn}function ae(n){return z("",n),ae}function z(n,t,e){let i=he(),o=PN(i,n,t,e);return o!==mn&&zC(i,Gi(),o),z}function kt(n,t,e,i,o){let r=he(),s=kN(r,n,t,e,i,o);return s!==mn&&zC(r,Gi(),s),kt}function Uf(n,t,e,i,o,r,s){let a=he(),l=ON(a,n,t,e,i,o,r,s);return l!==mn&&zC(a,Gi(),l),Uf}function zC(n,t,e){let i=Fp(t,n);hO(n[tt],i,e)}function Ln(n,t,e){kC(t)&&(t=t());let i=he(),o=ds();if(wi(i,o,t)){let r=mt(),s=Fd();iM(s,i,n,t,i[tt],e)}return Ln}function ri(n,t){let e=kC(n);return e&&n.set(t),e}function Gn(n,t){let e=he(),i=mt(),o=en();return YM(i,e,e[tt],o,n,t),Gn}function YS(n,t,e){let i=mt();i.firstCreatePass&&i1(t,i.data,i.blueprint,ro(n),e)}function i1(n,t,e,i,o){if(n=on(n),Array.isArray(n))for(let r=0;r<n.length;r++)i1(n[r],t,e,i,o);else{let r=mt(),s=he(),a=en(),l=es(n)?n:on(n.provide),c=Pp(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(es(n)||!n.multi){let m=new hs(c,o,Re,null),b=C0(l,t,o?u:u+h,d);b===-1?(y0(ef(a,s),r,l),p0(r,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(m),s.push(m)):(e[b]=m,s[b]=m)}else{let m=C0(l,t,u+h,d),b=C0(l,t,u,u+h),_=m>=0&&e[m],S=b>=0&&e[b];if(o&&!S||!o&&!_){y0(ef(a,s),r,l);let T=NN(o?AN:RN,e.length,o,i,c,n);!o&&S&&(e[b].providerFactory=T),p0(r,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(T),s.push(T)}else{let T=o1(e[o?b:m],c,!o&&i);p0(r,n,m>-1?m:b,T)}!o&&i&&S&&e[b].componentProviders++}}}function p0(n,t,e,i){let o=es(t),r=Fb(t);if(o||r){let l=(r?on(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function o1(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function C0(n,t,e,i){for(let o=e;o<i;o++)if(t[o]===n)return o;return-1}function RN(n,t,e,i,o){return J0(this.multi,[])}function AN(n,t,e,i,o){let r=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=rc(i,i[fe],this.providerFactory.index,o);s=l.slice(0,a),J0(r,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],J0(r,s);return s}function J0(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function NN(n,t,e,i,o,r){let s=new hs(n,e,Re,null);return s.multi=[],s.index=t,s.componentProviders=0,o1(s,o,i&&!e),s}function Yo(n,t){return e=>{e.providersResolver=(i,o)=>YS(i,o?o(n):n,!1),t&&(e.viewProvidersResolver=(i,o)=>YS(i,o?o(t):t,!0))}}function ot(n,t,e,i){return r1(he(),us(),n,t,e,i)}function _s(n,t,e,i,o){return s1(he(),us(),n,t,e,i,o)}function HC(n,t,e,i,o,r,s){return a1(he(),us(),n,t,e,i,o,r,s)}function UC(n,t){let e=n[t];return e===mn?void 0:e}function r1(n,t,e,i,o,r){let s=t+e;return wi(n,s,o)?EC(n,s+1,r?i.call(r,o):i(o)):UC(n,s+1)}function s1(n,t,e,i,o,r,s){let a=t+e;return lc(n,a,o,r)?EC(n,a+2,s?i.call(s,o,r):i(o,r)):UC(n,a+2)}function a1(n,t,e,i,o,r,s,a,l){let c=t+e;return QR(n,c,o,r,s,a)?EC(n,c+4,l?i.call(l,o,r,s,a):i(o,r,s,a)):UC(n,c+4)}function E(n,t){let e=mt(),i,o=n+rt;e.firstCreatePass?(i=BN(t,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];let r=i.factory||(i.factory=fr(i.type,!0)),s,a=bn(Re);try{let l=Jd(!1),c=r();return Jd(l),Lp(e,he(),o,c),c}finally{bn(a)}}function BN(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function A(n,t,e){let i=n+rt,o=he(),r=Ed(o,i);return qC(o,i)?r1(o,us(),t,r.transform,e,r):r.transform(e)}function pn(n,t,e,i){let o=n+rt,r=he(),s=Ed(r,o);return qC(r,o)?s1(r,us(),t,s.transform,e,i,s):s.transform(e,i)}function an(n,t,e,i,o,r){let s=n+rt,a=he(),l=Ed(a,s);return qC(a,s)?a1(a,us(),t,l.transform,e,i,o,r,l):l.transform(e,i,o,r)}function qC(n,t){return n[fe].data[t].pure}var $d=null;function l1(n){$d!==null&&(n.defaultEncapsulation!==$d.defaultEncapsulation||n.preserveWhitespaces!==$d.preserveWhitespaces)||($d=n)}var pf=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},$C=(()=>{class n{compileModuleSync(e){return new uc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),o=Tp(e),r=Fw(o.declarations).reduce((s,a)=>{let l=Go(a);return l&&s.push(new ps(l)),s},[]);return new pf(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c1=new oe("");var u1=(()=>{class n{applicationErrorHandler=p(ti);appRef=p(qi);taskService=p(ao);ngZone=p(Oe);zonelessEnabled=p(ya);tracing=p(jo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new gt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(Gd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?n0:t0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,n0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d1(){return[{provide:to,useExisting:u1},{provide:Oe,useClass:Vl},{provide:ya,useValue:!0}]}function FN(){return typeof $localize<"u"&&$localize.locale||xc}var bs=new oe("",{factory:()=>p(bs,{optional:!0,skipSelf:!0})||FN()});function ka(n,t){return Gu(n,t?.equal)}var C1=Symbol("InputSignalNode#UNSET"),WN=Se($({},Vu),{transformFn:void 0,applyValueToInputSignal(n,t){kl(n,t)}});function v1(n,t){let e=Object.create(WN);e.value=n,e.transformFn=t?.transform;function i(){if(Il(e),e.value===C1){let o=null;throw new J(-950,o)}return e.value}return i[_n]=e,i}function f1(n,t){return v1(n,t)}function QN(n){return v1(C1,n)}var y1=(f1.required=QN,f1);function YN(n,t,e){let i=new uc(e);return Promise.resolve(i)}function g1(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==void 0)return n[t]}var XN=(()=>{class n{zone=p(Oe);changeDetectionScheduler=p(to);applicationRef=p(qi);applicationErrorHandler=p(ti);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KN=new oe("",{factory:()=>!1});function ZN({ngZoneFactory:n,scheduleInRootZone:t}){return n??=()=>new Oe(Se($({},b1()),{scheduleInRootZone:t})),[{provide:ya,useValue:!1},{provide:Oe,useFactory:n},{provide:Lo,multi:!0,useFactory:()=>{let e=p(XN,{optional:!0});return()=>e.initialize()}},{provide:Lo,multi:!0,useFactory:()=>{let e=p(JN);return()=>{e.initialize()}}},{provide:Gd,useValue:t??e0}]}function _1(n){let t=n?.scheduleInRootZone,e=ZN({ngZoneFactory:()=>{let i=b1(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Nn("NgZone_CoalesceEvent"),new Oe(i)},scheduleInRootZone:t});return Vo([{provide:KN,useValue:!0},e])}function b1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var JN=(()=>{class n{subscription=new gt;initialized=!1;zone=p(Oe);pendingTasks=p(ao);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qf=new oe(""),eB=new oe("");function Ic(n){return!n.moduleRef}function tB(n){let t=Ic(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Oe);return e.run(()=>{Ic(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(ti),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i})}),Ic(n)){let r=()=>t.destroy(),s=n.platformInjector.get(qf);s.add(r),t.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>n.moduleRef.destroy(),s=n.platformInjector.get(qf);s.add(r),n.moduleRef.onDestroy(()=>{ic(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(r)})}return iB(i,e,()=>{let r=t.get(ao),s=r.add(),a=t.get(AC);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(bs,xc);if(QM(l||xc),!t.get(eB,!0))return Ic(n)?t.get(qi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ic(n)){let u=t.get(qi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return S1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void r.remove(s))})})}var S1;function h1(){S1=nB}function nB(n,t){let e=n.injector.get(qi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new J(-403,!1);t.push(n)}function iB(n,t,e){try{let i=e();return Qo(i)?i.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var w1=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,i){let o=[d1(),...i?.applicationProviders??[],cS],r=RM(e.moduleType,this.injector,o);return h1(),tB({moduleRef:r,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,i=[]){let o=NC({},i);return h1(),YN(this.injector,o,e).then(r=>this.bootstrapModuleFactory(r,o))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let e=this._injector.get(qf,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||n)(ce($t))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),XC=null;function oB(n){if(ZC())throw new J(400,!1);VM(),XC=n;let t=n.get(w1);return aB(n),t}function KC(n,t,e=[]){let i=`Platform: ${t}`,o=new oe(i);return(r=[])=>{let s=ZC();if(!s){let a=[...e,...r,{provide:o,useValue:!0}];s=n?.(a)??oB(rB(a,i))}return sB(o)}}function rB(n=[],t){return $t.create({name:t,providers:[{provide:ql,useValue:"platform"},{provide:qf,useValue:new Set([()=>XC=null])},...n]})}function sB(n){let t=ZC();if(!t)throw new J(-401,!1);return t}function ZC(){return XC?.get(w1)??null}function aB(n){let t=n.get(vf,null);Jt(n,()=>{t?.forEach(e=>e())})}var Ve=(()=>{class n{static __NG_ELEMENT_ID__=lB}return n})();function lB(n){return cB(en(),he(),(n&16)===16)}function cB(n,t,e){if(Cr(n)&&!e){let i=An(n.index,t);return new _r(i,i)}else if(n.type&175){let i=t[Mn];return new _r(i,t)}return null}var jC=class{constructor(){}supports(t){return t instanceof Map||IC(t)}create(){return new WC}},WC=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||IC(t)))throw new J(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let r=this._getOrCreateRecordForKey(o,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let o=this._records.get(t);this._maybeAddToChanges(o,e);let r=o._prev,s=o._next;return r&&(r._next=s),s&&(s._prev=r),o._next=null,o._prev=null,o}let i=new QC(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},QC=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function m1(){return new JC([new jC])}var JC=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:m1});factories;constructor(e){this.factories=e}static create(e,i){if(i){let o=i.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=p(n,{optional:!0,skipSelf:!0});return n.create(e,i||m1())}}}find(e){let i=this.factories.find(o=>o.supports(e));if(i)return i;throw new J(901,!1)}}return n})();var M1=KC(null,"core",[]),x1=(()=>{class n{constructor(e){}static \u0275fac=function(i){return new(i||n)(ce(qi))};static \u0275mod=ve({type:n});static \u0275inj=pe({})}return n})();function wr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ev(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function T1(n){let t=Go(n);if(!t)return null;let e=new ps(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var D1=null;function Vn(){return D1}function tv(n){D1??=n}var Ec=class{},Mr=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>p(I1),providedIn:"platform"})}return n})(),nv=new oe(""),I1=(()=>{class n extends Mr{_location;_history;_doc=p(lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(e){let i=Vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $f(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function E1(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function $i(n){return n&&n[0]!=="?"?`?${n}`:n}var Xo=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>p(Wf),providedIn:"root"})}return n})(),jf=new oe(""),Wf=(()=>{class n extends Xo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??p(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $f(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+$i(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+$i(r));this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+$i(r));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ce(Mr),ce(jf,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xr=(()=>{class n{_subject=new bt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=fB(E1(P1(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+$i(i))}normalize(e){return n.stripTrailingSlash(dB(this._basePath,P1(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$i(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$i(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=$i;static joinWithSlash=$f;static stripTrailingSlash=E1;static \u0275fac=function(i){return new(i||n)(ce(Xo))};static \u0275prov=L({token:n,factory:()=>uB(),providedIn:"root"})}return n})();function uB(){return new xr(ce(Xo))}function dB(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function P1(n){return n.replace(/\/index.html$/,"")}function fB(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var lv=(()=>{class n extends Xo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=$f(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+$i(r))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+$i(r))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ce(Mr),ce(jf,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var cv=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(cv||{});var uo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Oa(n,t){let e=zf(n),i=e[ys.NumberSymbols][t];if(typeof i>"u"){if(t===uo.CurrencyDecimal)return e[ys.NumberSymbols][uo.Decimal];if(t===uo.CurrencyGroup)return e[ys.NumberSymbols][uo.Group]}return i}function R1(n,t){return zf(n)[ys.NumberFormats][t]}var gB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k1=22,Qf=".",Pc="0",hB=";",mB=",",iv="#";function pB(n,t,e,i,o,r,s=!1){let a="",l=!1;if(!isFinite(n))a=Oa(e,uo.Infinity);else{let c=yB(n);s&&(c=vB(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(r){let B=r.match(gB);if(B===null)throw new J(2306,!1);let H=B[1],U=B[3],F=B[5];H!=null&&(u=ov(H)),U!=null&&(d=ov(U)),F!=null?h=ov(F):U!=null&&d>h&&(h=d)}_B(c,d,h);let m=c.digits,b=c.integerLen,_=c.exponent,S=[];for(l=m.every(B=>!B);b<u;b++)m.unshift(0);for(;b<0;b++)m.unshift(0);b>0?S=m.splice(b,m.length):(S=m,m=[0]);let T=[];for(m.length>=t.lgSize&&T.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)T.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&T.unshift(m.join("")),a=T.join(Oa(e,i)),S.length&&(a+=Oa(e,o)+S.join("")),_&&(a+=Oa(e,uo.Exponential)+"+"+_)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function A1(n,t,e){let i=R1(t,cv.Decimal),o=CB(i,Oa(t,uo.MinusSign));return pB(n,o,t,uo.Group,uo.Decimal,e)}function CB(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(hB),o=i[0],r=i[1],s=o.indexOf(Qf)!==-1?o.split(Qf):[o.substring(0,o.lastIndexOf(Pc)+1),o.substring(o.lastIndexOf(Pc)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(iv));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Pc?e.minFrac=e.maxFrac=u+1:d===iv?e.maxFrac=u+1:e.posSuf+=d}let c=a.split(mB);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){let u=o.length-e.posPre.length-e.posSuf.length,d=r.indexOf(iv);e.negPre=r.substring(0,d).replace(/'/g,""),e.negSuf=r.slice(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function vB(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function yB(n){let t=Math.abs(n)+"",e=0,i,o,r,s,a;for((o=t.indexOf(Qf))>-1&&(t=t.replace(Qf,"")),(r=t.search(/e/i))>0?(o<0&&(o=r),o+=+t.slice(r+1),t=t.substring(0,r)):o<0&&(o=t.length),r=0;t.charAt(r)===Pc;r++);if(r===(a=t.length))i=[0],o=1;else{for(a--;t.charAt(a)===Pc;)a--;for(o-=r,i=[],s=0;r<=a;r++,s++)i[s]=Number(t.charAt(r))}return o>k1&&(i=i.splice(0,k1-1),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}function _B(n,t,e){if(t>e)throw new J(2307,!1);let i=n.digits,o=i.length-n.integerLen,r=Math.min(Math.max(t,o),e),s=r+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let d=s;d<i.length;d++)i[d]=0}else{o=Math.max(0,o),n.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let d=1;d<s;d++)i[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let l=r!==0,c=t+n.integerLen,u=i.reduceRight(function(d,h,m,b){return h=h+d,b[m]=h<10?h:h-10,l&&(b[m]===0&&m>=c?b.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}function ov(n){let t=parseInt(n);if(isNaN(t))throw new J(2305,!1);return t}var rv=/\s+/,O1=[],si=(()=>{class n{_ngEl;_renderer;initialClasses=O1;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(rv):O1}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(rv):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(rv).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||n)(Re(Dt),Re(Mi))};static \u0275dir=Ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ss=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[o,r]=e.split("."),s=o.indexOf("-")===-1?void 0:Ui.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${i}${r}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(Re(Dt),Re(JC),Re(Mi))};static \u0275dir=Ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),uv=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(e,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}static \u0275fac=function(i){return new(i||n)(Re(Sr))};static \u0275dir=Ge({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Pe]})}return n})();function dv(n,t){return new J(2100,!1)}var sv=class{createSubscription(t,e,i){return Gt(()=>t.subscribe({next:e,error:i}))}dispose(t){Gt(()=>t.unsubscribe())}},av=class{createSubscription(t,e,i){return t.then(o=>e?.(o),o=>i?.(o)),{unsubscribe:()=>{e=null,i=null}}}dispose(t){t.unsubscribe()}},bB=new av,SB=new sv,ji=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=p(ti);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i),i=>this.applicationErrorHandler(i))}_selectStrategy(e){if(Qo(e))return bB;if(Lf(e))return SB;throw dv(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(Re(Ve,16))};static \u0275pipe=xi({name:"async",type:n,pure:!1})}return n})();var kc=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw dv(n,e);return e.toUpperCase()}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=xi({name:"uppercase",type:n,pure:!0})}return n})();var Oc=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=xi({name:"json",type:n,pure:!1})}return n})();var fv=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,o){if(!wB(e))return null;o||=this._locale;try{let r=MB(e);return A1(r,o,i)}catch(r){throw dv(n,r.message)}}static \u0275fac=function(i){return new(i||n)(Re(bs,16))};static \u0275pipe=xi({name:"number",type:n,pure:!0})}return n})();function wB(n){return!(n==null||n===""||n!==n)}function MB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new J(2309,!1);return n}var ze=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ve({type:n});static \u0275inj=pe({})}return n})();function Rc(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[o,r]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(r)}return null}var ws=class{};var B1="browser";var F1=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new gv(p(lt),window)})}return n})(),gv=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(Se($({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=TB(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(no(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),o=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Se($({},e),{left:o-s[0],top:r-s[1]}))}};function TB(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=i.currentNode;for(;o;){let r=o.shadowRoot;if(r){let s=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(s)return s}o=i.nextNode()}}return null}var L1=n=>n.src,DB=new oe("",{factory:()=>L1});var N1=/^((\s*\d+w\s*(,|$)){1,})$/;var IB=[1,2],EB=640;var PB=1920,kB=1080;var G1=(()=>{class n{imageLoader=p(DB);config=OB(p(bf));renderer=p(Mi);imgElement=p(Dt).nativeElement;injector=p($t);destroyRef=p(ei);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Nn("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&N1.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){let i=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(e){let i=e;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){let e=N1.test(this.ngSrcset);return this.ngSrcset.split(",").filter(o=>o!=="").map(o=>{o=o.trim();let r=e?parseFloat(o):parseFloat(o)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:r})} ${o}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,i=e;return this.sizes?.trim()==="100vw"&&(i=e.filter(r=>r>=EB)),i.map(r=>`${this.callImageLoader({src:this.ngSrc,width:r})} ${r}w`).join(", ")}updateSrcAndSrcset(e=!1){e&&(this._renderedSrc=null);let i=this.getRewrittenSrc();this.setHostAttribute("src",i);let o;return this.ngSrcset?o=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(o=this.getAutomaticSrcset()),o&&this.setHostAttribute("srcset",o),o}getFixedSrcset(){return IB.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=!1;return this.sizes||(e=this.width>PB||this.height>kB),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==L1&&!e}generatePlaceholder(e){let{placeholderResolution:i}=this.config;return e===!0?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return!e||!e.hasOwnProperty("blur")?!0:!!e.blur}removePlaceholderOnLoad(e){let i=()=>{let s=this.injector.get(Ve);o(),r(),this.placeholder=!1,s.markForCheck()},o=this.renderer.listen(e,"load",i),r=this.renderer.listen(e,"error",i);this.destroyRef.onDestroy(()=>{o(),r()}),RB(e,i)}setHostAttribute(e,i){this.renderer.setAttribute(this.imgElement,e,i)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ge({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,o){i&2&&x("position",o.fill?"absolute":null)("width",o.fill?"100%":null)("height",o.fill?"100%":null)("inset",o.fill?"0":null)("background-size",o.placeholder?"cover":null)("background-position",o.placeholder?"50% 50%":null)("background-repeat",o.placeholder?"no-repeat":null)("background-image",o.placeholder?o.generatePlaceholder(o.placeholder):null)("filter",o.placeholder&&o.shouldBlurPlaceholder(o.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",AB],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",ev],height:[2,"height","height",ev],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",wr],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",wr],fill:[2,"fill","fill",wr],placeholder:[2,"placeholder","placeholder",NB],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Pe]})}return n})();function OB(n){let t={};return n.breakpoints&&(t.breakpoints=n.breakpoints.sort((e,i)=>e-i)),Object.assign({},_f,n,t)}function RB(n,t){n.complete&&n.naturalWidth&&t()}function AB(n){return typeof n=="string"?n:ni(n)}function NB(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:wr(n)}var Ac=class{_doc;constructor(t){this._doc=t}manager},Yf=(()=>{class n extends Ac{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(ce(lt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Zf=new oe(""),Cv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});let o=e.filter(s=>!(s instanceof Yf));this._plugins=o.slice().reverse();let r=e.find(s=>s instanceof Yf);r&&this._plugins.push(r)}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new J(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ce(Zf),ce(Oe))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),hv="ng-app-id";function V1(n){for(let t of n)t.remove()}function z1(n,t){let e=t.createElement("style");return e.textContent=n,e}function BB(n,t,e,i){let o=n.head?.querySelectorAll(`style[${hv}="${t}"],link[${hv}="${t}"]`);if(o)for(let r of o)r.removeAttribute(hv),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function pv(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var vv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,BB(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,z1);i?.forEach(o=>this.addUsage(o,this.external,pv))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(V1(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])V1(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,z1(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,pv(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ce(lt),ce(Cf),ce(yf,8),ce(hc))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),mv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yv=/%COMP%/g;var U1="%COMP%",FB=`_nghost-${U1}`,LB=`_ngcontent-${U1}`,GB=!0,VB=new oe("",{factory:()=>GB});function zB(n){return LB.replace(yv,n)}function HB(n){return FB.replace(yv,n)}function q1(n,t){return t.map(e=>e.replace(yv,n))}var _v=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,s,a,l=null,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new Nc(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,i);return o instanceof Kf?o.applyToHost(e):o instanceof Bc&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case Hi.Emulated:r=new Kf(l,c,i,this.appId,u,s,a,d,h);break;case Hi.ShadowDom:return new Xf(l,e,i,s,a,this.nonce,d,h,c);case Hi.ExperimentalIsolatedShadowDom:return new Xf(l,e,i,s,a,this.nonce,d,h);default:r=new Bc(l,c,i,u,s,a,d,h);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ce(Cv),ce(vv),ce(Cf),ce(VB),ce(lt),ce(Oe),ce(yf),ce(jo,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Nc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(mv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(H1(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(H1(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new J(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=mv[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=mv[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(Ui.DashCase|Ui.Important)?t.style.setProperty(e,i,o&Ui.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ui.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=Vn().getGlobalEventTarget(this.doc,t),!t))throw new J(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function H1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xf=class extends Nc{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,o,r,s,a,l,c){super(t,o,r,a,l),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=q1(i.id,u);for(let h of u){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=h,this.shadowRoot.appendChild(m)}let d=i.getExternalStyles?.();if(d)for(let h of d){let m=pv(h,o);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Bc=class extends Nc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let u=i.styles;this.styles=c?q1(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&yr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kf=class extends Bc{contentAttr;hostAttr;constructor(t,e,i,o,r,s,a,l,c){let u=o+"-"+i.id;super(t,e,i,r,s,a,l,c,u),this.contentAttr=zB(u),this.hostAttr=HB(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var Jf=class n extends Ec{supportsDOMEvents=!0;static makeCurrent(){tv(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=UB();return e==null?null:qB(e)}resetBaseElement(){Fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Rc(document.cookie,t)}},Fc=null;function UB(){return Fc=Fc||document.head.querySelector("base"),Fc?Fc.getAttribute("href"):null}function qB(n){return new URL(n,document.baseURI).pathname}var eg=class{addToWindow(t){xt.getAngularTestability=(i,o=!0)=>{let r=t.findTestabilityInTree(i,o);if(r==null)throw new J(5103,!1);return r},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let o=xt.getAllAngularTestabilities(),r=o.length,s=function(){r--,r==0&&i()};o.forEach(a=>{a.whenStable(s)})};xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let o=t.getTestability(e);return o??(i?Vn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},$B=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),$1=["alt","control","meta","shift"],jB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},j1=(()=>{class n extends Ac{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),$1.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=r,i.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let o=jB[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),$1.forEach(s=>{if(s!==o){let a=WB[s];a(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ce(lt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function QB(){Jf.makeCurrent()}function YB(){return new eo}function XB(){return oC(document),document}var KB=[{provide:hc,useValue:B1},{provide:vf,useValue:QB,multi:!0},{provide:lt,useFactory:XB}],bv=KC(M1,"browser",KB);var ZB=[{provide:Ff,useClass:eg},{provide:Bf,useClass:Sc},{provide:Sc,useClass:Sc}],JB=[{provide:ql,useValue:"root"},{provide:eo,useFactory:YB},{provide:Zf,useClass:Yf,multi:!0},{provide:Zf,useClass:j1,multi:!0},_v,vv,Cv,{provide:ms,useExisting:_v},{provide:ws,useClass:$B},[]],Sv=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ve({type:n});static \u0275inj=pe({providers:[...JB,...ZB],imports:[ze,x1]})}return n})();var fo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let o=e.slice(0,i),r=e.slice(i+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ng=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},ig=class{encodeKey(t){return W1(t)}encodeValue(t){return W1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function e2(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,r)),t.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var t2=/%(\d[a-f0-9])/gi,n2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function W1(n){return encodeURIComponent(n).replace(t2,(t,e)=>n2[e]??t)}function tg(n){return`${n}`}var Ko=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ig,t.fromString){if(t.fromObject)throw new J(2805,!1);this.map=e2(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],o=Array.isArray(i)?i.map(tg):[tg(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let o=t[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(tg(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],o=i.indexOf(tg(t.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function i2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Q1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Y1(n){return typeof Blob<"u"&&n instanceof Blob}function X1(n){return typeof FormData<"u"&&n instanceof FormData}function o2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var K1="Content-Type",Z1="Accept",ex="text/plain",tx="application/json",r2=`${tx}, ${ex}, */*`,Ra=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,o){this.url=e,this.method=t.toUpperCase();let r;if(i2(this.method)||o?(this.body=i!==void 0?i:null,r=o):r=i,r){if(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,this.keepalive=!!r.keepalive,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),r.priority&&(this.priority=r.priority),r.cache&&(this.cache=r.cache),r.credentials&&(this.credentials=r.credentials),typeof r.timeout=="number"){if(r.timeout<1||!Number.isInteger(r.timeout))throw new J(2822,"");this.timeout=r.timeout}r.mode&&(this.mode=r.mode),r.redirect&&(this.redirect=r.redirect),r.integrity&&(this.integrity=r.integrity),r.referrer&&(this.referrer=r.referrer),r.referrerPolicy&&(this.referrerPolicy=r.referrerPolicy),this.transferCache=r.transferCache}if(this.headers??=new fo,this.context??=new ng,!this.params)this.params=new Ko,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Q1(this.body)||Y1(this.body)||X1(this.body)||o2(this.body)?this.body:this.body instanceof Ko?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||X1(this.body)?null:Y1(this.body)?this.body.type||null:Q1(this.body)?null:typeof this.body=="string"?ex:this.body instanceof Ko?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?tx:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,m=t.referrerPolicy||this.referrerPolicy,b=t.transferCache??this.transferCache,_=t.timeout??this.timeout,S=t.body!==void 0?t.body:this.body,T=t.withCredentials??this.withCredentials,B=t.reportProgress??this.reportProgress,H=t.headers||this.headers,U=t.params||this.params,F=t.context??this.context;return t.setHeaders!==void 0&&(H=Object.keys(t.setHeaders).reduce((Y,X)=>Y.set(X,t.setHeaders[X]),H)),t.setParams&&(U=Object.keys(t.setParams).reduce((Y,X)=>Y.set(X,t.setParams[X]),U)),new n(e,i,S,{params:U,headers:H,context:F,reportProgress:B,responseType:o,withCredentials:T,transferCache:b,keepalive:r,cache:a,priority:s,timeout:_,mode:l,redirect:c,credentials:u,referrer:d,integrity:h,referrerPolicy:m})}},Ms=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ms||{}),Na=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,i="OK"){this.headers=t.headers||new fo,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},og=class n extends Na{constructor(t={}){super(t)}type=Ms.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Lc=class n extends Na{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ms.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Aa=class extends Na{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},s2=200,a2=204;var l2=new oe("");var c2=/^\)\]\}',?\n/;var Mv=(()=>{class n{xhrFactory;tracingService=p(jo,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new J(-2800,!1);let i=this.xhrFactory;return _e(null).pipe(Lt(()=>new De(r=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,T)=>s.setRequestHeader(S,T.join(","))),e.headers.has(Z1)||s.setRequestHeader(Z1,r2),!e.headers.has(K1)){let S=e.detectContentTypeHeader();S!==null&&s.setRequestHeader(K1,S)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let S=e.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let S=s.statusText||"OK",T=new fo(s.getAllResponseHeaders()),B=s.responseURL||e.url;return l=new og({headers:T,status:s.status,statusText:S,url:B}),l},u=this.maybePropagateTrace(()=>{let{headers:S,status:T,statusText:B,url:H}=c(),U=null;T!==a2&&(U=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=U?s2:0);let F=T>=200&&T<300;if(e.responseType==="json"&&typeof U=="string"){let Y=U;U=U.replace(c2,"");try{U=U!==""?JSON.parse(U):null}catch(X){U=Y,F&&(F=!1,U={error:X,text:U})}}F?(r.next(new Lc({body:U,headers:S,status:T,statusText:B,url:H||void 0})),r.complete()):r.error(new Aa({error:U,headers:S,status:T,statusText:B,url:H||void 0}))}),d=this.maybePropagateTrace(S=>{let{url:T}=c(),B=new Aa({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});r.error(B)}),h=d;e.timeout&&(h=this.maybePropagateTrace(S=>{let{url:T}=c(),B=new Aa({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:T||void 0});r.error(B)}));let m=!1,b=this.maybePropagateTrace(S=>{m||(r.next(c()),m=!0);let T={type:Ms.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(T.total=S.total),e.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),r.next(T)}),_=this.maybePropagateTrace(S=>{let T={type:Ms.UploadProgress,loaded:S.loaded};S.lengthComputable&&(T.total=S.total),r.next(T)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",b),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),r.next({type:Ms.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",b),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(ce(ws))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nx(n,t){return t(n)}function u2(n,t){return(e,i)=>t.intercept(e,{handle:o=>n(o,i)})}function d2(n,t,e){return(i,o)=>Jt(e,()=>t(i,r=>n(r,o)))}var ix=new oe(""),xv=new oe("",{factory:()=>[]}),ox=new oe(""),Tv=new oe("",{providedIn:"root",factory:()=>!0});function f2(){let n=null;return(t,e)=>{n===null&&(n=(p(ix,{optional:!0})??[]).reduceRight(u2,nx));let i=p(Jl);if(p(Tv)){let r=i.add();return n(t,e).pipe(Kn(r))}else return n(t,e)}}var Dv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=ce(Mv),o},providedIn:"root"})}return n})();var rg=(()=>{class n{backend;injector;chain=null;pendingTasks=p(Jl);contributeToStability=p(Tv);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(xv),...this.injector.get(ox,[])]));this.chain=i.reduceRight((o,r)=>d2(o,r,this.injector),nx)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Kn(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ce(Dv),ce(Mt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=ce(rg),o},providedIn:"root"})}return n})();function wv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var sg=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof Ra)r=e;else{let l;o.headers instanceof fo?l=o.headers:l=new fo(o.headers);let c;o.params&&(o.params instanceof Ko?c=o.params:c=new Ko({fromObject:o.params})),r=new Ra(e,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,referrerPolicy:o.referrerPolicy,integrity:o.integrity,timeout:o.timeout})}let s=_e(r).pipe(dr(l=>this.handler.handle(l)));if(e instanceof Ra||o.observe==="events")return s;let a=s.pipe(Rn(l=>l instanceof Lc));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Te(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new J(2806,!1);return l.body}));case"blob":return a.pipe(Te(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new J(2807,!1);return l.body}));case"text":return a.pipe(Te(l=>{if(l.body!==null&&typeof l.body!="string")throw new J(2808,!1);return l.body}));case"json":default:return a.pipe(Te(l=>l.body))}case"response":return a;default:throw new J(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Ko().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,wv(o,i))}post(e,i,o={}){return this.request("POST",e,wv(o,i))}put(e,i,o={}){return this.request("PUT",e,wv(o,i))}static \u0275fac=function(i){return new(i||n)(ce(Iv))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var g2=new oe("",{factory:()=>!0}),h2="XSRF-TOKEN",m2=new oe("",{providedIn:"root",factory:()=>h2}),p2="X-XSRF-TOKEN",C2=new oe("",{providedIn:"root",factory:()=>p2}),v2=(()=>{class n{cookieName=p(m2);doc=p(lt);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=ce(v2),o},providedIn:"root"})}return n})();function y2(n,t){if(!p(g2)||n.method==="GET"||n.method==="HEAD")return t(n);try{let o=p(Mr).href,{origin:r}=new URL(o),{origin:s}=new URL(n.url,r);if(r!==s)return t(n)}catch{return t(n)}let e=p(rx).getToken(),i=p(C2);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var Ev=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Ev||{});function _2(n,t){return{\u0275kind:n,\u0275providers:t}}function Pv(...n){let t=[sg,rg,{provide:Iv,useExisting:rg},{provide:Dv,useFactory:()=>p(l2,{optional:!0})??p(Mv)},{provide:xv,useValue:y2,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return Vo(t)}var J1=new oe("");function kv(){return _2(Ev.LegacyInterceptors,[{provide:J1,useFactory:f2},{provide:xv,useExisting:J1,multi:!0}])}var sx=(()=>{class n{_doc;_dom;constructor(e){this._doc=e,this._dom=Vn()}addTag(e,i=!1){return e?this._getOrCreateElement(e,i):null}addTags(e,i=!1){return e?e.reduce((o,r)=>(r&&o.push(this._getOrCreateElement(r,i)),o),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];let i=this._doc.querySelectorAll(`meta[${e}]`);return i?[].slice.call(i):[]}updateTag(e,i){if(!e)return null;i=i||this._parseSelector(e);let o=this.getTag(i);return o?this._setMetaElementAttributes(e,o):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,i=!1){if(!i){let s=this._parseSelector(e),a=this.getTags(s).filter(l=>this._containsAttributes(e,l))[0];if(a!==void 0)return a}let o=this._dom.createElement("meta");return this._setMetaElementAttributes(e,o),this._doc.getElementsByTagName("head")[0].appendChild(o),o}_setMetaElementAttributes(e,i){return Object.keys(e).forEach(o=>i.setAttribute(this._getMetaKeyMap(o),e[o])),i}_parseSelector(e){let i=e.name?"name":"property";return`${i}="${e[i]}"`}_containsAttributes(e,i){return Object.keys(e).every(o=>i.getAttribute(this._getMetaKeyMap(o))===e[o])}_getMetaKeyMap(e){return b2[e]||e}static \u0275fac=function(i){return new(i||n)(ce(lt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b2={httpEquiv:"http-equiv"},ag=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ce(lt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=ce(S2),o},providedIn:"root"})}return n})(),S2=(()=>{class n extends Gc{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case ii.NONE:return i;case ii.HTML:return qo(i,"HTML")?ni(i):xf(this._doc,String(i)).toString();case ii.STYLE:return qo(i,"Style")?ni(i):i;case ii.SCRIPT:if(qo(i,"Script"))return ni(i);throw new J(5200,!1);case ii.URL:return qo(i,"URL")?ni(i):mc(String(i));case ii.RESOURCE_URL:if(qo(i,"ResourceURL"))return ni(i);throw new J(5201,!1);default:throw new J(5202,!1)}}bypassSecurityTrustHtml(e){return sC(e)}bypassSecurityTrustStyle(e){return aC(e)}bypassSecurityTrustScript(e){return lC(e)}bypassSecurityTrustUrl(e){return cC(e)}bypassSecurityTrustResourceUrl(e){return uC(e)}static \u0275fac=function(i){return new(i||n)(ce(lt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Me="primary",Xc=Symbol("RouteTitle"),Bv=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Is(n){return new Bv(n)}function mx(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],a=n[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function gg(n){return new Promise((t,e)=>{n.pipe(No()).subscribe({next:i=>t(i),error:i=>e(i)})})}function M2(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!go(n[e],t[e]))return!1;return!0}function go(n,t){let e=n?Fv(n):void 0,i=t?Fv(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!px(n[o],t[o]))return!1;return!0}function Fv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function px(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function Cx(n){return n.length>0?n[n.length-1]:null}function Es(n){return ld(n)?n:Qo(n)?Ke(Promise.resolve(n)):_e(n)}function vx(n){return ld(n)?gg(n):Promise.resolve(n)}var x2={exact:_x,subset:bx},yx={exact:T2,subset:D2,ignored:()=>!0};function ax(n,t,e){return x2[e.paths](n.root,t.root,e.matrixParams)&&yx[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function T2(n,t){return go(n,t)}function _x(n,t,e){if(!Ts(n.segments,t.segments)||!ug(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!_x(n.children[i],t.children[i],e))return!1;return!0}function D2(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>px(n[e],t[e]))}function bx(n,t,e){return Sx(n,t,t.segments,e)}function Sx(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Ts(o,e)||t.hasChildren()||!ug(o,e,i))}else if(n.segments.length===e.length){if(!Ts(n.segments,e)||!ug(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!bx(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!Ts(n.segments,o)||!ug(n.segments,o,i)||!n.children[Me]?!1:Sx(n.children[Me],t,r,i)}}function ug(n,t,e){return t.every((i,o)=>yx[e](n[o].parameters,i.parameters))}var Qi=class{root;queryParams;fragment;_queryParamMap;constructor(t=new je([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return P2.serialize(this)}},je=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dg(this)}},Tr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return Mx(this)}};function I2(n,t){return Ts(n,t)&&n.every((e,i)=>go(e.parameters,t[i].parameters))}function Ts(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function E2(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===Me&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==Me&&(e=e.concat(t(o,i)))}),e}var Ps=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>new Zo,providedIn:"root"})}return n})(),Zo=class{parse(t){let e=new Gv(t);return new Qi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Vc(t.root,!0)}`,i=R2(t.queryParams),o=typeof t.fragment=="string"?`#${k2(t.fragment)}`:"";return`${e}${i}${o}`}},P2=new Zo;function dg(n){return n.segments.map(t=>Mx(t)).join("/")}function Vc(n,t){if(!n.hasChildren())return dg(n);if(t){let e=n.children[Me]?Vc(n.children[Me],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==Me&&i.push(`${o}:${Vc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=E2(n,(i,o)=>o===Me?[Vc(n.children[Me],!1)]:[`${o}:${Vc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Me]!=null?`${dg(n)}/${e[0]}`:`${dg(n)}/(${e.join("//")})`}}function wx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lg(n){return wx(n).replace(/%3B/gi,";")}function k2(n){return encodeURI(n)}function Lv(n){return wx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fg(n){return decodeURIComponent(n)}function lx(n){return fg(n.replace(/\+/g,"%20"))}function Mx(n){return`${Lv(n.path)}${O2(n.parameters)}`}function O2(n){return Object.entries(n).map(([t,e])=>`;${Lv(t)}=${Lv(e)}`).join("")}function R2(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${lg(e)}=${lg(o)}`).join("&"):`${lg(e)}=${lg(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var A2=/^[^\/()?;#]+/;function Ov(n){let t=n.match(A2);return t?t[0]:""}var N2=/^[^\/()?;=#]+/;function B2(n){let t=n.match(N2);return t?t[0]:""}var F2=/^[^=?&#]+/;function L2(n){let t=n.match(F2);return t?t[0]:""}var G2=/^[^&#]+/;function V2(n){let t=n.match(G2);return t?t[0]:""}var Gv=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Me]=new je(t,e)),i}parseSegment(){let t=Ov(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(t),new Tr(fg(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=B2(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=Ov(this.remaining);o&&(i=o,this.capture(i))}t[fg(e)]=fg(i)}parseQueryParam(t){let e=L2(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=V2(this.remaining);s&&(i=s,this.capture(i))}let o=lx(e),r=lx(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Ov(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new J(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Me);let s=this.parseChildren();e[r??Me]=Object.keys(s).length===1&&s[Me]?s[Me]:new je([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new J(4011,!1)}};function xx(n){return n.segments.length>0?new je([],{[Me]:n}):n}function Tx(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=Tx(o);if(i===Me&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new je(n.segments,t);return z2(e)}function z2(n){if(n.numberOfChildren===1&&n.children[Me]){let t=n.children[Me];return new je(n.segments.concat(t.segments),t.children)}return n}function Va(n){return n instanceof Qi}function Dx(n,t,e=null,i=null,o=new Zo){let r=Ix(n);return Ex(r,t,e,i,o)}function Ix(n){let t;function e(r){let s={};for(let l of r.children){let c=e(l);s[l.outlet]=c}let a=new je(r.url,s);return r===n&&(t=a),a}let i=e(n.root),o=xx(i);return t??o}function Ex(n,t,e,i,o){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return Rv(r,r,r,e,i,o);let s=H2(t);if(s.toRoot())return Rv(r,r,new je([],{}),e,i,o);let a=U2(s,r,n),l=a.processChildren?Hc(a.segmentGroup,a.index,s.commands):kx(a.segmentGroup,a.index,s.commands);return Rv(r,a.segmentGroup,l,e,i,o)}function hg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function qc(n){return typeof n=="object"&&n!=null&&n.outlets}function cx(n,t,e){n||="\u0275";let i=new Qi;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function Rv(n,t,e,i,o,r){let s={};for(let[c,u]of Object.entries(i??{}))s[c]=Array.isArray(u)?u.map(d=>cx(c,d,r)):cx(c,u,r);let a;n===t?a=e:a=Px(n,t,e);let l=xx(Tx(a));return new Qi(l,s,o)}function Px(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=Px(r,t,e)}),new je(n.segments,i)}var mg=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&hg(i[0]))throw new J(4003,!1);let o=i.find(qc);if(o&&o!==Cx(i))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function H2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mg(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new mg(e,t,i)}var Fa=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function U2(n,t,e){if(n.isAbsolute)return new Fa(t,!0,0);if(!e)return new Fa(t,!1,NaN);if(e.parent===null)return new Fa(e,!0,0);let i=hg(n.commands[0])?0:1,o=e.segments.length-1+i;return q2(e,o,n.numberOfDoubleDots)}function q2(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new J(4005,!1);o=i.segments.length}return new Fa(i,!1,o-r)}function $2(n){return qc(n[0])?n[0].outlets:{[Me]:n}}function kx(n,t,e){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return Hc(n,t,e);let i=j2(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new je(n.segments.slice(0,i.pathIndex),{});return r.children[Me]=new je(n.segments.slice(i.pathIndex),n.children),Hc(r,0,o)}else return i.match&&o.length===0?new je(n.segments,{}):i.match&&!n.hasChildren()?Vv(n,t,e):i.match?Hc(n,0,o):Vv(n,t,e)}function Hc(n,t,e){if(e.length===0)return new je(n.segments,{});{let i=$2(e),o={};if(Object.keys(i).some(r=>r!==Me)&&n.children[Me]&&n.numberOfChildren===1&&n.children[Me].segments.length===0){let r=Hc(n.children[Me],t,e);return new je(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=kx(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new je(n.segments,o)}}function j2(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let s=n.segments[o],a=e[i];if(qc(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!dx(l,c,s))return r;i+=2}else{if(!dx(l,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function Vv(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(qc(r)){let l=W2(r.outlets);return new je(i,l)}if(o===0&&hg(e[0])){let l=n.segments[t];i.push(new Tr(l.path,ux(e[0]))),o++;continue}let s=qc(r)?r.outlets[Me]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&hg(a)?(i.push(new Tr(s,ux(a))),o+=2):(i.push(new Tr(s,{})),o++)}return new je(i,{})}function W2(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Vv(new je([],{}),0,i))}),t}function ux(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function dx(n,t,e){return n==e.path&&go(t,e.parameters)}var La="imperative",Wt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Wt||{}),li=class{id;url;constructor(t,e){this.id=t,this.url=e}},mo=class extends li{type=Wt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends li{urlAfterRedirects;type=Wt.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Tn||{}),za=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(za||{}),ho=class extends li{reason;code;type=Wt.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},po=class extends li{reason;code;type=Wt.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},Ha=class extends li{error;target;type=Wt.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$c=class extends li{urlAfterRedirects;state;type=Wt.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends li{urlAfterRedirects;state;type=Wt.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends li{urlAfterRedirects;state;shouldActivate;type=Wt.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vg=class extends li{urlAfterRedirects;state;type=Wt.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class extends li{urlAfterRedirects;state;type=Wt.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class{route;type=Wt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bg=class{route;type=Wt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sg=class{snapshot;type=Wt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{snapshot;type=Wt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{snapshot;type=Wt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xg=class{snapshot;type=Wt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ua=class{routerEvent;position;anchor;type=Wt.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},jc=class{},qa=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Q2(n){return!(n instanceof jc)&&!(n instanceof qa)}function Y2(n,t){return n.providers&&!n._injector&&(n._injector=Ia(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Wi(n){return n.outlet||Me}function X2(n,t){let e=n.filter(i=>Wi(i)===t);return e.push(...n.filter(i=>Wi(i)!==t)),e}function Wa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Tg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wa(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ks(this.rootInjector)}},ks=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Tg(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ce(Mt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dg=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=zv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=zv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Hv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Hv(t,this._root).map(e=>e.value)}};function zv(n,t){if(n===t.value)return t;for(let e of t.children){let i=zv(n,e);if(i)return i}return null}function Hv(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Hv(n,e);if(i.length)return i.unshift(t),i}return[]}var ai=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ba(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Wc=class extends Dg{snapshot;constructor(t,e){super(t),this.snapshot=e,Qv(this,t)}toString(){return this.snapshot.toString()}};function Ox(n){let t=K2(n),e=new St([new Tr("",{})]),i=new St({}),o=new St({}),r=new St({}),s=new St(""),a=new Co(e,i,r,s,o,Me,n,t.root);return a.snapshot=t.root,new Wc(new ai(a,[]),t)}function K2(n){let t={},e={},i={},r=new Ds([],t,i,"",e,Me,n,null,{});return new Qc("",new ai(r,[]))}var Co=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Te(c=>c[Xc]))??_e(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Te(t=>Is(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Te(t=>Is(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ig(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:$($({},t.params),n.params),data:$($({},t.data),n.data),resolve:$($($($({},n.data),t.data),o?.data),n._resolvedData)}:i={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},o&&Ax(o)&&(i.resolve[Xc]=o.title),i}var Ds=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Xc]}constructor(t,e,i,o,r,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Qc=class extends Dg{url;constructor(t,e){super(e),this.url=t,Qv(this,e)}toString(){return Rx(this._root)}};function Qv(n,t){t.value._routerState=n,t.children.forEach(e=>Qv(n,e))}function Rx(n){let t=n.children.length>0?` { ${n.children.map(Rx).join(", ")} } `:"";return`${n.value}${t}`}function Av(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,go(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),go(t.params,e.params)||n.paramsSubject.next(e.params),M2(t.url,e.url)||n.urlSubject.next(e.url),go(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Uv(n,t){let e=go(n.params,t.params)&&I2(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||Uv(n.parent,t.parent))}function Ax(n){return typeof n.title=="string"||n.title===null}var Nx=new oe(""),Kc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Me;activateEvents=new Z;deactivateEvents=new Z;attachEvents=new Z;detachEvents=new Z;routerOutletData=y1();parentContexts=p(ks);location=p(Sr);changeDetector=p(Ve);inputBinder=p(Zc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new qv(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pe]})}return n})(),qv=class{route;childContexts;parent;outletData;constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===Co?this.route:t===ks?this.childContexts:t===Nx?this.outletData:this.parent.get(t,e)}},Zc=new oe(""),Yv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,o=fd([i.queryParams,i.params,i.data]).pipe(Lt(([r,s,a],l)=>(a=$($($({},r),s),a),l===0?_e(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=T1(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Xv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=W({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&D(0,"router-outlet")},dependencies:[Kc],encapsulation:2})}return n})();function Kv(n){let t=n.children&&n.children.map(Kv),e=t?Se($({},n),{children:t}):$({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Me&&(e.component=Xv),e}function Z2(n,t,e){let i=Yc(n,t._root,e?e._root:void 0);return new Wc(i,t)}function Yc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=J2(n,t,e);return new ai(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Yc(n,a)),s}}let i=eF(t.value),o=t.children.map(r=>Yc(n,r));return new ai(i,o)}}function J2(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Yc(n,i,o);return Yc(n,i)})}function eF(n){return new Co(new St(n.url),new St(n.params),new St(n.queryParams),new St(n.fragment),new St(n.data),n.outlet,n.component,n)}var $a=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Bx="ngNavigationCancelingError";function Eg(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Va(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Fx(!1,Tn.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function Fx(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Bx]=!0,e.cancellationCode=t,e}function tF(n){return Lx(n)&&Va(n.url)}function Lx(n){return!!n&&n[Bx]}var nF=(n,t,e,i)=>Te(o=>(new $v(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),$v=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Av(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=Ba(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=Ba(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=Ba(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=Ba(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new xg(r.value.snapshot))}),t.children.length&&this.forwardEvent(new wg(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(Av(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Av(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Pg=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ga=class{component;route;constructor(t,e){this.component=t,this.route=e}};function iF(n,t,e){let i=n._root,o=t?t._root:null;return zc(i,o,e,[i.value])}function oF(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Qa(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!pp(n)?n:t.get(n):i}function zc(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Ba(t);return n.children.forEach(s=>{rF(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>Uc(a,e.getContext(s),o)),o}function rF(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=sF(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Pg(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?zc(n,t,a?a.children:null,i,o):zc(n,t,e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&Uc(t,a,o),o.canActivateChecks.push(new Pg(i)),r.component?zc(n,null,a?a.children:null,i,o):zc(n,null,e,i,o);return o}function sF(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ts(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ts(n.url,t.url)||!go(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uv(n,t)||!go(n.queryParams,t.queryParams);case"paramsChange":default:return!Uv(n,t)}}function Uc(n,t,e){let i=Ba(n),o=n.value;Object.entries(i).forEach(([r,s])=>{o.component?t?Uc(s,t.children.getContext(r),e):Uc(s,null,e):Uc(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Ga(t.outlet.component,o)):e.canDeactivateChecks.push(new Ga(null,o)):e.canDeactivateChecks.push(new Ga(null,o))}function Jc(n){return typeof n=="function"}function aF(n){return typeof n=="boolean"}function lF(n){return n&&Jc(n.canLoad)}function cF(n){return n&&Jc(n.canActivate)}function uF(n){return n&&Jc(n.canActivateChild)}function dF(n){return n&&Jc(n.canDeactivate)}function fF(n){return n&&Jc(n.canMatch)}function Gx(n){return n instanceof Ao||n?.name==="EmptyError"}var cg=Symbol("INITIAL_VALUE");function ja(){return Lt(n=>fd(n.map(t=>t.pipe(Ai(1),tp(cg)))).pipe(Te(t=>{for(let e of t)if(e!==!0){if(e===cg)return cg;if(e===!1||gF(e))return e}return!0}),Rn(t=>t!==cg),Ai(1)))}function gF(n){return Va(n)||n instanceof $a}function Vx(n){return n.aborted?_e(void 0).pipe(Ai(1)):new De(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function zx(n){return Kr(Vx(n))}function hF(n,t){return Ft(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?_e(Se($({},e),{guardsResult:!0})):mF(s,i,o,n).pipe(Ft(a=>a&&aF(a)?pF(i,r,n,t):_e(a)),Te(a=>Se($({},e),{guardsResult:a})))})}function mF(n,t,e,i){return Ke(n).pipe(Ft(o=>bF(o.component,o.route,e,t,i)),No(o=>o!==!0,!0))}function pF(n,t,e,i){return Ke(t).pipe(dr(o=>la(vF(o.route.parent,i),CF(o.route,i),_F(n,o.path,e),yF(n,o.route,e))),No(o=>o!==!0,!0))}function CF(n,t){return n!==null&&t&&t(new Mg(n)),_e(!0)}function vF(n,t){return n!==null&&t&&t(new Sg(n)),_e(!0)}function yF(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return _e(!0);let o=i.map(r=>Al(()=>{let s=Wa(t)??e,a=Qa(r,s),l=cF(a)?a.canActivate(t,n):Jt(s,()=>a(t,n));return Es(l).pipe(No())}));return _e(o).pipe(ja())}function _F(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>oF(s)).filter(s=>s!==null).map(s=>Al(()=>{let a=s.guards.map(l=>{let c=Wa(s.node)??e,u=Qa(l,c),d=uF(u)?u.canActivateChild(i,n):Jt(c,()=>u(i,n));return Es(d).pipe(No())});return _e(a).pipe(ja())}));return _e(r).pipe(ja())}function bF(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return _e(!0);let s=r.map(a=>{let l=Wa(t)??o,c=Qa(a,l),u=dF(c)?c.canDeactivate(n,t,e,i):Jt(l,()=>c(n,t,e,i));return Es(u).pipe(No())});return _e(s).pipe(ja())}function SF(n,t,e,i,o){let r=t.canLoad;if(r===void 0||r.length===0)return _e(!0);let s=r.map(a=>{let l=Qa(a,n),c=lF(l)?l.canLoad(t,e):Jt(n,()=>l(t,e)),u=Es(c);return o?u.pipe(zx(o)):u});return _e(s).pipe(ja(),Hx(i))}function Hx(n){return $m(Zt(t=>{if(typeof t!="boolean")throw Eg(n,t)}),Te(t=>t===!0))}function wF(n,t,e,i,o){let r=t.canMatch;if(!r||r.length===0)return _e(!0);let s=r.map(a=>{let l=Qa(a,n),c=fF(l)?l.canMatch(t,e):Jt(n,()=>l(t,e)),u=Es(c);return o?u.pipe(zx(o)):u});return _e(s).pipe(ja(),Hx(i))}var xs=class Ux extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,Ux.prototype)}},jv=class qx extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,qx.prototype)}};function MF(n){throw new J(4e3,!1)}function xF(n){throw Fx(!1,Tn.GuardRejected)}var TF=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){return ue(this,null,function*(){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return i;if(o.numberOfChildren>1||!o.children[Me])throw MF(`${t.redirectTo}`);o=o.children[Me]}})}applyRedirectCommands(t,e,i,o,r){return ue(this,null,function*(){let s=yield DF(e,o,r);if(s instanceof Qi)throw new jv(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new jv(a);return a})}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new Qi(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,o)}),new je(r,s)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new J(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}};function DF(n,t,e){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:o,fragment:r,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=t;return gg(Es(Jt(e,()=>i({params:c,data:u,queryParams:o,fragment:r,routeConfig:s,url:a,outlet:l,title:d}))))}var Wv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IF(n,t,e,i,o,r){let s=$x(n,t,e);return s.matched?(i=Y2(t,i),wF(i,t,e,o,r).pipe(Te(a=>a===!0?s:$({},Wv)))):_e(s)}function $x(n,t,e){if(t.path==="**")return EF(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?$({},Wv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||mx)(e,n,t);if(!o)return $({},Wv);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?$($({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function EF(n){return{matched:!0,parameters:n.length>0?Cx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fx(n,t,e,i){return e.length>0&&OF(n,e,i)?{segmentGroup:new je(t,kF(i,new je(e,n.children))),slicedSegments:[]}:e.length===0&&RF(n,e,i)?{segmentGroup:new je(n.segments,PF(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new je(n.segments,n.children),slicedSegments:e}}function PF(n,t,e,i){let o={};for(let r of e)if(Og(n,t,r)&&!i[Wi(r)]){let s=new je([],{});o[Wi(r)]=s}return $($({},i),o)}function kF(n,t){let e={};e[Me]=t;for(let i of n)if(i.path===""&&Wi(i)!==Me){let o=new je([],{});e[Wi(i)]=o}return e}function OF(n,t,e){return e.some(i=>Og(n,t,i)&&Wi(i)!==Me)}function RF(n,t,e){return e.some(i=>Og(n,t,i))}function Og(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function AF(n,t,e){return t.length===0&&!n.children[e]}var NF=class{};function BF(n,t,e,i,o,r,s="emptyOnly",a){return ue(this,null,function*(){return new LF(n,t,e,i,o,s,r,a).recognize()})}var FF=31,LF=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,s,a,l){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new TF(this.urlSerializer,this.urlTree)}noMatchError(t){return new J(4002,`'${t.segmentGroup}'`)}recognize(){return ue(this,null,function*(){let t=fx(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=yield this.match(t),o=new ai(i,e),r=new Qc("",o),s=Dx(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}})}match(t){return ue(this,null,function*(){let e=new Ds([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Me,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,Me,e),rootSnapshot:e}}catch(i){if(i instanceof jv)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof xs?this.noMatchError(i):i}})}processSegmentGroup(t,e,i,o,r){return ue(this,null,function*(){if(i.segments.length===0&&i.hasChildren())return this.processChildren(t,e,i,r);let s=yield this.processSegment(t,e,i,i.segments,o,!0,r);return s instanceof ai?[s]:[]})}processChildren(t,e,i,o){return ue(this,null,function*(){let r=[];for(let l of Object.keys(i.children))l==="primary"?r.unshift(l):r.push(l);let s=[];for(let l of r){let c=i.children[l],u=X2(e,l),d=yield this.processSegmentGroup(t,u,c,l,o);s.push(...d)}let a=jx(s);return GF(a),a})}processSegment(t,e,i,o,r,s,a){return ue(this,null,function*(){for(let l of e)try{return yield this.processSegmentAgainstRoute(l._injector??t,e,l,i,o,r,s,a)}catch(c){if(c instanceof xs||Gx(c))continue;throw c}if(AF(i,o,r))return new NF;throw new xs(i)})}processSegmentAgainstRoute(t,e,i,o,r,s,a,l){return ue(this,null,function*(){if(Wi(i)!==s&&(s===Me||!Og(o,r,i)))throw new xs(o);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,i,r,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,s,l);throw new xs(o)})}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,s,a){return ue(this,null,function*(){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=$x(e,o,r);if(!l)throw new xs(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FF&&(this.allowRedirects=!1));let m=new Ds(r,c,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,gx(o),Wi(o),o.component??o._loadedComponent??null,o,hx(o)),b=Ig(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let _=yield this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,m,t),S=yield this.applyRedirects.lineralizeSegments(o,_);return this.processSegment(t,i,e,S.concat(h),s,!1,a)})}matchSegmentAgainstRoute(t,e,i,o,r,s){return ue(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield gg(IF(e,i,o,t,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!a?.matched)throw new xs(e);t=i._injector??t;let{routes:l}=yield this.getChildConfig(t,i,o),c=i._loadedInjector??t,{parameters:u,consumedSegments:d,remainingSegments:h}=a,m=new Ds(d,u,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,gx(i),Wi(i),i.component??i._loadedComponent??null,i,hx(i)),b=Ig(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data);let{segmentGroup:_,slicedSegments:S}=fx(e,d,h,l);if(S.length===0&&_.hasChildren()){let H=yield this.processChildren(c,l,_,m);return new ai(m,H)}if(l.length===0&&S.length===0)return new ai(m,[]);let T=Wi(i)===r,B=yield this.processSegment(c,l,_,S,T?Me:r,!0,m);return new ai(m,B instanceof ai?[B]:[])})}getChildConfig(t,e,i){return ue(this,null,function*(){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield gg(SF(t,e,i,this.urlSerializer,this.abortSignal))){let r=yield this.configLoader.loadChildren(t,e);return e._loadedRoutes=r.routes,e._loadedInjector=r.injector,r}throw xF(e)}return{routes:[],injector:t}})}};function GF(n){n.sort((t,e)=>t.value.outlet===Me?-1:e.value.outlet===Me?1:t.value.outlet.localeCompare(e.value.outlet))}function VF(n){let t=n.value.routeConfig;return t&&t.path===""}function jx(n){let t=[],e=new Set;for(let i of n){if(!VF(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=jx(i.children);t.push(new ai(i.value,o))}return t.filter(i=>!e.has(i))}function gx(n){return n.data||{}}function hx(n){return n.resolve||{}}var zF=new oe("",{factory:()=>BF});function HF(n,t,e,i,o,r,s){let a=n.get(zF);return Ft(l=>_e(l).pipe(Lt(c=>a(n,t,e,i,c.extractedUrl,o,r,s)),Te(({state:c,tree:u})=>Se($({},l),{targetSnapshot:c,urlAfterRedirects:u}))))}function UF(n,t){return Ft(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return _e(e);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of Wx(l))s.add(c);let a=0;return Ke(s).pipe(dr(l=>r.has(l)?qF(l,i,n,t):(l.data=Ig(l,l.parent,n).resolve,_e(void 0))),Zt(()=>a++),gd(1),Ft(l=>a===s.size?_e(e):Xt))})}function Wx(n){let t=n.children.map(e=>Wx(e)).flat();return[n,...t]}function qF(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!Ax(o)&&(r[Xc]=o.title),Al(()=>(n.data=Ig(n,n.parent,e).resolve,$F(r,n,t,i).pipe(Te(s=>(n._resolvedData=s,n.data=$($({},n.data),s),null)))))}function $F(n,t,e,i){let o=Fv(n);if(o.length===0)return _e({});let r={};return Ke(o).pipe(Ft(s=>jF(n[s],t,e,i).pipe(No(),Zt(a=>{if(a instanceof $a)throw Eg(new Zo,a);r[s]=a}))),gd(1),Te(()=>r),Xn(s=>Gx(s)?Xt:Xr(s)))}function jF(n,t,e,i){let o=Wa(t)??i,r=Qa(n,o),s=r.resolve?r.resolve(t,e):Jt(o,()=>r(t,e));return Es(s)}function Nv(n){return Lt(t=>{let e=n(t);return e?Ke(e).pipe(Te(()=>t)):_e(t)})}var Zv=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===Me);return i}getResolvedTitleForRoute(e){return e.data[Xc]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>p(Qx),providedIn:"root"})}return n})(),Qx=(()=>{class n extends Zv{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ce(ag))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Os=new oe("",{factory:()=>({})}),Ya=new oe(""),Rg=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p($C);loadComponent(e,i){return ue(this,null,function*(){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let o=ue(this,null,function*(){try{let r=yield vx(Jt(e,()=>i.loadComponent())),s=yield Kx(Xx(r));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s,s}finally{this.componentLoaders.delete(i)}});return this.componentLoaders.set(i,o),o})}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ue(this,null,function*(){try{let r=yield Yx(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=r.routes,i._loadedInjector=r.injector,r}finally{this.childrenLoaders.delete(i)}});return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yx(n,t,e,i){return ue(this,null,function*(){let o=yield vx(Jt(e,()=>n.loadChildren())),r=yield Kx(Xx(o)),s;r instanceof Af||Array.isArray(r)?s=r:s=yield t.compileModuleAsync(r),i&&i(n);let a,l,c=!1;return Array.isArray(s)?(l=s,c=!0):(a=s.create(e).injector,l=a.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:l.map(Kv),injector:a}})}function WF(n){return n&&typeof n=="object"&&"default"in n}function Xx(n){return WF(n)?n.default:n}function Kx(n){return ue(this,null,function*(){return n})}var Ag=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>p(QF),providedIn:"root"})}return n})(),QF=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jv=new oe(""),ey=new oe("");function Zx(n,t,e){let i=n.get(ey),o=n.get(lt);if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,s=new Promise(c=>{r=c}),a=o.startViewTransition(()=>(r(),YF(n)));a.ready.catch(c=>{}),a.finished.catch(c=>{});let{onViewTransitionCreated:l}=i;return l&&Jt(n,()=>l({transition:a,from:t,to:e})),s}function YF(n){return new Promise(t=>{Cc({read:()=>setTimeout(t)},{injector:n})})}var XF=()=>{},ty=new oe(""),Ng=(()=>{class n{currentNavigation=w(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=w(null);events=new bt;transitionAbortWithErrorSubject=new bt;configLoader=p(Rg);environmentInjector=p(Mt);destroyRef=p(ei);urlSerializer=p(Ps);rootContexts=p(ks);location=p(xr);inputBindingEnabled=p(Zc,{optional:!0})!==null;titleStrategy=p(Zv);options=p(Os,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(Ag);createViewTransition=p(Jv,{optional:!0});navigationErrorHandler=p(ty,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_e(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new _g(o)),i=o=>this.events.next(new bg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Gt(()=>{this.transitions?.next(Se($({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new St(null),this.transitions.pipe(Rn(i=>i!==null),Lt(i=>{let o=!1,r=new AbortController;return _e(i).pipe(Lt(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Tn.SupersededByNewNavigation),Xt;this.currentTransition=i;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Se($({},a),{previousNavigation:null}):null,abort:()=>r.abort()});let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&c!=="reload")return this.events.next(new po(s.id,this.urlSerializer.serialize(s.rawUrl),"",za.IgnoredSameUrlNavigation)),s.resolve(!1),Xt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return _e(s).pipe(Lt(u=>(this.events.next(new mo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Xt:Promise.resolve(u))),HF(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,r.signal),Zt(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let d=new $c(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:h,restoredState:m,extras:b}=s,_=new mo(u,this.urlSerializer.serialize(d),h,m);this.events.next(_);let S=Ox(this.rootComponentType).snapshot;return this.currentTransition=i=Se($({},s),{targetSnapshot:S,urlAfterRedirects:d,extras:Se($({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(T=>(T.finalUrl=d,T)),_e(i)}else return this.events.next(new po(s.id,this.urlSerializer.serialize(s.extractedUrl),"",za.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Xt}),Zt(s=>{let a=new pg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Te(s=>(this.currentTransition=i=Se($({},s),{guards:iF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),hF(this.environmentInjector,s=>this.events.next(s)),Zt(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Eg(this.urlSerializer,s.guardsResult);let a=new Cg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Rn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Tn.GuardRejected),!1)),Nv(s=>{if(s.guards.canActivateChecks.length!==0)return _e(s).pipe(Zt(a=>{let l=new vg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Lt(a=>{let l=!1;return _e(a).pipe(UF(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Tn.NoDataFromResolver)}}))}),Zt(a=>{let l=new yg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Nv(s=>{let a=c=>{let u=[];if(c.routeConfig?._loadedComponent)c.component=c.routeConfig?._loadedComponent;else if(c.routeConfig?.loadComponent){let d=Wa(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).then(h=>{c.component=h}))}for(let d of c.children)u.push(...a(d));return u},l=a(s.targetSnapshot.root);return l.length===0?_e(s):Ke(Promise.all(l).then(()=>s))}),Nv(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ke(l).pipe(Te(()=>i)):_e(i)}),Te(s=>{let a=Z2(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=Se($({},s),{targetRouterState:a}),this.currentNavigation.update(l=>(l.targetRouterState=a,l)),i}),Zt(()=>{this.events.next(new jc)}),nF(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ai(1),Kr(Vx(r.signal).pipe(Rn(()=>!o&&!i.targetRouterState),Zt(()=>{this.cancelNavigationTransition(i,r.signal.reason+"",Tn.Aborted)}))),Zt({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=XF,a)),this.lastSuccessfulNavigation.set(Gt(this.currentNavigation)),this.events.next(new ci(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Kr(this.transitionAbortWithErrorSubject.pipe(Zt(s=>{throw s}))),Kn(()=>{r.abort(),o||this.cancelNavigationTransition(i,"",Tn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xn(s=>{if(this.destroyed)return i.resolve(!1),Xt;if(o=!0,Lx(s))this.events.next(new ho(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),tF(s)?this.events.next(new qa(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Ha(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof $a){let{message:c,cancellationCode:u}=Eg(this.urlSerializer,l);this.events.next(new ho(i.id,this.urlSerializer.serialize(i.extractedUrl),c,u)),this.events.next(new qa(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Xt}))}))}cancelNavigationTransition(e,i,o){let r=new ho(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Gt(this.currentNavigation),o=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==o?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KF(n){return n!==La}var Jx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>p(ZF),providedIn:"root"})}return n})(),kg=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},ZF=(()=>{class n extends kg{static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ny=(()=>{class n{urlSerializer=p(Ps);options=p(Os,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=p(xr);urlHandlingStrategy=p(Ag);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=o??r;return s instanceof Qi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=Ox(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>p(eT),providedIn:"root"})}return n})(),eT=(()=>{class n extends ny{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof mo?this.updateStateMemento():e instanceof po?this.commitTransition(i):e instanceof $c?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof jc?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof ho&&e.code!==Tn.SupersededByNewNavigation&&e.code!==Tn.Redirect?this.restoreHistory(i):e instanceof Ha?this.restoreHistory(i,!0):e instanceof ci&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){let{replaceUrl:r,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||r){let a=this.browserPageId,l=$($({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",l)}else{let a=$($({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bg(n,t){n.events.pipe(Rn(e=>e instanceof ci||e instanceof ho||e instanceof Ha||e instanceof po),Te(e=>e instanceof ci||e instanceof po?0:(e instanceof ho?e.code===Tn.Redirect||e.code===Tn.SupersededByNewNavigation:!1)?2:1),Rn(e=>e!==2),Ai(1)).subscribe(()=>{t()})}var JF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(Nf);stateManager=p(ny);options=p(Os,{optional:!0})||{};pendingTasks=p(ao);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(Ng);urlSerializer=p(Ps);location=p(xr);urlHandlingStrategy=p(Ag);injector=p(Mt);_events=new bt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(Jx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(Ya,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p(Zc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new gt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=Gt(this.navigationTransitions.currentNavigation);if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof ho&&i.code!==Tn.Redirect&&i.code!==Tn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ci)this.navigated=!0;else if(i instanceof qa){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=$({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||KF(o.source)},s);this.scheduleNavigation(a,La,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Q2(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=$({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,r).catch(l=>{this.disposed||this.injector.get(ti)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Gt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Kv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=$($({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=Ix(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Ex(d,e,u,c??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let o=Va(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,La,null,i)}navigate(e,i={skipLocationChange:!1}){return tL(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(no(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=$({},JF):i===!1?o=$({},eL):o=i,Va(e))return ax(this.currentUrlTree,e,o);let r=this.parseUrl(e);return ax(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Bg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tL(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new J(4008,!1)}var eu=class{};var tT=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,o,r){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(e=>e instanceof ci),dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let o=[];for(let r of i){r.providers&&!r._injector&&(r._injector=Ia(r.providers,e,`Route: ${r.path}`));let s=r._injector??e,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Ke(o).pipe(aa())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=Ke(this.loader.loadChildren(e,i)):o=_e(null);let r=o.pipe(Ft(s=>s===null?_e(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(e,i);return Ke([r,s]).pipe(aa())}else return r})}static \u0275fac=function(i){return new(i||n)(ce(Cn),ce(Mt),ce(eu),ce(Rg))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nT=new oe(""),nL=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=La;restoredId=0;store={};constructor(e,i,o,r,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=r,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ci?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof po&&e.code===za.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof Ua))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>ue(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new Ua(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){xC()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function iL(){return p(Cn).routerState.root}function tu(n,t){return{\u0275kind:n,\u0275providers:t}}function oL(){let n=p($t);return t=>{let e=n.get(qi);if(t!==e.components[0])return;let i=n.get(Cn),o=n.get(iT);n.get(oy)===1&&i.initialNavigation(),n.get(sT,null,{optional:!0})?.setUpPreloading(),n.get(nT,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var iT=new oe("",{factory:()=>new bt}),oy=new oe("",{factory:()=>1});function oT(){let n=[{provide:Sf,useValue:!0},{provide:oy,useValue:0},Ea(()=>{let t=p($t);return t.get(nv,Promise.resolve()).then(()=>new Promise(i=>{let o=t.get(Cn),r=t.get(iT);Bg(o,()=>{i(!0)}),t.get(Ng).afterPreactivation=()=>(i(!0),r.closed?_e(void 0):r),o.initialNavigation()}))})];return tu(2,n)}function rT(){let n=[Ea(()=>{p(Cn).setUpLocationChangeListener()}),{provide:oy,useValue:2}];return tu(3,n)}var sT=new oe("");function aT(n){return tu(0,[{provide:sT,useExisting:tT},{provide:eu,useExisting:n}])}function lT(){return tu(8,[Yv,{provide:Zc,useExisting:Yv}])}function cT(n){Nn("NgRouterViewTransitions");let t=[{provide:Jv,useValue:Zx},{provide:ey,useValue:$({skipNextTransition:!!n?.skipInitialTransition},n)}];return tu(9,t)}var uT=[xr,{provide:Ps,useClass:Zo},Cn,ks,{provide:Co,useFactory:iL},Rg,[]],Fg=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[uT,[],{provide:Ya,multi:!0,useValue:e},[],i?.errorHandler?{provide:ty,useValue:i.errorHandler}:[],{provide:Os,useValue:i||{}},i?.useHash?sL():aL(),rL(),i?.preloadingStrategy?aT(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?lL(i):[],i?.bindToComponentInputs?lT().\u0275providers:[],i?.enableViewTransitions?cT().\u0275providers:[],cL()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ya,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ve({type:n});static \u0275inj=pe({})}return n})();function rL(){return{provide:nT,useFactory:()=>{let n=p(F1),t=p(Oe),e=p(Os),i=p(Ng),o=p(Ps);return e.scrollOffset&&n.setOffset(e.scrollOffset),new nL(o,i,n,t,e)}}}function sL(){return{provide:Xo,useClass:lv}}function aL(){return{provide:Xo,useClass:Wf}}function lL(n){return[n.initialNavigation==="disabled"?rT().\u0275providers:[],n.initialNavigation==="enabledBlocking"?oT().\u0275providers:[]]}var iy=new oe("");function cL(){return[{provide:iy,useFactory:oL},{provide:Gf,multi:!0,useExisting:iy}]}var G=(function(n){return n.base="",n.idle="idle",n.start="start",n.howToPlay="how-to-play",n.highScore="high-score",n.highScoreWeekly="high-score-weekly",n.highScoreMonthly="high-score-monthly",n.logon="logon",n.acceptLegal="accept-legal",n.nickname="nickname",n.startGame="start-game",n.gameCountdown="game-countdown",n.game="game",n.gameBetting="game-betting",n.gameMultiplier="game-multiplier",n.gameTopic="game-topic",n.endGameCrm="end-game-c",n.endGame="end-game",n})(G||{});var dT=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-not-found"]],standalone:!1,decls:6,vars:0,consts:[[1,"content"],[1,"content-container"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"div",1)(2,"h1"),M(3,"404"),v(),C(4,"p"),M(5,"Page not found"),v()()())},encapsulation:2})}}return n})();var Q=class n{static isset(t){try{return t!=null}catch{}return!1}static getStringFromObj(t,e,i,o=null){if(t==null)return String(t);switch(typeof t){case"string":return'"'+t+'"';case"object":let r=Array(e||1).join("	"),s=Array.isArray(t);return"{["[+s]+Object.keys(t).map(a=>o&&o.indexOf(a)!==-1?"":`
	`+r+(i?a+": ":"")+n.getStringFromObj(t[a],(e||1)+1,i,o)).join(",")+`
`+r+"}]"[+s];default:return t.toString()}}static getLength(t){if(!n.isset(t))return 0;let e=0;for(let i in t)e++;return e}};var Lg=class n{constructor(t,e,i,o,r,s){this.stationID=t,this.stillThereSeconds=e,this.stillThereLastSeconds=i,this.gameTitle=o,this.eventName=r,this.windowsOnScreenKeyboard=s}static getModelFromJson(t){let e={stationID:void 0,stillThereSeconds:void 0,stillThereLastSeconds:void 0,gameTitle:void 0,eventName:void 0,windowsOnScreenKeyboard:!1};try{e=JSON.parse(t)}catch(i){console.error("Unable to parse config.json",i)}return new n(e.stationID||"ts30",e.stillThereSeconds&&Q.isset(e.stillThereSeconds)?parseInt(e.stillThereSeconds,10):120,e.stillThereLastSeconds&&Q.isset(e.stillThereLastSeconds)?parseInt(e.stillThereLastSeconds,10):20,e.gameTitle||"ROY Speed Quiz Game",e.eventName||"Convention",e.windowsOnScreenKeyboard!==void 0?e.windowsOnScreenKeyboard||!1:!0)}};var vo=class n{static isUserActive(){return navigator.userActivation.isActive}static getCurrentBrowser(){let t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e=navigator.userAgent.indexOf("Opera Mini")>=0,i=navigator.userAgent.indexOf("Firefox")!==-1;i||(i=typeof InstallTrigger<"u"||navigator.userAgent.indexOf("FxiOS")!==-1);let o=/constructor/i.test(window.HTMLElement)||(function(_){return _.toString()==="[object SafariRemoteNotification]"})(!window.safari||typeof safari<"u"&&safari.pushNotification)||navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1,r=!!document.documentMode,s=!r&&!!window.StyleMedia,a=!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime||!!window.chrome.app)||navigator.userAgent.indexOf("CriOS")!==-1,l=a&&navigator.userAgent.indexOf("Edg")!==-1;l&&(a=!1);let c=(a||t)&&!!window.CSS,u=navigator.userAgent.indexOf("Electron")!==-1&&!!(window&&window.process&&window.process.type),d=/iPad/.test(navigator.platform),h=/iPhone/.test(navigator.platform),m=/iPod/.test(navigator.platform),b="";return b+=i?"Firefox ":"",b+=a?"Chrome ":"",b+=o?"Safari ":"",b+=t?"Opera ":"",b+=e?"Opera Mini":"",b+=r?"IE ":"",b+=s?"Edge ":"",b+=l?"EdgeChromium ":"",b+=c?"Blink ":"",b+=u?"Electron ":"",b+=d?"iPad ":"",b+=h?"iPhone ":"",b+=m?"iPod ":"",b}static isIpadOS(){let t=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform);return t||typeof t=="number"&&t!==0}static isIPhoneSafari(){return n.getCurrentBrowser().includes("Safari iPhone")}static isIPadOrPodOrPhone(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isInIframe(){try{return window.self!==window.top}catch{return!0}}static getUserAgent(){return window.navigator.userAgent||""}static isUserAgent(t){return navigator.userAgent.indexOf(t)!==-1}static toggleFullscreen(){return document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}static setOffContextMenu(){window.oncontextmenu=function(){return!1}}static preventDeveloperMenu(){document.onkeydown=function(t){return t.code==="F12"||t.code==="KeyI"&&t.shiftKey&&t.ctrlKey||t.code==="KeyK"&&t.shiftKey&&t.ctrlKey||t.code==="KeyC"&&t.shiftKey&&t.ctrlKey||t.code==="KeyJ"&&t.shiftKey&&t.ctrlKey?(t.preventDefault(),!1):!0}}static stopBackButton(){history.pushState(null,document.title,window.location.href),window.addEventListener("popstate",function(){history.pushState(null,document.title,window.location.href)})}static supportsPassiveEvents(){let t=!1;try{let e=Object.defineProperty({},"passive",{get:function(){t=!0}}),i=()=>{};window.addEventListener("wheel",i,e),window.removeEventListener("wheel",i,e)}catch{}return t}static hasOnTouchStartEvent(){return"ontouchstart"in window}static createPDFDownload(t,e){let i=document.createElement("a");i.href="data:application/pdf;base64, "+encodeURI(e),i.download=t+".pdf",i.dispatchEvent(new MouseEvent("click")),i.remove()}static createFileDownload(t,e){let i=document.createElement("a");i.href=e,i.download=t,i.dispatchEvent(new MouseEvent("click")),i.remove()}};var dt=(function(n){return n.get="GET",n.post="POST",n.put="PUT",n.delete="DELETE",n.patch="PATCH",n.head="HEAD",n})(dt||{});var Gg={production:!0,localhostBaseUrl:"/",editorUrl:"https://editor.r-o-y.de"};var Xa=class n{static isLocalHost(){if(!window.location||!window.location.hostname)return!1;let t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"||t.substring(0,8)==="192.168."||t.substring(0,7)==="172.16."}static getQueryParams(){let t=window.location.hash.indexOf("?");if(t!==-1){let e=window.location.hash.substring(t+1),i={};return e.split("&").map(o=>{let r=o.split("=");i[r[0]]=r[1]}),i}return{}}static getUrlWithData(t="",e=""){let i="";return t.length>0&&(i=t,e.length>0&&(i+="?data="+e)),i}static openUrlWithData(t="",e=""){let i=n.getUrlWithData(t,e);return i.length>0?(window.open(i,"_self"),!0):!1}static clearAllRadioButtons(t){let e=document.getElementsByName(t);for(let i=0;i<e.length;i++)if(e[i].checked){let o=document.getElementById(e[i].id);o&&(o.checked=!1)}}static encodeUrlFully(t){return encodeURIComponent(t.toLowerCase().replace(/\(/g,"%28").replace(/\)/g,"%29"))}static decodeUrlFully(t){return decodeURIComponent(t)}static createDownload(t,e,i=null){fetch(t).then(o=>o.blob()).then(o=>{let r=window.URL.createObjectURL(o),s=document.createElement("a");s.style.display="none",s.href=r,s.download=e,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(r),i&&i()}).catch(()=>{i&&i()})}};var pt=(()=>{class n{constructor(){this.httpClient=p(sg),this.isLoading$=new St(!1),this.error$=new St(null),this.loadingCount=0,this.savedStartTime=0,this._loadingTime=0,this._error=null,this._debounceTimer=-1,this._isBlockingLoading=!1}get isLoading(){return this.loadingCount>0}get isBlockingLoading(){return this._isBlockingLoading}get loadingTime(){return this._loadingTime}get error(){return this._error}resetError(){this._error=null,this.error$.next(this._error)}debounceBlockLoading(e){this._debounceTimer!==-1?(clearTimeout(this._debounceTimer),this._debounceTimer=-1):this._isBlockingLoading=!0,this._debounceTimer=window.setTimeout(()=>{this._isBlockingLoading=!1,this._debounceTimer=-1},e)}doHttpRequest(e,i,o,r=null,s="application/json; charset=UTF-8",a=!1){return this.incrementLoadingCount(),this._error=null,this.savedStartTime=performance.now(),n.doHttpRequest(this.httpClient,e,l=>i(this.onLoadComplete(l)),o,()=>{this.onLoadFinally(),r!==null&&r()},s,a)}incrementLoadingCount(){this.loadingCount++,window.setTimeout(()=>{this.isLoading$.next(this.isLoading)},0)}decrementLoadingCount(){this.loadingCount--,this.loadingCount=Math.max(0,this.loadingCount),window.setTimeout(()=>{this.isLoading$.next(this.isLoading)},10)}onLoadComplete(e){return e}onLoadError(e){let i=e.error||"ERROR";if(i instanceof ProgressEvent){let o=new Error("Internet connection");return Xr(()=>o)}else if(typeof i=="string"&&i.indexOf("The requested URL was not found on this server.")!==-1){let o=new Error("Not found");return Xr(()=>o)}else i instanceof Object&&(i=i.text||i.message||i.error||i);return this._error=i,this.error$.next(i),Xr(()=>i)}onLoadFinally(){this.decrementLoadingCount(),this._loadingTime=Math.round(performance.now()-this.savedStartTime)}static doHttpRequest(e,i,o,r,s,a="application/json; charset=UTF-8",l=!1){let c=i.headerParams;return a!==null&&(c&&typeof c=="object"?c["Content-Type"]=a:c=new fo({"Content-Type":a})),i.httpMethod===dt.post?e.post(i.getUrl(),i.bodyParams,{headers:c,observe:"response",responseType:l?"blob":"json"}).pipe(Te(o),Xn(r),Kn(s)):i.httpMethod===dt.get?e.get(i.getUrl(),{headers:c,observe:"response",responseType:l?"blob":"json"}).pipe(Te(o),Xn(r),Kn(s)):i.httpMethod===dt.put?e.put(i.getUrl(),i.bodyParams,{headers:c,observe:"response",responseType:l?"blob":"json"}).pipe(Te(o),Xn(r),Kn(s)):i.httpMethod===dt.delete?e.request("delete",i.getUrl(),{body:i.bodyParams,headers:c,observe:"response",responseType:l?"blob":"json"}).pipe(Te(o),Xn(r),Kn(s)):i.httpMethod===dt.head?e.head(i.getUrl(),{headers:c,observe:"response",responseType:l?"blob":"json"}).pipe(Te(o),Xn(r),Kn(s)):i.httpMethod===dt.patch?e.patch(i.getUrl(),i.bodyParams,{headers:c,observe:"response",responseType:l?"blob":"json"}).pipe(Te(o),Xn(r),Kn(s)):_e(null)}static isModelFullySet(e){if(!e||typeof e!="object")return!1;e=JSON.parse(JSON.stringify(e));for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!e[i])return!1;return!0}static getBaseHref(){let i=document.querySelector("base")?.getAttribute("href")||window.location.pathname||"/";if(i.match(/\.[a-z0-9]+$/i)){let o=i.lastIndexOf("/");i=o!==-1?i.slice(0,o+1):"/"}return i.endsWith("/")||(i+="/"),i}static getBaseApiUrl(){return Xa.isLocalHost()&&window.location.port!==""?window.location.origin+Gg.localhostBaseUrl:n.getBaseHref()}static getHeadersValueByKey(e,i){if(e&&e.headers){let o=e.headers;if(o.keys().indexOf(i)!==-1)return o.get(i)}return""}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac})}}return n})();var tn=class{constructor(t,e,i={},o={},r={},s={},a=".php"){this.url=t,this.httpMethod=e,this.pathParams=i,this.queryParams=o,this.headerParams=r,this.bodyParams=s,this.urlFileExtension=a}getUrl(){let t=this.getPathParamsUrl(this.url)+this.urlFileExtension;return t=this.getQueryParamsUrl(t),t}getPathParamsUrl(t){let e=t.replace(new RegExp("{{","g"),"{").replace(new RegExp("}}","g"),"}");if(this.pathParams){for(let i in this.pathParams)if(this.pathParams.hasOwnProperty(i)&&this.pathParams[i]){let o=this.pathParams[i],r="{"+i+"}";e.indexOf(r)!==-1&&(e=e.replace(r,o))}}return e.indexOf("{")!==-1&&e.indexOf("}")!==-1&&(e=e.split("/{")[0]),e}getQueryParamsUrl(t=""){if(this.queryParams){let e=[];for(let i in this.queryParams)if(this.queryParams.hasOwnProperty(i)){let o=this.queryParams[i];if(Array.isArray(o))for(let r of o)e.push(i+"[]="+r.toString());else(o||Q.isset(o))&&e.push(i+"="+o.toString())}e.length>0&&(t+="?"+e.join("&"))}return t}};var Vg=class n{constructor(t=null,e=!1){this.categoryId=t,this.debug=e}static getModelFromJson(t){return new n(Q.isset(t.categoryId)?t.categoryId:null,Q.isset(t.debug)?t.debug:!1)}};var zg=(()=>{class n{constructor(){this.isEnabled=!1,this.currentTransition=null}startTransition(e,i,o,r=null){return ue(this,null,function*(){if(!("startViewTransition"in document)){yield o();return}if(!this.isEnabled||this.currentTransition||e===i){yield o();return}let s=this.getAnimationType(e,i);document.documentElement.setAttribute("data-transition",s),this.currentTransition=document.startViewTransition(()=>ue(this,null,function*(){yield o()})),this.currentTransition.finished.then(()=>{this.currentTransition=null,document.documentElement.removeAttribute("data-transition"),r&&r()}).catch(a=>{document.documentElement.removeAttribute("data-transition")}),yield this.currentTransition.ready})}removeLeadingSlash(e){return e.replace(/^\//,"")}getAnimationType(e,i){return e=this.removeLeadingSlash(e),i=this.removeLeadingSlash(i),e===G.base&&i===G.gameTopic||e===G.gameTopic&&i===G.game?"fade-long":e&&i&&this.isGameHighScoreGroup(e)&&this.isGameHighScoreGroup(i)||e===G.game&&i===G.gameMultiplier?"fade":i&&this.isGameHighScoreGroup(i)||e===G.base&&i===G.howToPlay?"slide-left":e===G.base&&i===G.howToPlay||e===G.howToPlay&&i===G.base||e&&this.isGameHighScoreGroup(e)?"slide-right":"fade"}isGameHighScoreGroup(e){return e.startsWith(G.highScore)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var de=(()=>{class n extends pt{constructor(){super(),this.viewTransitionService=p(zg),this.qz=p("APP_QUIZ_ID"),this.isScormPackage=p("IS_SCORM_PACKAGE"),this.router=p(Cn),this.ngZone=p(Oe),this.signalLoadPercentage=w(0),this.signalIsInitialisationComplete=w(!1),this.signalIsLazyLoading=w(!1),this.signalIsGoogleBot=w(!1),this.signalBtnBackgroundImageUrl=w("none"),this.serverTime=new Date,this.serverTime$=new St(this.serverTime),this.signalCurrentBrowser=w(""),this.signalIsChromeBrowser=w(!1),this._isSelectedRouteValid=!1,this.currentRoute="",this.lastRoute="",this.appConfig=Lg.getModelFromJson("{}"),this.signalAppConfig=w(this.appConfig);let e=new URLSearchParams(window.location.search),i=Object.fromEntries(e.entries());this.appQueryParams=Vg.getModelFromJson(i),this.signalAppQueryParams=w(this.appQueryParams),this.signalReferrerUrl=w(document.referrer),this.signalCurrentBrowser.set(vo.getCurrentBrowser()),this.signalIsChromeBrowser.set(!this.signalCurrentBrowser().includes("iPad")&&(this.signalCurrentBrowser().includes("Chrome")||this.signalCurrentBrowser().includes("Electron"))),vo.setOffContextMenu(),vo.preventDeveloperMenu(),navigator.userAgent.indexOf("Googlebot")!==-1&&this.signalIsGoogleBot.set(!0)}doDevUrlCleanup(){return window.location.origin.includes(":4")&&window.location.href!==window.location.origin+"/"&&window.location.href!==window.location.origin&&window.location.href!==window.location.origin+"/"+window.location.search?(window.location.href=window.location.origin+"/"+window.location.search,!0):!1}setInitialisationComplete(){this.signalIsInitialisationComplete.set(!0)}setAppConfig(e){this.appConfig=e,this.signalAppConfig.set(this.appConfig),console.log(this.appConfig)}checkSelectedRoute(e){return this._isSelectedRouteValid?(this._isSelectedRouteValid=!1,this.lastRoute=this.currentRoute,this.currentRoute=e,!1):(this.lastRoute="",this.currentRoute="",this.navigateToRoute(G.base).then(),!0)}navigateToRoute(e,i=null,o=null,r){return ue(this,null,function*(){let s=[e];o&&s.push(o);let a={queryParamsHandling:"replace",onSameUrlNavigation:"reload"};this.qz&&(a.queryParams={qz:this.qz}),a.onSameUrlNavigation="reload",i&&(a.fragment=i),this._isSelectedRouteValid=!0;let l=this.router.url.split("?")[0],c="/"+e,u=!1;return yield this.viewTransitionService.startTransition(l,c,()=>ue(this,null,function*(){u=yield this.ngZone.run(()=>this.router.navigate(s,a).then(()=>(history.pushState(null,document.title,window.location.href),!0)))}),r),u})}getBaseConfig(){let e=pt.getBaseApiUrl()+"assets/json/base-config",i=new tn(e,dt.get,null,null,null,null,".json");return this.doHttpRequest(i,o=>o.body?(o.body.referrerURL,o.body):null,o=>this.onLoadError(o))}send(e){let i={bl:e};this.signalIsGoogleBot()&&(i.ua=navigator.userAgent);let o=pt.getBaseApiUrl()+"api/init",r=new tn(o,dt.post,null,null,null,i);return this.doHttpRequest(r,s=>(Object.hasOwn(s.body,"time")?this.serverTime=new Date(s.body.time):this.serverTime=new Date,this.serverTime$.next(this.serverTime),window.setTimeout(()=>{this.setInitialisationComplete()},4e3),!!s.body),s=>(this.serverTime=new Date,this.serverTime$.next(this.serverTime),this.onLoadError(s)))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hn=(function(n){return n.noStop="noStop",n.stop="stop",n.pause="pause",n})(Hn||{});var Hg=class{constructor(t,e,i,o){this.urlOrBlob=t,this.name=e,this.volume=i,this.isLooping=o,this.buffer=null,this.bufferSourceNode=null,this.gainNode=null,this.isPlaying=!1,this.isMuted=!1,this.soundTimeoutId=-1,this.stopType=Hn.noStop,this._playAttempt=-1,this.audioContextStartTime=-1,this.audioContextPauseTime=-1,this.audioContext=null}init(t){return ue(this,null,function*(){if(this.audioContext=t,typeof this.urlOrBlob=="string")try{let i=yield(yield window.fetch(this.urlOrBlob)).arrayBuffer();this.buffer=yield this.decodeAudioDataAsync(t,i)}catch(e){console.error(e)}else if(this.urlOrBlob instanceof Blob)try{let e=yield this.urlOrBlob.arrayBuffer();this.buffer=yield this.decodeAudioDataAsync(t,e)}catch(e){console.error(e)}})}decodeAudioDataAsync(t,e){return ue(this,null,function*(){return new Promise((i,o)=>t.decodeAudioData(e,i,o))})}play(t,e,i=null){return ue(this,null,function*(){this.buffer||(yield this.init(t)),this.soundTimeoutId>-1&&(window.clearInterval(this.soundTimeoutId),this.soundTimeoutId=-1),i&&(this.volume=i),this.tryPlay(e)})}waitPlay(t){this._playAttempt=window.setTimeout(()=>{this.tryPlay(t)},500)}tryPlay(t){if(!this.buffer){this.waitPlay(t);return}if(!this.checkAudioContext()){this.waitPlay(t);return}if(this._playAttempt>-1&&(clearInterval(this._playAttempt),this._playAttempt=-1),this.isMuted)return;if(!t&&this.isPlaying&&this.bufferSourceNode&&this.gainNode!==null){this.gainNode.gain.value=this.volume;return}let e=0;if(!t&&this.audioContextStartTime>-1&&this.audioContextPauseTime>-1&&(e=this.audioContextPauseTime-this.audioContextStartTime),this.bufferSourceNode&&(this.bufferSourceNode.disconnect(),this.bufferSourceNode.stop(),this.bufferSourceNode=null),this.gainNode!==null&&(this.gainNode.disconnect(),this.gainNode=null),!this.audioContext){console.warn("Sound: "+this.name+" has no audio context.");return}this.bufferSourceNode=this.audioContext.createBufferSource(),this.bufferSourceNode.buffer=this.buffer,this.bufferSourceNode.loop=this.isLooping,this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=this.volume,this.gainNode.connect(this.audioContext.destination),this.bufferSourceNode.connect(this.gainNode),this.bufferSourceNode.start(e),this.audioContextStartTime=this.audioContext.currentTime,this.audioContextPauseTime=-1,this.isPlaying=!0}checkAudioContext(){if(this.audioContext?.state==="suspended")try{this.audioContext.resume().then()}catch{return!1}return!0}pause(){this.isPlaying=!1,this.bufferSourceNode&&this.bufferSourceNode.stop(),this._playAttempt>-1&&(clearInterval(this._playAttempt),this._playAttempt=-1),this.stopType=Hn.noStop,this.audioContext&&(this.audioContextPauseTime=this.audioContext.currentTime)}stop(){this.isPlaying=!1,this.bufferSourceNode&&(this.bufferSourceNode.disconnect(),this.bufferSourceNode.stop(),this.bufferSourceNode=null),this._playAttempt>-1&&(clearInterval(this._playAttempt),this._playAttempt=-1),this.gainNode!==null&&(this.gainNode.disconnect(),this.gainNode=null),this.audioContextStartTime=-1,this.audioContextPauseTime=-1,this.stopType=Hn.noStop}delete(){this.stop(),this.buffer&&(this.buffer=null)}};var K=class{constructor(){}static setTimeout(t,e=0){let i=Zm(e).pipe(Ai(1)).subscribe({next:()=>{i.unsubscribe(),t()},error:o=>{i.unsubscribe(),t()}});return i}};var Ce=(()=>{class n{static{this.areLeavingFocusEventsSet=!1}get isMuted(){return this._isMuted}get isAudiContextInitialized(){return this.audioContext!==null&&this.audioContext.state==="running"}constructor(){this.signalSounds=w([]),this.signalBackgroundSounds=w([]),this._sounds=[],this._backgroundSounds=[],this.audioContext=null,this._isMuted=!1,this.isLeavingFocusMuted=!1,this._currentBackgroundSoundName=null,this.initCallback=null,this.initializeAudioContextCallback=this.initializeAudioContext.bind(this),["touchstart","touchend","mousedown","keydown"].forEach(i=>window.addEventListener(i,this.initializeAudioContextCallback,!1)),n.areLeavingFocusEventsSet||(n.areLeavingFocusEventsSet=!0,window.addEventListener("focus",()=>{if(this.isLeavingFocusMuted){this.isLeavingFocusMuted=!1;return}this.unmuteAllSounds()}),window.addEventListener("blur",()=>{this._isMuted?this.isLeavingFocusMuted=!0:this.muteAllSounds()}))}setInitCallback(e){this.initCallback=e}unsetInitCallback(){this.initCallback=null}initializeAudioContext(){["touchstart","touchend","mousedown","keydown"].forEach(i=>window.removeEventListener(i,this.initializeAudioContextCallback)),K.setTimeout(()=>{let i=window.AudioContext||window.webkitAudioContext;this.audioContext=new i,this.unlockAudioContext(),this.initCallback&&this.initCallback()},0)}unlockAudioContext(){if(!this.audioContext)return;let e=this.audioContext.createBuffer(1,1,this.audioContext.sampleRate),i=this.audioContext.createBufferSource();if(i.buffer=e,i.connect(this.audioContext.destination),this.audioContext.state==="suspended")try{this.audioContext.resume().then()}catch(o){}i.start?i.start(0):i.noteOn(0)}addSound(e,i,o=1,r=!1,s=!1){let a=this.getByName(e);return a?(a.volume=o,a.gainNode!==null&&(a.gainNode.gain.value=o),!0):(a=new Hg(i,e,o,s),a.isMuted=this._isMuted,r?(this._backgroundSounds.push(a),this.signalBackgroundSounds.set(this._backgroundSounds)):(this._sounds.push(a),this.signalSounds.set(this._sounds)),!0)}addBackgroundSound(e,i,o=1){return this.addSound(e,i,o,!0,!0)}playSound(e,i,o=null,r=null){let s=this.getByName(e);!this.audioContext||!s||s.play(this.audioContext,i,o).then(()=>{r&&r()})}stopSound(e){let i=this.getByName(e);i&&i.stop()}pauseSound(e){let i=this.getByName(e);i&&i.pause()}removeSound(e){let i=this.getByName(e);i&&(i.delete(),this._sounds.includes(i)?(this._sounds.splice(this._sounds.indexOf(i),1),this.signalSounds.set(this._sounds)):this._backgroundSounds.includes(i)&&(this._backgroundSounds.splice(this._backgroundSounds.indexOf(i),1),this.signalBackgroundSounds.set(this._backgroundSounds)))}stopAllBackgroundSounds(){this._currentBackgroundSoundName=null,this._backgroundSounds.forEach(e=>{e.isPlaying&&(e.stop(),e.stopType=Hn.stop)})}toggleIsMuted(){this._isMuted?this.unmuteAllSounds():this.muteAllSounds()}unmuteAllSounds(){this._isMuted&&(this._isMuted=!1,this._backgroundSounds.forEach(e=>{e.isMuted=!1}),this._sounds.forEach(e=>{e.isMuted=!1}),this._currentBackgroundSoundName&&this.playBackgroundSound(this._currentBackgroundSoundName))}muteAllSounds(){if(this._isMuted||(this._isMuted=!0,!this.audioContext))return;let e=this._currentBackgroundSoundName;this._backgroundSounds.forEach(i=>{i.isMuted=!0,(i.isPlaying||i.soundTimeoutId!==-1)&&this.fadeOutSound(i.name,500,Hn.pause)}),this._currentBackgroundSoundName=e,this._sounds.forEach(i=>{i.isMuted=!0,(i.isPlaying||i.soundTimeoutId!==-1)&&i.gainNode?.gain.setValueAtTime(0,this.audioContext.currentTime)})}getByName(e){let i=this._sounds.find(o=>o.name===e?o:null);return i||(i=this._backgroundSounds.find(o=>o.name===e?o:null)),i??null}playBackgroundSound(e,i=2e3,o=Hn.stop){this._backgroundSounds.forEach(r=>{r.name!==e&&this.fadeOutSound(r.name,i,o)}),this._backgroundSounds.forEach(r=>{r.name===e&&(this._currentBackgroundSoundName=e,this.playSound(e,!1,r.volume))})}fadeOutSound(e,i=1,o=Hn.noStop){this._currentBackgroundSoundName===e&&(this._currentBackgroundSoundName=null);let r=this.getByName(e);!r||r.gainNode===null||this.tweenSoundVolume(e,0,i,o)}fadeInSound(e,i=1){let o=this.getByName(e);!o||o.gainNode===null||this.tweenSoundVolume(e,o.volume,i)}tweenSoundVolume(e,i,o=1,r=Hn.noStop){let s=this.getByName(e);if(!s||s.gainNode===null||!s.isPlaying&&i===0)return;s.stopType=r;let a=s.gainNode.gain.value;if(this.playSound(e,!1),s.gainNode.gain.value=a,a===i)return;let l=50,c=o,u=0;s.soundTimeoutId!==-1&&(window.clearInterval(s.soundTimeoutId),s.soundTimeoutId=-1),s.soundTimeoutId=window.setInterval(()=>{c-=l,u=1-c/o,s.gainNode!==null&&(s.gainNode.gain.value=this.lerp(a,i,u)),c<=0&&(s.gainNode!==null&&(s.gainNode.gain.value=i),s.stopType===Hn.stop?this.stopSound(s.name):s.stopType===Hn.pause&&this.pauseSound(s.name),window.clearInterval(s.soundTimeoutId),s.soundTimeoutId=-1)},l)}crossFadeSounds(e,i,o=1,r=Hn.noStop){this.fadeOutSound(e,o,r),this.fadeInSound(i,o)}lerp(e,i,o){return o=o<0?0:o,o=o>1?1:o,e+(i-e)*o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yi=(()=>{class n{constructor(){this.signalIsLoading=w(!1),this._loadingCount=0}downloadFilesWithProgress(e,i){return ue(this,null,function*(){this.updateIsLoading(1);let o={loaded:0,total:0},r=e.map(a=>ue(this,null,function*(){let l=yield fetch(a.url);if(!l.ok)throw new Error(`Failed to download ${a.name}: ${a.url}`);let c=l.headers.get("content-length");if(c!==null){let B=parseInt(c,10);o.total+=B}let u=l.body;if(!u)return new Promise(()=>{console.error("Unable to get stream.")});let d=u.getReader(),h=[],m=!0;for(;m;){let{done:B,value:H}=yield d.read();if(B){m=!1;break}h.push(H),o.loaded+=H.length,i(o.loaded,o.total,Math.floor(o.loaded/o.total*100))}let b=l.headers.get("content-type")??"",_=h.reduce((B,H)=>B+H.byteLength,0),S=new Uint8Array(_),T=0;for(let B of h)S.set(B,T),T+=B.byteLength;return{name:a.name,blob:new Blob([S.buffer],{type:b})}})),s=yield Promise.all(r);return this.updateIsLoading(-1),s})}getBlobFromFiles(e,i){for(let o of i)if(o.name===e)return o.blob;return null}loadFiles(e){return ue(this,null,function*(){if(e.length===0)return[];this.updateIsLoading(1);try{let i=yield Promise.all(e.map(o=>ue(this,null,function*(){let r=yield fetch(o);if(!r.ok)throw new Error(`Error at loading URL: ${o} \u2013 status: ${r.status}`);return r})));return yield Promise.all(i.map(o=>ue(this,null,function*(){return this.updateIsLoading(-1),yield o.blob()})))}catch(i){throw this.updateIsLoading(-1),i}})}updateIsLoading(e){this._loadingCount+=e,this._loadingCount=Math.max(0,this._loadingCount),K.setTimeout(()=>{this.signalIsLoading.set(this._loadingCount>0)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ug=class n{constructor(t){this.mushroomButtons=t}static getModelFromJson(t){let e=[];if(t.mushroomButtons&&Array.isArray(t.mushroomButtons))for(let i=0,o=t.mushroomButtons.length;i<o;++i){let r=t.mushroomButtons[i];Q.isset(r.gamepadId)&&Q.isset(r.buttonIndex)&&e.push({gamepadId:r.gamepadId,buttonIndex:r.buttonIndex})}return new n(e)}};var fT=(()=>{class n extends pt{constructor(){super(...arguments),this.appBackendConfig=null,this.signalAppBackendConfig=w(null)}get(){let e=pt.getBaseApiUrl()+"api/app-config/get",i=new tn(e,dt.get,null,null,null,null);return this.doHttpRequest(i,o=>(o.body.config&&this.setAppBackendConfig(Ug.getModelFromJson(o.body.config)),this.appBackendConfig),o=>this.onLoadError(o))}update(e){let i=pt.getBaseApiUrl()+"api/app-config/update",o=[];for(let s of e)o.push({gamepadId:s.gamepadId,buttonIndex:s.buttonIndex});let r=new tn(i,dt.post,{},{},{},{mushroomButtons:o});return this.doHttpRequest(r,s=>s.body.done??!1,s=>this.onLoadError(s),null,null,!1)}setAppBackendConfig(e){this.appBackendConfig=e,this.signalAppBackendConfig.set(this.appBackendConfig),console.log(this.appBackendConfig)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})()}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fL=Hl;function gL(n){return!!n[fL]}var hL=Symbol("__destroy"),pT=Symbol("__decoratorApplied");function CT(n){return typeof n=="string"?Symbol(`__destroy__${n}`):hL}function mL(n){n.prototype[pT]=!0}function vT(n,t){n[t]||(n[t]=new bt)}function yT(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function _T(n){n instanceof gt&&n.unsubscribe()}function pL(n){Array.isArray(n)&&n.forEach(_T)}function bT(n,t){return function(){if(n&&n.call(this),yT(this,CT()),t.arrayName&&pL(this[t.arrayName]),t.checkProperties)for(let e in this)t.blackList?.includes(e)||_T(this[e])}}function CL(n,t){n.prototype.ngOnDestroy=bT(n.prototype.ngOnDestroy,t)}function vL(n,t){let e=n.\u0275pipe;e.onDestroy=bT(e.onDestroy,t)}function nn(n={}){return t=>{gL(t)?vL(t,n):CL(t,n),mL(t)}}var gT=7,hT=Symbol("CheckerHasBeenSet");function yL(n,t){n[hT]||_L()||(mT(()=>Ke(Promise.resolve()).pipe(Ft(()=>{let e;try{e=iC(n)}catch{e=null}let i=e?.lView;if(i==null)return Xt;let o=i[gT]||(i[gT]=[]),r=new bt;return o.push(function(){mT(()=>{r.next(),r.complete()})}),r}),Ft(()=>Promise.resolve())).subscribe(()=>{(t.observed??t.observers.length>0)&&console.warn(bL(n))})),n[hT]=!0)}function _L(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"}function mT(n){let t=xt.Zone;return!!t&&typeof t.root?.run=="function"?t.root.run(n):n()}function bL(n){return`
  The ${n.constructor.name} still has subscriptions that haven't been unsubscribed.
  This may happen if the class extends another class decorated with @UntilDestroy().
  The child class implements its own ngOnDestroy() method but doesn't call super.ngOnDestroy().
  Let's look at the following example:
  @UntilDestroy()
  @Directive()
  export abstract class BaseDirective {}
  @Component({ template: '' })
  export class ConcreteComponent extends BaseDirective implements OnDestroy {
    constructor() {
      super();
      someObservable$.pipe(untilDestroyed(this)).subscribe();
    }
    ngOnDestroy(): void {
      // Some logic here...
    }
  }
  The BaseDirective.ngOnDestroy() will not be called since Angular will call ngOnDestroy()
  on the ConcreteComponent, but not on the BaseDirective.
  One of the solutions is to declare an empty ngOnDestroy method on the BaseDirective:
  @UntilDestroy()
  @Directive()
  export abstract class BaseDirective {
    ngOnDestroy(): void {}
  }
  @Component({ template: '' })
  export class ConcreteComponent extends BaseDirective implements OnDestroy {
    constructor() {
      super();
      someObservable$.pipe(untilDestroyed(this)).subscribe();
    }
    ngOnDestroy(): void {
      // Some logic here...
      super.ngOnDestroy();
    }
  }
  `}var ry=!1;function SL(n,t,e){let i=n[t];if(ry&&typeof i!="function")throw new Error(`${n.constructor.name} is using untilDestroyed but doesn't implement ${t}`);vT(n,e),n[t]=function(){i.apply(this,arguments),yT(this,e),n[t]=i}}function yo(n,t){return e=>{let i=CT(t);typeof t=="string"?SL(n,t,i):(ry&&wL(n),vT(n,i));let o=n[i];return ry&&yL(n,o),e.pipe(Kr(o))}}function wL(n){let t=Object.getPrototypeOf(n);if(!(pT in t))throw new Error("untilDestroyed operator cannot be used inside directives or components or providers that are not decorated with UntilDestroy decorator")}var V=(function(n){return n.click="click",n.modalFadeIn="modalFadeIn",n.modalFadeOut="modalFadeOut",n.buttonSelected="buttonSelected",n.cardFadeIn="cardFadeIn",n.cardFadeOut="cardFadeOut",n.answerRight="answerRight",n.answerWrong="answerWrong",n.multiplierFinish="multiplierFinish",n.categoryFlash="categoryFlash",n.scoreArrive="scoreArrive",n.endGame="endGame",n.introMusic="introMusic",n.chooseTopicMusic01="chooseTopicMusic01",n.mainMusic01="mainMusic01",n.mainMusic02="mainMusic02",n.mainMusic03="mainMusic03",n.endGameMusic="endGameMusic",n.gameMultiplierMusic01="gameMultiplierMusic01",n.gameMultiplierMusic02="gameMultiplierMusic02",n.gameMultiplierMusic03="gameMultiplierMusic03",n})(V||{});var ln=class{static moveElement(t,e,i){let o=t.indexOf(e),r=o+i;if(r>-1&&r<t.length){let s=t.splice(o,1)[0];t.splice(r,0,s)}return t}static groupBy(t,e){let i=new Map(Array.from(t,o=>[o[e],[]]));return t.forEach(o=>i.get(o[e]).push(o)),Array.from(i.values())}static sortBy(t,e,i){return t.sort((o,r)=>{let s=o[e],a=r[e];return s<a?i?-1:1:s>a?i?1:-1:0})}static shuffleArray(t){for(let e=t.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;let i=t.slice().sort(),o=e.slice().sort();return i.every((r,s)=>r===o[s])}static getCopy(t){let e=[];for(let i=0;i<e.length;i++)e[i]=t[i];return e}static isIdInList(t,e){for(let i of t)if(i.id===e)return!0;return!1}static isValueInList(t,e,i){for(let o of t)if(o[e]===i)return!0;return!1}static removeElementById(t,e){let i=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){i=o;break}return i!==-1&&t.splice(i,1),t}static removeElementByValue(t,e,i){let o=-1;for(let r=0;r<t.length;r++)if(t[r][e]===i){o=r;break}return o!==-1&&t.splice(o,1),t}static hasEqualEntries(t,e){return t.length===e.length&&t.every((i,o)=>i===e[o])}};var qg=class{constructor(t,e,i,o){this.id=t,this.name=e,this.url=i,this.basePath=o,this.categorySplitScreenConfig=null}};var Rs=(function(n){return n.en="en",n.de="de",n})(Rs||{});var Dr=(function(n){return n["en-main"]="en-main",n["en-GB"]="en-GB",n["de-DE"]="de-DE",n["en-PS"]="en-PS",n["en-BA"]="en-BA",n["hr-BA"]="hr-BA",n["hr-HR"]="hr-HR",n["cs-CZ"]="cs-CZ",n["da-DK"]="da-DK",n["nl-NL"]="nl-NL",n["en-NZ"]="en-NZ",n["en-RS"]="en-RS",n["en-AU"]="en-AU",n["en-IL"]="en-IL",n["en-IE"]="en-IE",n["en-EG"]="en-EG",n["en-CY"]="en-CY",n["en-SG"]="en-SG",n["fi-FI"]="fi-FI",n["fr-FR"]="fr-FR",n["fr-MA"]="fr-MA",n["fr-TN"]="fr-TN",n["fr-GF"]="fr-GF",n["fr-MQ"]="fr-MQ",n["fr-GP"]="fr-GP",n["fr-BE"]="fr-BE",n["nl-BE"]="nl-BE",n["de-AT"]="de-AT",n["de-LU"]="de-LU",n["fr-LU"]="fr-LU",n["de-CH"]="de-CH",n["fr-CH"]="fr-CH",n["it-CH"]="it-CH",n["el-GR"]="el-GR",n["hu-HU"]="hu-HU",n["it-IT"]="it-IT",n["en-NO"]="en-NO",n["pl-PL"]="pl-PL",n["pt-PT"]="pt-PT",n["fr-RE"]="fr-RE",n["ro-RO"]="ro-RO",n["cs-SK"]="cs-SK",n["sl-SI"]="sl-SI",n["es-ES"]="es-ES",n["es-MX"]="es-MX",n["es-CO"]="es-CO",n["es-PE"]="es-PE",n["sv-SE"]="sv-SE",n["tr-TR"]="tr-TR",n["en-MK"]="en-MK",n})(Dr||{});var g=class{static{this.startRoute=G.base}static{this.startQuiz=1}static{this.areMiniGamesEnabled=!0}static{this.startMultiplierGame=1}static{this.areMultiplierGames=!1}static{this.maxMultiplierGameCount=3}static{this.maxQuizRoundCount=3}static{this.maxQuizQuestionCount=5}static{this.minCorrectComboCount=3}static{this.maxQuizQuestionTime=15e3}static{this.isDebugConsole=!1}static{this.isInlineConsoleVisible=!1}static{this.defaultLanguage=Rs.de}static{this.defaultLocale=Dr["en-main"]}static{this.requiredLanguages=[Rs.en]}static{this.languages=[Rs.en]}static{this.quizGameDefaultTitleAlignment="left"}static{this.quizGameDefaultTitleFontSize=158}static{this.quizGameDefaultTitleLineHeight=.75}static{this.quizGameDefaultTitleAnimation=0}static{this.quizGameDefaultFontColorTitle="#1b3848"}static{this.quizGameDefaultFontColorMain="#ffffff"}static{this.quizGameDefaultFontColorLink="#ffffff"}static{this.quizGameDefaultColorCorrect="#258f50db"}static{this.quizGameDefaultColorWrong="#ba2727d1"}static{this.quizGameDefaultBackgroundColor="#53843f88"}static{this.quizGameDefaultContainerRadiusPx=0}static{this.quizGameDefaultContainerBorderPx=0}static{this.quizGameDefaultContainerBorderColor="#000000"}static{this.quizGameDefaultTableBackgroundColor="#ffffff17"}static{this.quizGameDefaultTableBackgroundRowOddColor="#ffffff1a"}static{this.quizGameDefaultTableRadiusPx=0}static{this.quizGameDefaultTableBorderPx=0}static{this.quizGameDefaultTableBorderColor="#000000"}static{this.quizGameDefaultTableRankFontColor="#ffffff"}static{this.quizGameDefaultTableRankBackgroundColor1="#71afa540"}static{this.quizGameDefaultTableRankBackgroundColor2="#00897e1a"}static{this.quizGameDefaultTableRankBackgroundColor3="#71afa540"}static{this.quizGameDefaultTableRankBackgroundColor4="#00917e1a"}static{this.quizGameDefaultTableRankAniDuration=2}static{this.quizGameDefaultTableRankRadiusPx=0}static{this.quizGameDefaultTableRankBorderPx=0}static{this.quizGameDefaultTableRankBorderColor="#000000"}static{this.quizGameDefaultFontColorButton="#ffffff"}static{this.quizGameDefaultColorButtonBg="#d4d4d442"}static{this.quizGameDefaultButtonRadiusPx=0}static{this.quizGameDefaultButtonBorderPx=0}static{this.quizGameDefaultButtonBorderColor="#000000"}static{this.quizGameDefaultButtonGlowColor="#ffffff"}static{this.quizGameDefaultButtonGlowRadiusPx=1}static{this.quizGameDefaultButtonGlowDuration=0}static{this.quizGameDefaultButtonStartGlowDuration=2}static{this.quizGameDefaultButtonPulseScale=.95}static{this.quizGameDefaultButtonPulseDuration=2.5}static{this.quizGameDefaultFontColorIconButton="#ffffff"}static{this.quizGameDefaultColorIconButtonBg="#d4d4d442"}static{this.quizGameDefaultIconButtonRadiusPx=0}static{this.quizGameDefaultIconButtonBorderPx=0}static{this.quizGameDefaultIconButtonBorderColor="#000000"}static{this.quizGameDefaultMinigameMainColor="#BB59F0"}static{this.quizGameDefaultMinigameMainColorA02="#BB59F033"}static{this.quizGameDefaultMinigameMainColorA03="#BB59F04D"}static{this.quizGameDefaultMinigameMainColorA06="#BB59F099"}static{this.quizGameDefaultMinigameMainColorA08="#BB59F0CC"}static{this.quizGameDefaultMinigameFontColor="#ffffff"}static{this.quizGameDefaultMinigameBackgroundColor1="#00000080"}static{this.quizGameDefaultMinigameBackgroundColor2="#000000"}static{this.quizGameDefaultMinigameBallHolderShotColor="#59187a"}static{this.quizGameDefaultMinigameTargetBackgroundColor="#53535380"}static{this.quizGameDefaultMinigameTargetBackgroundColor2="#59187a"}static{this.quizGameDefaultMinigameTargetHoleBackgroundColor="#00000000"}static{this.quizGameDefaultMinigameObstacleBackgroundColor="#00000000"}static{this.quizGameDefaultMinigameOutlineColor="#BB59F099"}static{this.quizGameDefaultMinigameBallColor="#ec6a1e"}static{this.quizGameDefaultMinigameBallLightColor="#ec6a1e4c"}static{this.quizGameDefaultSplitScreenColorBg="#d4d4d442"}static{this.quizGameDefaultGameHeaderColorBg="#ffffff4d"}};var $g=class n{constructor(t,e,i,o,r,s,a,l,c){this.isEnabled=t,this.isFirstNameEnabled=e,this.isLastNameEnabled=i,this.isBirthdateEnabled=o,this.isOrganisationEnabled=r,this.isEmailEnabled=s,this.isMessageEnabled=a,this.typeCollectInformation=l,this.urlCollectInformation=c}static getModelFromJSON(t){return t?new n(t.isEnabled??!1,t.isFirstNameEnabled??!1,t.isLastNameEnabled??!1,t.isBirthdateEnabled??!1,t.isOrganisationEnabled??!1,t.isEmailEnabled??!1,t.isMessageEnabled??!1,t.typeCollectInformation??null,t.urlCollectInformation??null):null}};var Dn=(function(n){return n[n.oneStep=0]="oneStep",n[n.twoSteps=1]="twoSteps",n})(Dn||{});var Qt=(function(n){return n[n.diagonalLeftToRight=0]="diagonalLeftToRight",n[n.diagonalRightToLeft=1]="diagonalRightToLeft",n[n.horizontal=2]="horizontal",n[n.vertical=3]="vertical",n})(Qt||{});var ke=class n{constructor(t=g.quizGameDefaultFontColorButton,e=g.quizGameDefaultColorButtonBg,i=g.quizGameDefaultButtonBorderPx,o=g.quizGameDefaultFontColorButton){this.fontColor=t,this.colorBg=e,this.border=i,this.borderColor=o,this.radius=g.quizGameDefaultButtonRadiusPx,this.glowColor=g.quizGameDefaultButtonGlowColor,this.glowRadius=g.quizGameDefaultButtonGlowRadiusPx,this.glowDuration=g.quizGameDefaultButtonGlowDuration,this.pulseScale=g.quizGameDefaultButtonPulseScale,this.pulseDuration=g.quizGameDefaultButtonPulseDuration}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.fontColor??g.quizGameDefaultFontColorButton,t.colorBg??g.quizGameDefaultColorButtonBg,Q.isset(t.border)?parseInt(t.border,10):g.quizGameDefaultButtonBorderPx,t.borderColor??g.quizGameDefaultButtonBorderColor);return Q.isset(t.radius)&&(e.radius=parseInt(t.radius,10)),t.glowColor&&(e.glowColor=t.glowColor),Q.isset(t.glowRadius)&&(e.glowRadius=parseInt(t.glowRadius,10)),Q.isset(t.glowDuration)&&(e.glowDuration=parseInt(t.glowDuration,10)),Q.isset(t.pulseScale)&&(e.pulseScale=parseFloat(t.pulseScale)),Q.isset(t.pulseDuration)&&(e.pulseDuration=parseFloat(t.pulseDuration)),e}};var Ne=class n{constructor(t=g.quizGameDefaultFontColorMain,e=g.quizGameDefaultBackgroundColor){this.fontColor=t,this.colorBg=e,this.colorBg2=g.quizGameDefaultBackgroundColor,this.colorBg3=g.quizGameDefaultBackgroundColor,this.colorBg4=g.quizGameDefaultBackgroundColor,this.colorBg5=g.quizGameDefaultBackgroundColor,this.isFontBold=!1,this.radius=g.quizGameDefaultButtonRadiusPx,this.border=g.quizGameDefaultContainerBorderPx,this.borderColor=g.quizGameDefaultContainerBorderColor}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.fontColor??g.quizGameDefaultFontColorMain,t.colorBg??g.quizGameDefaultBackgroundColor);return Q.isset(t.colorBg2)&&(e.colorBg2=t.colorBg2),Q.isset(t.colorBg3)&&(e.colorBg3=t.colorBg3),Q.isset(t.colorBg4)&&(e.colorBg4=t.colorBg4),Q.isset(t.colorBg5)&&(e.colorBg5=t.colorBg5),Q.isset(t.isFontBold)&&(e.isFontBold=!!t.isFontBold),Q.isset(t.radius)&&(e.radius=parseInt(t.radius,10)),Q.isset(t.border)&&(e.border=parseInt(t.border,10)),Q.isset(t.borderColor)&&(e.borderColor=t.borderColor),e}};var Ka=class n{constructor(t=g.quizGameDefaultFontColorTitle,e=g.quizGameDefaultTitleAlignment,i=g.quizGameDefaultFontColorMain,o=g.quizGameDefaultFontColorMain,r=g.quizGameDefaultFontColorMain,s=g.quizGameDefaultTableBackgroundColor,a=g.quizGameDefaultTableBackgroundRowOddColor,l=g.quizGameDefaultTableRadiusPx,c=g.quizGameDefaultTableBorderPx,u=g.quizGameDefaultTableBorderColor,d=g.quizGameDefaultTableRankFontColor,h=g.quizGameDefaultTableRankBackgroundColor1,m=g.quizGameDefaultTableRankBackgroundColor2,b=g.quizGameDefaultTableRankBackgroundColor3,_=g.quizGameDefaultTableRankBackgroundColor4,S=g.quizGameDefaultTableRankAniDuration,T=g.quizGameDefaultTableRankRadiusPx,B=g.quizGameDefaultTableRankBorderPx,H=g.quizGameDefaultTableRankBorderColor,U=g.quizGameDefaultTableRankFontColor,F=g.quizGameDefaultTableRankBackgroundColor1,Y=g.quizGameDefaultTableRankBackgroundColor2,X=g.quizGameDefaultTableRankBackgroundColor3,re=g.quizGameDefaultTableRankBackgroundColor4,j=g.quizGameDefaultTableRankAniDuration,Ae=g.quizGameDefaultTableRankRadiusPx,Je=g.quizGameDefaultTableRankBorderPx,We=g.quizGameDefaultTableRankBorderColor){this.titleFontColor=t,this.titleAlignment=e,this.curFilterFontColor=i,this.fCTitleHead=o,this.tableFontColor=r,this.tableColorBg=s,this.tableColorBgRowOdd=a,this.tableRadius=l,this.tableBorder=c,this.tableBorderColor=u,this.fontColorRank=d,this.rankColorBackground1=h,this.rankColorBackground2=m,this.rankColorBackground3=b,this.rankColorBackground4=_,this.rankAniDuration=S,this.rankRadius=T,this.rankBorder=B,this.rankBorderColor=H,this.userRowFontColorRank=U,this.userRowRankColorBackground1=F,this.userRowRankColorBackground2=Y,this.userRowRankColorBackground3=X,this.userRowRankColorBackground4=re,this.userRowRankAniDuration=j,this.userRowRankRadius=Ae,this.userRowRankBorder=Je,this.userRowRankBorderColor=We,this.btnFilter=ke.getModelFromJSON({}),this.btnClose=ke.getModelFromJSON({}),this.btnIcon=ke.getModelFromJSON({}),this.userRow=Ne.getModelFromJSON({fontColor:g.quizGameDefaultFontColorMain,bgColor:g.quizGameDefaultTableBackgroundColor,radius:g.quizGameDefaultTableRadiusPx,border:g.quizGameDefaultTableBorderPx,borderColor:g.quizGameDefaultTableBorderColor})}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.titleFontColor??g.quizGameDefaultFontColorTitle,t.titleAlignment??g.quizGameDefaultTitleAlignment,t.curFilterFontColor??g.quizGameDefaultFontColorMain,t.fCTitleHead??g.quizGameDefaultFontColorMain,t.tableFontColor??g.quizGameDefaultFontColorMain,t.tableColorBg??g.quizGameDefaultTableBackgroundColor,t.tableColorBgRowOdd??g.quizGameDefaultTableBackgroundRowOddColor,Q.isset(t.tableRadius)?parseInt(t.tableRadius,10):g.quizGameDefaultTableRadiusPx,Q.isset(t.tableBorder)?parseInt(t.tableBorder,10):g.quizGameDefaultTableBorderPx,t.tableBorderColor??g.quizGameDefaultTableBorderColor,t.fontColorRank??g.quizGameDefaultTableRankFontColor,t.rankColorBackground1??g.quizGameDefaultTableRankBackgroundColor1,t.rankColorBackground2??g.quizGameDefaultTableRankBackgroundColor2,t.rankColorBackground3??g.quizGameDefaultTableRankBackgroundColor3,t.rankColorBackground4??g.quizGameDefaultTableRankBackgroundColor4,Q.isset(t.rankAniDuration)?parseInt(t.rankAniDuration,10):g.quizGameDefaultTableRankAniDuration,Q.isset(t.rankRadius)?parseInt(t.rankRadius,10):g.quizGameDefaultTableRankRadiusPx,Q.isset(t.rankBorder)?parseInt(t.rankBorder,10):g.quizGameDefaultTableRankBorderPx,t.rankBorderColor??g.quizGameDefaultTableRankBorderColor,Q.isset(t.userRow)?t.userRow.fontColorRank??g.quizGameDefaultTableRankFontColor:g.quizGameDefaultTableRankFontColor,Q.isset(t.userRow)?t.userRow.rankColorBackground1??g.quizGameDefaultTableRankBackgroundColor1:g.quizGameDefaultTableRankBackgroundColor1,Q.isset(t.userRow)?t.userRow.rankColorBackground2??g.quizGameDefaultTableRankBackgroundColor2:g.quizGameDefaultTableRankBackgroundColor2,Q.isset(t.userRow)?t.userRow.rankColorBackground3??g.quizGameDefaultTableRankBackgroundColor3:g.quizGameDefaultTableRankBackgroundColor3,Q.isset(t.userRow)?t.userRow.rankColorBackground4??g.quizGameDefaultTableRankBackgroundColor4:g.quizGameDefaultTableRankBackgroundColor4,Q.isset(t.userRow)?t.userRow.rankAniDuration??g.quizGameDefaultTableRankAniDuration:g.quizGameDefaultTableRankAniDuration,Q.isset(t.userRow)?t.userRow.rankRadius??g.quizGameDefaultTableRankRadiusPx:g.quizGameDefaultTableRankRadiusPx,Q.isset(t.userRow)?t.userRow.rankBorder??g.quizGameDefaultTableRankBorderPx:g.quizGameDefaultTableRankBorderPx,Q.isset(t.userRow)?t.userRow.rankBorderColor??g.quizGameDefaultTableRankBorderColor:g.quizGameDefaultTableRankBorderColor);return e.btnFilter=ke.getModelFromJSON(t.btnFilter),e.btnClose=ke.getModelFromJSON(t.btnClose),e.btnIcon=ke.getModelFromJSON(t.btnIcon),e.userRow=Ne.getModelFromJSON(t.userRow),e}};var Za=class n{constructor(t=g.quizGameDefaultFontColorMain,e=g.quizGameDefaultColorCorrect,i=g.quizGameDefaultColorWrong,o=g.quizGameDefaultFontColorMain,r=g.quizGameDefaultFontColorMain,s=g.quizGameDefaultFontColorMain,a=g.quizGameDefaultFontColorMain,l=null,c=null,u=g.quizGameDefaultFontColorMain,d=g.quizGameDefaultTableBackgroundRowOddColor,h=g.quizGameDefaultTableRadiusPx,m=g.quizGameDefaultTableBorderPx,b=g.quizGameDefaultTableBorderColor,_=g.quizGameDefaultTableRankFontColor,S=g.quizGameDefaultTableRankBackgroundColor1,T=g.quizGameDefaultTableRankBackgroundColor2,B=g.quizGameDefaultTableRankBackgroundColor3,H=g.quizGameDefaultTableRankBackgroundColor4,U=g.quizGameDefaultTableRankAniDuration,F=g.quizGameDefaultTableRankRadiusPx,Y=g.quizGameDefaultTableRankBorderPx,X=g.quizGameDefaultTableRankBorderColor){this.statusBarColorLine=t,this.statusBarColorCorrect=e,this.statusBarColorWrong=i,this.questionColor=o,this.dialogResultTitleColor=r,this.dialogResultStarColor=s,this.dialogResultScoreColor=a,this.imageSwipe=l,this.imageGreat=c,this.fontColorFeedback=u,this.tableColorBgRowOdd=d,this.tableRadius=h,this.tableBorder=m,this.tableBorderColor=b,this.fontColorRank=_,this.rankColorBackground1=S,this.rankColorBackground2=T,this.rankColorBackground3=B,this.rankColorBackground4=H,this.rankAniDuration=U,this.rankRadius=F,this.rankBorder=Y,this.rankBorderColor=X,this.questionCard=Ne.getModelFromJSON({}),this.questionCardGold=Ne.getModelFromJSON({colorBg:"#FEDB37",colorBg2:"#FDB931",colorBg3:"#9f7928",colorBg4:"#8A6E2F",colorBg5:"#5d4a1f"}),this.timeBar=Ne.getModelFromJSON({colorBg:"#2b2b2b",colorBg2:"#72a878",colorBg3:"#ac7a29",colorBg4:"#bf5832",colorBg5:"#ca3434"}),this.btnAnswer=ke.getModelFromJSON({}),this.btnFeedback=ke.getModelFromJSON({}),this.dialogWrong=Ne.getModelFromJSON({}),this.btnDialogWrong=ke.getModelFromJSON({}),this.dialogResult=Ne.getModelFromJSON({}),this.btnDialogResult=ke.getModelFromJSON({})}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.statusBarColorLine??g.quizGameDefaultFontColorMain,t.statusBarColorCorrect??g.quizGameDefaultColorCorrect,t.statusBarColorWrong??g.quizGameDefaultColorWrong,t.questionColor??g.quizGameDefaultFontColorMain,t.dialogResultTitleColor??g.quizGameDefaultFontColorMain,t.dialogResultStarColor??g.quizGameDefaultFontColorMain,t.dialogResultScoreColor??g.quizGameDefaultFontColorMain,t.imageSwipe??null,t.imageGreat??null,t.fontColorFeedback??g.quizGameDefaultFontColorMain,t.tableColorBgRowOdd??g.quizGameDefaultTableBackgroundRowOddColor,Q.isset(t.tableRadius)?parseInt(t.tableRadius,10):g.quizGameDefaultTableRadiusPx,Q.isset(t.tableBorder)?parseInt(t.tableBorder,10):g.quizGameDefaultTableBorderPx,t.tableBorderColor??g.quizGameDefaultTableBorderColor,t.fontColorRank??g.quizGameDefaultTableRankFontColor,t.rankColorBackground1??g.quizGameDefaultTableRankBackgroundColor1,t.rankColorBackground2??g.quizGameDefaultTableRankBackgroundColor2,t.rankColorBackground3??g.quizGameDefaultTableRankBackgroundColor3,t.rankColorBackground4??g.quizGameDefaultTableRankBackgroundColor4,Q.isset(t.rankAniDuration)?parseInt(t.rankAniDuration,10):g.quizGameDefaultTableRankAniDuration,Q.isset(t.rankRadius)?parseInt(t.rankRadius,10):g.quizGameDefaultTableRankRadiusPx,Q.isset(t.rankBorder)?parseInt(t.rankBorder,10):g.quizGameDefaultTableRankBorderPx,t.rankBorderColor??g.quizGameDefaultTableRankBorderColor);return e.questionCard=Ne.getModelFromJSON(t.questionCard),Q.isset(t.questionCardGold)&&(e.questionCardGold=Ne.getModelFromJSON(t.questionCardGold)),Q.isset(t.timeBar)&&(e.timeBar=Ne.getModelFromJSON(t.timeBar)),e.btnAnswer=ke.getModelFromJSON(t.btnAnswer),e.btnFeedback=ke.getModelFromJSON(t.btnFeedback),e.dialogWrong=Ne.getModelFromJSON(t.dialogWrong),e.btnDialogWrong=ke.getModelFromJSON(t.btnDialogWrong),e.dialogResult=Ne.getModelFromJSON(t.dialogResult),e.btnDialogResult=ke.getModelFromJSON(t.btnDialogResult),e}};var Ja=class n{constructor(t=g.quizGameDefaultFontColorMain,e=g.quizGameDefaultFontColorMain){this.dialogResultTitleColor=t,this.dialogResultScoreColor=e,this.dialogResult=Ne.getModelFromJSON({}),this.btnDialogResult=ke.getModelFromJSON({})}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.dialogResult?t.dialogResult.titleColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogResult?t.dialogResult.scoreColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain);return e.dialogResult=Ne.getModelFromJSON(t.dialogResult),e.btnDialogResult=ke.getModelFromJSON(t.btnDialogResult),e}};var el=class n{constructor(t=g.quizGameDefaultFontColorMain,e=g.quizGameDefaultFontColorMain,i=g.quizGameDefaultFontColorMain,o=g.quizGameDefaultFontColorMain,r=g.quizGameDefaultFontColorMain,s=g.quizGameDefaultFontColorMain,a=g.quizGameDefaultFontColorMain,l=g.quizGameDefaultFontColorMain,c=g.quizGameDefaultFontColorMain,u=g.quizGameDefaultFontColorMain,d=g.quizGameDefaultFontColorMain,h=g.quizGameDefaultFontColorMain,m=g.quizGameDefaultFontColorMain,b=g.quizGameDefaultFontColorMain){this.dialogReviewTitleColor=t,this.dialogReviewStarColor=e,this.dialogReviewRoundLabelColor=i,this.dialogReviewCatLabelColor=o,this.dialogReviewCardCorrectOptNotSelectedColor=r,this.dialogReviewCardCorrectFeedbackColor=s,this.dialogReviewCardCorrectResultColor=a,this.dialogReviewCardCorrectIconCorrectColor=l,this.dialogReviewCardCorrectIconWrongColor=c,this.dialogReviewCardWrongOptNotSelectedColor=u,this.dialogReviewCardWrongFeedbackColor=d,this.dialogReviewCardWrongResultColor=h,this.dialogReviewCardWrongIconCorrectColor=m,this.dialogReviewCardWrongIconWrongColor=b,this.dialogReview=Ne.getModelFromJSON({}),this.btnDialogReview=ke.getModelFromJSON({}),this.btnDialogReviewCardCorrectFeedback=ke.getModelFromJSON({}),this.btnDialogReviewCardWrongFeedback=ke.getModelFromJSON({}),this.dialogReviewCardCorrect=Ne.getModelFromJSON({}),this.dialogReviewCardCorrectAnswerOptSel=Ne.getModelFromJSON({}),this.dialogReviewCardWrong=Ne.getModelFromJSON({}),this.dialogReviewCardWrongAnswerOptSel=Ne.getModelFromJSON({})}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.dialogReview?t.dialogReview.titleColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.starColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.roundLabelColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.catLabelColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardCorrectOptNotSelectedColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardCorrectFeedbackColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardCorrectResultColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardCorrectIconCorrectColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardCorrectIconWrongColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardWrongOptNotSelectedColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardWrongFeedbackColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardWrongResultColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardWrongIconCorrectColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain,t.dialogReview?t.dialogReview.cardWrongIconWrongColor??g.quizGameDefaultFontColorMain:g.quizGameDefaultFontColorMain);return e.dialogReview=Ne.getModelFromJSON(t.dialogReview),e.btnDialogReview=ke.getModelFromJSON(t.btnDialogReview),e.btnDialogReviewCardCorrectFeedback=ke.getModelFromJSON(t.btnDialogReviewCardCorrectFeedback),e.btnDialogReviewCardWrongFeedback=ke.getModelFromJSON(t.btnDialogReviewCardWrongFeedback),e.dialogReviewCardCorrect=Ne.getModelFromJSON(t.dialogReviewCardCorrect),e.dialogReviewCardCorrectAnswerOptSel=Ne.getModelFromJSON(t.dialogReviewCardCorrectAnswerOptSel),e.dialogReviewCardWrong=Ne.getModelFromJSON(t.dialogReviewCardWrong),e.dialogReviewCardWrongAnswerOptSel=Ne.getModelFromJSON(t.dialogReviewCardWrongAnswerOptSel),e}};var tl=class n{constructor(t=g.quizGameDefaultMinigameMainColor,e=g.quizGameDefaultMinigameFontColor,i=g.quizGameDefaultMinigameFontColor,o=g.quizGameDefaultMinigameBackgroundColor1,r=g.quizGameDefaultMinigameBackgroundColor2,s=g.quizGameDefaultMinigameMainColor,a=g.quizGameDefaultMinigameBallColor,l=g.quizGameDefaultMinigameMainColor,c=g.quizGameDefaultMinigameMainColor,u=g.quizGameDefaultMinigameOutlineColor,d=g.quizGameDefaultMinigameMainColor,h=g.quizGameDefaultMinigameBallColor,m=g.quizGameDefaultMinigameMainColor){this.borderColor=t,this.fontColor=e,this.fontColorTgt=i,this.colorBg1=o,this.colorBg2=r,this.buttonColor=s,this.ballColor=a,this.ballHoldColor=l,this.ballHoldColor2=c,this.tgtOutColor=u,this.tgtBgColor=d,this.tgtBgActColor=h,this.nailColor=m}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.borderColor??g.quizGameDefaultMinigameMainColor,t.fontColor??g.quizGameDefaultMinigameFontColor,t.fontColorTgt??g.quizGameDefaultMinigameFontColor,t.colorBg1??g.quizGameDefaultMinigameBackgroundColor1,t.colorBg2??g.quizGameDefaultMinigameBackgroundColor2,t.buttonColor??g.quizGameDefaultMinigameMainColor,t.ballColor??g.quizGameDefaultMinigameBallColor,t.ballHoldColor??g.quizGameDefaultMinigameMainColor,t.ballHoldColor2??g.quizGameDefaultMinigameMainColor,t.tgtOutColor??g.quizGameDefaultMinigameOutlineColor,t.tgtBgColor??g.quizGameDefaultMinigameTargetBackgroundColor,t.tgtBgActColor??g.quizGameDefaultMinigameBallColor,t.nailColor??g.quizGameDefaultMinigameMainColor);return e}};var nl=class n{constructor(t=g.quizGameDefaultMinigameMainColor,e=g.quizGameDefaultMinigameFontColor,i=g.quizGameDefaultMinigameFontColor,o=g.quizGameDefaultMinigameBackgroundColor1,r=g.quizGameDefaultMinigameBackgroundColor2,s=g.quizGameDefaultMinigameMainColor,a=g.quizGameDefaultMinigameBallColor,l=g.quizGameDefaultMinigameMainColor,c=g.quizGameDefaultMinigameBallHolderShotColor,u=g.quizGameDefaultMinigameMainColorA02,d=g.quizGameDefaultMinigameMainColorA03,h=g.quizGameDefaultMinigameMainColor,m=g.quizGameDefaultMinigameMainColorA06,b=g.quizGameDefaultMinigameMainColorA08){this.borderColor=t,this.fontColor=e,this.fontColorTgt=i,this.colorBg1=o,this.colorBg2=r,this.buttonColor=s,this.ballColor=a,this.ballHoldGumColor=l,this.ballHoldShotColor=c,this.tgtBgColor=u,this.tgtBgColor2=d,this.tgtOutColor=h,this.tgtBgRollColor=m,this.tgtBgLockColor=b}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.borderColor??g.quizGameDefaultMinigameMainColor,t.fontColor??g.quizGameDefaultMinigameFontColor,t.fontColorTgt??g.quizGameDefaultMinigameFontColor,t.colorBg1??g.quizGameDefaultMinigameBackgroundColor1,t.colorBg2??g.quizGameDefaultMinigameBackgroundColor2,t.buttonColor??g.quizGameDefaultMinigameMainColor,t.ballColor??g.quizGameDefaultMinigameBallColor,t.ballHoldGumColor??g.quizGameDefaultMinigameMainColor,t.ballHoldShotColor??g.quizGameDefaultMinigameBallHolderShotColor,t.tgtBgColor??g.quizGameDefaultMinigameMainColorA02,t.tgtBgColor2??g.quizGameDefaultMinigameMainColorA03,t.tgtOutColor??g.quizGameDefaultMinigameMainColor,t.tgtBgRollColor??g.quizGameDefaultMinigameMainColorA06,t.tgtBgLockColor??g.quizGameDefaultMinigameMainColorA08);return e}};var il=class n{constructor(t=g.quizGameDefaultMinigameMainColor,e=g.quizGameDefaultMinigameFontColor,i=g.quizGameDefaultMinigameFontColor,o=g.quizGameDefaultMinigameBackgroundColor1,r=g.quizGameDefaultMinigameBackgroundColor2,s=g.quizGameDefaultMinigameMainColor,a=g.quizGameDefaultMinigameBallColor,l=g.quizGameDefaultMinigameMainColor,c=g.quizGameDefaultMinigameMainColor,u=g.quizGameDefaultMinigameMainColor,d=g.quizGameDefaultMinigameBallHolderShotColor,h=g.quizGameDefaultMinigameTargetBackgroundColor2,m=g.quizGameDefaultMinigameTargetBackgroundColor2,b=g.quizGameDefaultMinigameTargetHoleBackgroundColor,_=g.quizGameDefaultMinigameMainColor,S=g.quizGameDefaultMinigameMainColor,T=g.quizGameDefaultMinigameObstacleBackgroundColor,B=g.quizGameDefaultMinigameBallLightColor){this.borderColor=t,this.fontColor=e,this.fontColorTgt=i,this.colorBg1=o,this.colorBg2=r,this.buttonColor=s,this.ballColor=a,this.ballHoldColor=l,this.ballHoldColor2=c,this.ballHoldGumColor=u,this.ballHoldShotColor=d,this.tgtOutColor=h,this.tgtBgColor=m,this.tgtBgHoleColor=b,this.obstArrowColor=_,this.obstOutColor=S,this.obstBgColor=T,this.obstBgActiveColor=B}static getModelFromJSON(t){if(!t)return new n;let e=new n(t.borderColor??g.quizGameDefaultMinigameMainColor,t.fontColor??g.quizGameDefaultMinigameFontColor,t.fontColorTgt??g.quizGameDefaultMinigameFontColor,t.colorBg1??g.quizGameDefaultMinigameBackgroundColor1,t.colorBg2??g.quizGameDefaultMinigameBackgroundColor2,t.buttonColor??g.quizGameDefaultMinigameMainColor,t.ballColor??g.quizGameDefaultMinigameBallColor,t.ballHoldColor??g.quizGameDefaultMinigameMainColor,t.ballHoldColor2??g.quizGameDefaultMinigameMainColor,t.ballHoldGumColor??g.quizGameDefaultMinigameMainColor,t.ballHoldShotColor??g.quizGameDefaultMinigameBallHolderShotColor,t.tgtOutColor??g.quizGameDefaultMinigameTargetBackgroundColor2,t.tgtBgColor??g.quizGameDefaultMinigameTargetBackgroundColor2,t.tgtBgHoleColor??g.quizGameDefaultMinigameTargetHoleBackgroundColor,t.obstArrowColor??g.quizGameDefaultMinigameMainColor,t.obstOutColor??g.quizGameDefaultMinigameMainColor,t.obstBgColor??g.quizGameDefaultMinigameObstacleBackgroundColor,t.obstBgActiveColor??g.quizGameDefaultMinigameBallLightColor);return e}};var jg=class n{get scormFinishQuestionCount(){return Math.ceil(this.maxQuizRoundCount*this.maxQuizQuestionCount*this.scormQuestionFinishPercentage/100)}constructor(t,e=!1,i,o,r,s,a,l,c,u,d,h,m,b,_,S,T,B,H,U,F,Y,X,re,j,Ae,Je,We,et,Ut,Nt,_t,Bt,Yn,Ks,Ur,qr,Oo,Nu,ki,Ro,aE,lE,cE,uE,dE,fE,gE,hE=null,mE=null,pE=null,CE=null,vE=null,yE=null,_E=null,bE,SE,wE,ME,xE,TE,DE,IE,EE,PE,kE,OE,RE,AE,NE,BE,FE,LE,GE,VE,zE,HE,UE){this.id=t,this.isFtpReady=e,this.companyPath=i,this.quizGamePath=o,this.titleAlignment=r,this.titleFontSize=s,this.titleLineHeight=a,this.titleAni=l,this.includesHighscore=c,this.mainFont=u,this.fontColorTitle=d,this.fontColorMain=h,this.fontColorLink=m,this.dialogColorBg=b,this.fontColorDialog=_,this.dialogRadius=S,this.dialogBorder=T,this.dialogBorderColor=B,this.backgroundColorsDuration=H,this.fontColorButton=U,this.colorButtonBg=F,this.buttonRadius=Y,this.buttonBorder=X,this.buttonBorderColor=re,this.fontColorIconButton=j,this.colorIconButtonBg=Ae,this.iconButtonRadius=Je,this.iconButtonBorder=We,this.iconButtonBorderColor=et,this.colorCategoryPath=Ut,this.miniGameColorBackground1=Nt,this.miniGameColorBackground2=_t,this.miniGameColorFont=Bt,this.miniGameColorMain=Yn,this.miniGameColorOutline=Ks,this.miniGameColorBall=Ur,this.backgroundColors=qr,this.backgroundAnimationImageUrls=Oo,this.activeMiniGames=Nu,this.maxQuizRoundCount=ki,this.maxQuizQuestionCount=Ro,this.isRotatingFlyingAni=aE,this.backgroundAnimationType=lE,this.splitScreenAnimationType=cE,this.splitScreenColorBg=uE,this.miniGameSplitScreenAnimationType=dE,this.miniGameSplitScreenColorBg=fE,this.gameHeaderColorBg=gE,this.imageGameTitle=hE,this.imageBg=mE,this.imageScoreAni=pE,this.imageCompanyLogo=CE,this.urlCompany=vE,this.imageSplitScreenBg=yE,this.imageMiniGameSplitScreenBg=_E,this.typeImprint=bE,this.urlImprint=SE,this.typePrivacyPolicy=wE,this.urlPrivacyPolicy=ME,this.scormQuestionFinishPercentage=xE,this.totalQuestions=TE,this.soundDefinitions=DE,this.quizConfigCrm=IE,this.defaultBtn=EE,this.defaultBtnIcon=PE,this.startBtn=kE,this.screenTitleBtnDefault=OE,this.screenTitleBtnIcon=RE,this.headerBtnIcon=AE,this.headerContainerScore=NE,this.screenHighscore=BE,this.screenQuiz=FE,this.screenMinigames=LE,this.screenMgPachinko=GE,this.screenMgRoulette=VE,this.screenMgPointShooter=zE,this.screenEndGame=HE,this.screenEndGameBtnIcon=UE}static getModelFromJSON(t){if(!t)return null;let e=Q.isset(t.id)?parseInt(t.id):0,i=Q.isset(t.companyPath)?t.companyPath:"",o=Q.isset(t.quizGamePath)?t.quizGamePath:"",r=Q.isset(t.backgroundAnimationImageUrls)&&Array.isArray(t.backgroundAnimationImageUrls)?t.backgroundAnimationImageUrls:null;if(r){for(let re in r){let j=r[re];r[re]=o+j}ln.shuffleArray(r)}let s="";t.mainFont&&(s=i+t.mainFont);let a=$g.getModelFromJSON(t.crm),l={fontColor:t.fontColorButton??g.quizGameDefaultFontColorButton,colorBg:t.colorButtonBg??g.quizGameDefaultColorButtonBg,border:t.buttonBorder?parseInt(t.buttonBorder):g.quizGameDefaultButtonBorderPx,borderColor:t.buttonBorderColor??g.quizGameDefaultButtonBorderColor};t.buttonRadius&&(l.radius=t.buttonRadius?parseInt(t.buttonRadius):g.quizGameDefaultButtonRadiusPx);let c=ke.getModelFromJSON(l),u=ke.getModelFromJSON(l),d=ke.getModelFromJSON(t.startBtn),h=ke.getModelFromJSON(t.screenTitleBtnDefault),m=ke.getModelFromJSON(t.screenTitleBtnIcon),b=ke.getModelFromJSON(t.headerBtnIcon),_=Ne.getModelFromJSON(t.headerContainerScore),S=Ka.getModelFromJSON(t.screenHighscore),T=Za.getModelFromJSON(t.screenQuiz),B=Ja.getModelFromJSON(t.screenMinigames),H=tl.getModelFromJSON(t.screenMgPachinko),U=nl.getModelFromJSON(t.screenMgRoulette),F=il.getModelFromJSON(t.screenMgPointShooter),Y=el.getModelFromJSON(t.screenEndGame),X=ke.getModelFromJSON(t.screenEndGameBtnIcon);return new n(e,t.isFtpReady??!1,i,o,t.titleAlignment??"left",t.titleFontSize?Math.round(t.titleFontSize):g.quizGameDefaultTitleFontSize,t.titleLineHeight?parseFloat(t.titleLineHeight):g.quizGameDefaultTitleLineHeight,t.titleAni?parseInt(t.titleAni):g.quizGameDefaultTitleAnimation,Q.isset(t.includesHighscore)?t.includesHighscore:!1,s,t.fontColorTitle??"#1b3848",t.fontColorMain??"#ffffff",t.fontColorLink??"#ffffff",t.dialogColorBg??"#000000cc",t.fontColorDialog??"#ffffff",t.dialogRadius?parseInt(t.dialogRadius):0,t.dialogBorder?parseInt(t.dialogBorder):0,t.dialogBorderColor??"#000000",t.backgroundColorsDuration?parseInt(t.backgroundColorsDuration):25,t.fontColorButton??g.quizGameDefaultFontColorButton,t.colorButtonBg??g.quizGameDefaultColorButtonBg,t.buttonRadius?parseInt(t.buttonRadius):g.quizGameDefaultButtonRadiusPx,t.buttonBorder?parseInt(t.buttonBorder):g.quizGameDefaultButtonBorderPx,t.buttonBorderColor??g.quizGameDefaultButtonBorderColor,t.fontColorIconButton??g.quizGameDefaultFontColorButton,t.colorIconButtonBg??g.quizGameDefaultColorButtonBg,t.iconButtonRadius?parseInt(t.iconButtonRadius):g.quizGameDefaultButtonRadiusPx,t.iconButtonBorder?parseInt(t.iconButtonBorder):g.quizGameDefaultButtonBorderPx,t.iconButtonBorderColor??g.quizGameDefaultButtonBorderColor,t.colorCategoryPath??"#6c6cff",t.miniGameColorBackground1??"#00000080",t.miniGameColorBackground2??"#000000",t.miniGameColorFont??"#ffffff",t.miniGameColorMain??"#BB59F0",t.miniGameColorOutline??"#BB59F099",t.miniGameColorBall??"#ec6a1e",Q.isset(t.backgroundColors)&&Array.isArray(t.backgroundColors)?t.backgroundColors:null,r,t.activeMiniGames??[],t.maxQuizRoundCount??g.maxQuizRoundCount,t.maxQuizQuestionCount??g.maxQuizQuestionCount,t.isRotatingFlyingAni??!1,Q.isset(t.backgroundAnimationType)?t.backgroundAnimationType:Dn.oneStep,Q.isset(t.splitScreenAnimationType)?t.splitScreenAnimationType:Qt.diagonalLeftToRight,t.splitScreenColorBg??g.quizGameDefaultSplitScreenColorBg,Q.isset(t.miniGameSplitScreenAnimationType)?t.miniGameSplitScreenAnimationType:Qt.diagonalLeftToRight,t.miniGameSplitScreenColorBg??g.quizGameDefaultSplitScreenColorBg,t.gameHeaderColorBg??g.quizGameDefaultGameHeaderColorBg,t.imageGameTitle??null,t.imageBg??null,t.imageScoreAni??null,t.imageCompanyLogo??null,t.urlCompany??null,t.imageSplitScreenBg??null,t.imageMiniGameSplitScreenBg??null,t.typeImprint??null,t.urlImprint??null,t.typePrivacyPolicy??null,t.urlPrivacyPolicy??null,Q.isset(t.scormQuestionFinishPercentage)?parseFloat(t.scormQuestionFinishPercentage):100,Q.isset(t.totalQuestions)?parseFloat(t.totalQuestions):0,t.soundDefinitions??null,a,c,u,d,h,m,b,_,S,T,B,H,U,F,Y,X)}};var Jo=class n{constructor(t,e,i,o){this.nickname=t,this.score=e,this.correctRate=i,this.createdAt=o}static getListFromJSON(t){let e=[];if(!t)return[];for(let i of t){let o=n.getModelFromJSON(i);o&&e.push(o)}return e=n.sortList(e),e}static sortList(t){return t.sort((e,i)=>e.score-i.score)}static getModelFromJSON(t){return t?new n(t.nickname??"",Q.isset(t.score)?parseInt(t.score):0,Q.isset(t.correctRate)?parseFloat(t.correctRate):0,t.createdAt??""):null}};var zt=(()=>{class n{constructor(){this.signalGameScore=w(this.gameScore),this.resetGameScore()}resetGameScore(){this.gameScore=new Jo("",0,0,""),this.signalGameScore.set(this.gameScore)}setNickname(e){this.gameScore.nickname=e,this.signalGameScore.update(i=>Se($({},i),{nickname:e}))}addScore(e){this.setScore(this.signalGameScore().score+e)}setScore(e){this.gameScore.score=e,this.signalGameScore.update(i=>Se($({},i),{score:e}))}setCorrectRate(e){this.gameScore.correctRate=e,this.signalGameScore.update(i=>Se($({},i),{correctRate:e}))}setCurrentDateTime(){let e=new Date,i=e.getUTCFullYear(),o=e.getUTCMonth()+1,r=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),l=e.getUTCSeconds();this.gameScore.createdAt=`${i}-${o}-${r} ${s}:${a}:${l}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function er(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ET(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var jn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rl={duration:.5,overwrite:!1,delay:0},My,un,ft,Di=1e8,at=1/Di,gy=Math.PI*2,ML=gy/4,xL=0,PT=Math.sqrt,TL=Math.cos,DL=Math.sin,Yt=function(t){return typeof t=="string"},It=function(t){return typeof t=="function"},nr=function(t){return typeof t=="number"},nh=function(t){return typeof t>"u"},So=function(t){return typeof t=="object"},$n=function(t){return t!==!1},xy=function(){return typeof window<"u"},Wg=function(t){return It(t)||Yt(t)},kT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},vn=Array.isArray,hy=/(?:-?\.?\d|\.)+/gi,Ty=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Fs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sy=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Dy=/[+-]=-?[.\d]+/,OT=/[^,'"\[\]\s]+/gi,IL=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ct,_o,my,Iy,di={},Kg={},RT,AT=function(t){return(Kg=sl(t,di))&&yn},ih=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},au=function(t,e){return!e&&console.warn(t)},NT=function(t,e){return t&&(di[t]=e)&&Kg&&(Kg[t]=e)||di},lu=function(){return 0},EL={suppressEvents:!0,isStart:!0,kill:!1},Qg={suppressEvents:!0,kill:!1},PL={suppressEvents:!0},Ey={},Er=[],py={},BT,Un={},ay={},ST=30,Yg=[],Py="",ky=function(t){var e=t[0],i,o;if(So(e)||It(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(o=Yg.length;o--&&!Yg[o].targetTest(e););i=Yg[o]}for(o=t.length;o--;)t[o]&&(t[o]._gsap||(t[o]._gsap=new Ny(t[o],i)))||t.splice(o,1);return t},Pr=function(t){return t._gsap||ky(Ii(t))[0]._gsap},Oy=function(t,e,i){return(i=t[e])&&It(i)?t[e]():nh(i)&&t.getAttribute&&t.getAttribute(e)||i},In=function(t,e){return(t=t.split(",")).forEach(e)||t},Et=function(t){return Math.round(t*1e5)/1e5||0},Ht=function(t){return Math.round(t*1e7)/1e7||0},Ls=function(t,e){var i=e.charAt(0),o=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+o:i==="-"?t-o:i==="*"?t*o:t/o},kL=function(t,e){for(var i=e.length,o=0;t.indexOf(e[o])<0&&++o<i;);return o<i},Zg=function(){var t=Er.length,e=Er.slice(0),i,o;for(py={},Er.length=0,i=0;i<t;i++)o=e[i],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},Ry=function(t){return!!(t._initted||t._startAt||t.add)},FT=function(t,e,i,o){Er.length&&!un&&Zg(),t.render(e,i,o||!!(un&&e<0&&Ry(t))),Er.length&&!un&&Zg()},LT=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(OT).length<2?e:Yt(t)?t.trim():t},GT=function(t){return t},fi=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},OL=function(t){return function(e,i){for(var o in i)o in e||o==="duration"&&t||o==="ease"||(e[o]=i[o])}},sl=function(t,e){for(var i in e)t[i]=e[i];return t},wT=function n(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=So(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},Jg=function(t,e){var i={},o;for(o in t)o in e||(i[o]=t[o]);return i},ou=function(t){var e=t.parent||Ct,i=t.keyframes?OL(vn(t.keyframes)):fi;if($n(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},RL=function(t,e){for(var i=t.length,o=i===e.length;o&&i--&&t[i]===e[i];);return i<0},VT=function(t,e,i,o,r){i===void 0&&(i="_first"),o===void 0&&(o="_last");var s=t[o],a;if(r)for(a=e[r];s&&s[r]>a;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[o]=e,e._prev=s,e.parent=e._dp=t,e},oh=function(t,e,i,o){i===void 0&&(i="_first"),o===void 0&&(o="_last");var r=e._prev,s=e._next;r?r._next=s:t[i]===e&&(t[i]=s),s?s._prev=r:t[o]===e&&(t[o]=r),e._next=e._prev=e.parent=null},kr=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},As=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},AL=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Cy=function(t,e,i,o){return t._startAt&&(un?t._startAt.revert(Qg):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,o))},NL=function n(t){return!t||t._ts&&n(t.parent)},MT=function(t){return t._repeat?al(t._tTime,t=t.duration()+t._rDelay)*t:0},al=function(t,e){var i=Math.floor(t=Ht(t/e));return t&&i===t?i-1:i},eh=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},rh=function(t){return t._end=Ht(t._start+(t._tDur/Math.abs(t._ts||t._rts||at)||0))},sh=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Ht(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),rh(t),i._dirty||As(i,t)),t},zT=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=eh(t.rawTime(),e),(!e._dur||du(0,e.totalDuration(),i)-e._tTime>at)&&e.render(i,!0)),As(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-at}},bo=function(t,e,i,o){return e.parent&&kr(e),e._start=Ht((nr(i)?i:i||t!==Ct?Ti(t,i,e):t._time)+e._delay),e._end=Ht(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),VT(t,e,"_first","_last",t._sort?"_start":0),vy(e)||(t._recent=e),o||zT(t,e),t._ts<0&&sh(t,t._tTime),t},HT=function(t,e){return(di.ScrollTrigger||ih("scrollTrigger",e))&&di.ScrollTrigger.create(e,t)},UT=function(t,e,i,o,r){if(Ly(t,e,r),!t._initted)return 1;if(!i&&t._pt&&!un&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&BT!==qn.frame)return Er.push(t),t._lazy=[r,o],1},BL=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},vy=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},FL=function(t,e,i,o){var r=t.ratio,s=e<0||!e&&(!t._start&&BL(t)&&!(!t._initted&&vy(t))||(t._ts<0||t._dp._ts<0)&&!vy(t))?0:1,a=t._rDelay,l=0,c,u,d;if(a&&t._repeat&&(l=du(0,t._tDur,e),u=al(l,a),t._yoyo&&u&1&&(s=1-s),u!==al(t._tTime,a)&&(r=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==r||un||o||t._zTime===at||!e&&t._zTime){if(!t._initted&&UT(t,e,o,i,l))return;for(d=t._zTime,t._zTime=e||(i?at:0),i||(i=e&&!d),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,c=t._pt;c;)c.r(s,c.d),c=c._next;e<0&&Cy(t,e,i,!0),t._onUpdate&&!i&&ui(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&ui(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&kr(t,1),!i&&!un&&(ui(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},LL=function(t,e,i){var o;if(i>e)for(o=t._first;o&&o._start<=i;){if(o.data==="isPause"&&o._start>e)return o;o=o._next}else for(o=t._last;o&&o._start>=i;){if(o.data==="isPause"&&o._start<e)return o;o=o._prev}},ll=function(t,e,i,o){var r=t._repeat,s=Ht(e)||0,a=t._tTime/t._tDur;return a&&!o&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:Ht(s*(r+1)+t._rDelay*r):s,a>0&&!o&&sh(t,t._tTime=t._tDur*a),t.parent&&rh(t),i||As(t.parent,t),t},xT=function(t){return t instanceof cn?As(t):ll(t,t._dur)},GL={_start:0,endTime:lu,totalDuration:lu},Ti=function n(t,e,i){var o=t.labels,r=t._recent||GL,s=t.duration()>=Di?r.endTime(!1):t._dur,a,l,c;return Yt(e)&&(isNaN(e)||e in o)?(l=e.charAt(0),c=e.substr(-1)==="%",a=e.indexOf("="),l==="<"||l===">"?(a>=0&&(e=e.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?r:i).totalDuration()/100:1)):a<0?(e in o||(o[e]=s),o[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(vn(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:s+l)):e==null?s:+e},ru=function(t,e,i){var o=nr(e[1]),r=(o?2:1)+(t<2?0:1),s=e[r],a,l;if(o&&(s.duration=e[1]),s.parent=i,t){for(a=s,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=$n(l.vars.inherit)&&l.parent;s.immediateRender=$n(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[r-1]}return new Ot(e[0],s,e[r+1])},Or=function(t,e){return t||t===0?e(t):e},du=function(t,e,i){return i<t?t:i>e?e:i},dn=function(t,e){return!Yt(t)||!(e=IL.exec(t))?"":e[1]},VL=function(t,e,i){return Or(i,function(o){return du(t,e,o)})},yy=[].slice,qT=function(t,e){return t&&So(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&So(t[0]))&&!t.nodeType&&t!==_o},zL=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(o){var r;return Yt(o)&&!e||qT(o,1)?(r=i).push.apply(r,Ii(o)):i.push(o)})||i},Ii=function(t,e,i){return ft&&!e&&ft.selector?ft.selector(t):Yt(t)&&!i&&(my||!cl())?yy.call((e||Iy).querySelectorAll(t),0):vn(t)?zL(t,i):qT(t)?yy.call(t,0):t?[t]:[]},_y=function(t){return t=Ii(t)[0]||au("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return Ii(e,i.querySelectorAll?i:i===t?au("Invalid scope")||Iy.createElement("div"):t)}},$T=function(t){return t.sort(function(){return .5-Math.random()})},jT=function(t){if(It(t))return t;var e=So(t)?t:{each:t},i=Ns(e.ease),o=e.from||0,r=parseFloat(e.base)||0,s={},a=o>0&&o<1,l=isNaN(o)||a,c=e.axis,u=o,d=o;return Yt(o)?u=d={center:.5,edges:.5,end:1}[o]||0:!a&&l&&(u=o[0],d=o[1]),function(h,m,b){var _=(b||e).length,S=s[_],T,B,H,U,F,Y,X,re,j;if(!S){if(j=e.grid==="auto"?0:(e.grid||[1,Di])[1],!j){for(X=-Di;X<(X=b[j++].getBoundingClientRect().left)&&j<_;);j<_&&j--}for(S=s[_]=[],T=l?Math.min(j,_)*u-.5:o%j,B=j===Di?0:l?_*d/j-.5:o/j|0,X=0,re=Di,Y=0;Y<_;Y++)H=Y%j-T,U=B-(Y/j|0),S[Y]=F=c?Math.abs(c==="y"?U:H):PT(H*H+U*U),F>X&&(X=F),F<re&&(re=F);o==="random"&&$T(S),S.max=X-re,S.min=re,S.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(j>_?_-1:c?c==="y"?_/j:j:Math.max(j,_/j))||0)*(o==="edges"?-1:1),S.b=_<0?r-_:r,S.u=dn(e.amount||e.each)||0,i=i&&_<0?tD(i):i}return _=(S[h]-S.min)/S.max||0,Ht(S.b+(i?i(_):_)*S.v)+S.u}},by=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var o=Ht(Math.round(parseFloat(i)/t)*t*e);return(o-o%1)/e+(nr(i)?0:dn(i))}},WT=function(t,e){var i=vn(t),o,r;return!i&&So(t)&&(o=i=t.radius||Di,t.values?(t=Ii(t.values),(r=!nr(t[0]))&&(o*=o)):t=by(t.increment)),Or(e,i?It(t)?function(s){return r=t(s),Math.abs(r-s)<=o?r:s}:function(s){for(var a=parseFloat(r?s.x:s),l=parseFloat(r?s.y:0),c=Di,u=0,d=t.length,h,m;d--;)r?(h=t[d].x-a,m=t[d].y-l,h=h*h+m*m):h=Math.abs(t[d]-a),h<c&&(c=h,u=d);return u=!o||c<=o?t[u]:s,r||u===s||nr(s)?u:u+dn(s)}:by(t))},QT=function(t,e,i,o){return Or(vn(t)?!e:i===!0?!!(i=0):!o,function(){return vn(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(o=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*o)/o})},HL=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(o){return e.reduce(function(r,s){return s(r)},o)}},UL=function(t,e){return function(i){return t(parseFloat(i))+(e||dn(i))}},qL=function(t,e,i){return XT(t,e,0,1,i)},YT=function(t,e,i){return Or(i,function(o){return t[~~e(o)]})},$L=function n(t,e,i){var o=e-t;return vn(t)?YT(t,n(0,t.length),e):Or(i,function(r){return(o+(r-t)%o)%o+t})},jL=function n(t,e,i){var o=e-t,r=o*2;return vn(t)?YT(t,n(0,t.length-1),e):Or(i,function(s){return s=(r+(s-t)%r)%r||0,t+(s>o?r-s:s)})},ul=function(t){for(var e=0,i="",o,r,s,a;~(o=t.indexOf("random(",e));)s=t.indexOf(")",o),a=t.charAt(o+7)==="[",r=t.substr(o+7,s-o-7).match(a?OT:hy),i+=t.substr(e,o-e)+QT(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),e=s+1;return i+t.substr(e,t.length-e)},XT=function(t,e,i,o,r){var s=e-t,a=o-i;return Or(r,function(l){return i+((l-t)/s*a||0)})},WL=function n(t,e,i,o){var r=isNaN(t+e)?0:function(m){return(1-m)*t+m*e};if(!r){var s=Yt(t),a={},l,c,u,d,h;if(i===!0&&(o=1)&&(i=null),s)t={p:t},e={p:e};else if(vn(t)&&!vn(e)){for(u=[],d=t.length,h=d-2,c=1;c<d;c++)u.push(n(t[c-1],t[c]));d--,r=function(b){b*=d;var _=Math.min(h,~~b);return u[_](b-_)},i=e}else o||(t=sl(vn(t)?[]:{},t));if(!u){for(l in e)By.call(a,t,l,"get",e[l]);r=function(b){return zy(b,a)||(s?t.p:t)}}}return Or(i,r)},TT=function(t,e,i){var o=t.labels,r=Di,s,a,l;for(s in o)a=o[s]-e,a<0==!!i&&a&&r>(a=Math.abs(a))&&(l=s,r=a);return l},ui=function(t,e,i){var o=t.vars,r=o[e],s=ft,a=t._ctx,l,c,u;if(r)return l=o[e+"Params"],c=o.callbackScope||t,i&&Er.length&&Zg(),a&&(ft=a),u=l?r.apply(c,l):r.call(c),ft=s,u},nu=function(t){return kr(t),t.scrollTrigger&&t.scrollTrigger.kill(!!un),t.progress()<1&&ui(t,"onInterrupt"),t},ol,KT=[],ZT=function(t){if(t)if(t=!t.name&&t.default||t,xy()||t.headless){var e=t.name,i=It(t),o=e&&!i&&t.init?function(){this._props=[]}:t,r={init:lu,render:zy,add:By,kill:cG,modifier:lG,rawVars:0},s={targetTest:0,get:0,getSetter:ah,aliases:{},register:0};if(cl(),t!==o){if(Un[e])return;fi(o,fi(Jg(t,r),s)),sl(o.prototype,sl(r,Jg(t,s))),Un[o.prop=e]=o,t.targetTest&&(Yg.push(o),Ey[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}NT(e,o),t.register&&t.register(yn,o,En)}else KT.push(t)},st=255,iu={aqua:[0,st,st],lime:[0,st,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,st],navy:[0,0,128],white:[st,st,st],olive:[128,128,0],yellow:[st,st,0],orange:[st,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[st,0,0],pink:[st,192,203],cyan:[0,st,st],transparent:[st,st,st,0]},ly=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*st+.5|0},JT=function(t,e,i){var o=t?nr(t)?[t>>16,t>>8&st,t&st]:0:iu.black,r,s,a,l,c,u,d,h,m,b;if(!o){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),iu[t])o=iu[t];else if(t.charAt(0)==="#"){if(t.length<6&&(r=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+r+r+s+s+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return o=parseInt(t.substr(1,6),16),[o>>16,o>>8&st,o&st,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),o=[t>>16,t>>8&st,t&st]}else if(t.substr(0,3)==="hsl"){if(o=b=t.match(hy),!e)l=+o[0]%360/360,c=+o[1]/100,u=+o[2]/100,s=u<=.5?u*(c+1):u+c-u*c,r=u*2-s,o.length>3&&(o[3]*=1),o[0]=ly(l+1/3,r,s),o[1]=ly(l,r,s),o[2]=ly(l-1/3,r,s);else if(~t.indexOf("="))return o=t.match(Ty),i&&o.length<4&&(o[3]=1),o}else o=t.match(hy)||iu.transparent;o=o.map(Number)}return e&&!b&&(r=o[0]/st,s=o[1]/st,a=o[2]/st,d=Math.max(r,s,a),h=Math.min(r,s,a),u=(d+h)/2,d===h?l=c=0:(m=d-h,c=u>.5?m/(2-d-h):m/(d+h),l=d===r?(s-a)/m+(s<a?6:0):d===s?(a-r)/m+2:(r-s)/m+4,l*=60),o[0]=~~(l+.5),o[1]=~~(c*100+.5),o[2]=~~(u*100+.5)),i&&o.length<4&&(o[3]=1),o},eD=function(t){var e=[],i=[],o=-1;return t.split(tr).forEach(function(r){var s=r.match(Fs)||[];e.push.apply(e,s),i.push(o+=s.length+1)}),e.c=i,e},DT=function(t,e,i){var o="",r=(t+o).match(tr),s=e?"hsla(":"rgba(",a=0,l,c,u,d;if(!r)return t;if(r=r.map(function(h){return(h=JT(h,e,1))&&s+(e?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(u=eD(t),l=i.c,l.join(o)!==u.c.join(o)))for(c=t.replace(tr,"1").split(Fs),d=c.length-1;a<d;a++)o+=c[a]+(~l.indexOf(a)?r.shift()||s+"0,0,0,0)":(u.length?u:r.length?r:i).shift());if(!c)for(c=t.split(tr),d=c.length-1;a<d;a++)o+=c[a]+r[a];return o+c[d]},tr=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in iu)n+="|"+t+"\\b";return new RegExp(n+")","gi")})(),QL=/hsl[a]?\(/,Ay=function(t){var e=t.join(" "),i;if(tr.lastIndex=0,tr.test(e))return i=QL.test(e),t[1]=DT(t[1],i),t[0]=DT(t[0],i,eD(t[1])),!0},cu,qn=(function(){var n=Date.now,t=500,e=33,i=n(),o=i,r=1e3/240,s=r,a=[],l,c,u,d,h,m,b=function _(S){var T=n()-o,B=S===!0,H,U,F,Y;if((T>t||T<0)&&(i+=T-e),o+=T,F=o-i,H=F-s,(H>0||B)&&(Y=++d.frame,h=F-d.time*1e3,d.time=F=F/1e3,s+=H+(H>=r?4:r-H),U=1),B||(l=c(_)),U)for(m=0;m<a.length;m++)a[m](F,h,Y,S)};return d={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(S){return h/(1e3/(S||60))},wake:function(){RT&&(!my&&xy()&&(_o=my=window,Iy=_o.document||{},di.gsap=yn,(_o.gsapVersions||(_o.gsapVersions=[])).push(yn.version),AT(Kg||_o.GreenSockGlobals||!_o.gsap&&_o||{}),KT.forEach(ZT)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),c=u||function(S){return setTimeout(S,s-d.time*1e3+1|0)},cu=1,b(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),cu=0,c=lu},lagSmoothing:function(S,T){t=S||1/0,e=Math.min(T||33,t)},fps:function(S){r=1e3/(S||240),s=d.time*1e3+r},add:function(S,T,B){var H=T?function(U,F,Y,X){S(U,F,Y,X),d.remove(H)}:S;return d.remove(S),a[B?"unshift":"push"](H),cl(),H},remove:function(S,T){~(T=a.indexOf(S))&&a.splice(T,1)&&m>=T&&m--},_listeners:a},d})(),cl=function(){return!cu&&qn.wake()},Be={},YL=/^[\d.\-M][\d.\-,\s]/,XL=/["']/g,KL=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),o=i[0],r=1,s=i.length,a,l,c;r<s;r++)l=i[r],a=r!==s-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[o]=isNaN(c)?c.replace(XL,"").trim():+c,o=l.substr(a+1).trim();return e},ZL=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),o=t.indexOf("(",e);return t.substring(e,~o&&o<i?t.indexOf(")",i+1):i)},JL=function(t){var e=(t+"").split("("),i=Be[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[KL(e[1])]:ZL(t).split(",").map(LT)):Be._CE&&YL.test(t)?Be._CE("",t):i},tD=function(t){return function(e){return 1-t(1-e)}},nD=function n(t,e){for(var i=t._first,o;i;)i instanceof cn?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(o=i._ease,i._ease=i._yEase,i._yEase=o,i._yoyo=e)),i=i._next},Ns=function(t,e){return t&&(It(t)?t:Be[t]||JL(t))||e},Gs=function(t,e,i,o){i===void 0&&(i=function(l){return 1-e(1-l)}),o===void 0&&(o=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var r={easeIn:e,easeOut:i,easeInOut:o},s;return In(t,function(a){Be[a]=di[a]=r,Be[s=a.toLowerCase()]=i;for(var l in r)Be[s+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Be[a+"."+l]=r[l]}),r},iD=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},cy=function n(t,e,i){var o=e>=1?e:1,r=(i||(t?.3:.45))/(e<1?e:1),s=r/gy*(Math.asin(1/o)||0),a=function(u){return u===1?1:o*Math.pow(2,-10*u)*DL((u-s)*r)+1},l=t==="out"?a:t==="in"?function(c){return 1-a(1-c)}:iD(a);return r=gy/r,l.config=function(c,u){return n(t,c,u)},l},uy=function n(t,e){e===void 0&&(e=1.70158);var i=function(s){return s?--s*s*((e+1)*s+e)+1:0},o=t==="out"?i:t==="in"?function(r){return 1-i(1-r)}:iD(i);return o.config=function(r){return n(t,r)},o};In("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Gs(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});Be.Linear.easeNone=Be.none=Be.Linear.easeIn;Gs("Elastic",cy("in"),cy("out"),cy());(function(n,t){var e=1/t,i=2*e,o=2.5*e,r=function(a){return a<e?n*a*a:a<i?n*Math.pow(a-1.5/t,2)+.75:a<o?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Gs("Bounce",function(s){return 1-r(1-s)},r)})(7.5625,2.75);Gs("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Gs("Circ",function(n){return-(PT(1-n*n)-1)});Gs("Sine",function(n){return n===1?1:-TL(n*ML)+1});Gs("Back",uy("in"),uy("out"),uy());Be.SteppedEase=Be.steps=di.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,o=t+(e?0:1),r=e?1:0,s=1-at;return function(a){return((o*du(0,s,a)|0)+r)*i}}};rl.ease=Be["quad.out"];In("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Py+=n+","+n+"Params,"});var Ny=function(t,e){this.id=xL++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Oy,this.set=e?e.getSetter:ah},uu=(function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,ll(this,+e.duration,1,1),this.data=e.data,ft&&(this._ctx=ft,ft.data.push(this)),cu||qn.wake()}var t=n.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,ll(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,o){if(cl(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(sh(this,i),!r._dp||r.parent||zT(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&bo(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===at||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),FT(this,i,o)),this},t.time=function(i,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+MT(this))%(this._dur+this._rDelay)||(i?this._dur:0),o):this._time},t.totalProgress=function(i,o){return arguments.length?this.totalTime(this.totalDuration()*i,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(i,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+MT(this),o):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,o){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,o):this._repeat?al(this._tTime,r)+1:1},t.timeScale=function(i,o){if(!arguments.length)return this._rts===-at?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?eh(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-at?0:this._rts,this.totalTime(du(-Math.abs(this._delay),this.totalDuration(),r),o!==!1),rh(this),AL(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(cl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==at&&(this._tTime-=at)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&bo(o,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+($n(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var o=this.parent||this._dp;return o?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?eh(o.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=PL);var o=un;return un=i,Ry(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),un=o,this},t.globalTime=function(i){for(var o=this,r=arguments.length?i:o.rawTime();o;)r=o._start+r/(Math.abs(o._ts)||1),o=o._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,xT(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var o=this._time;return this._rDelay=i,xT(this),o?this.time(o):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,o){return this.totalTime(Ti(this,i),$n(o))},t.restart=function(i,o){return this.play().totalTime(i?-this._delay:0,$n(o)),this._dur||(this._zTime=-at),this},t.play=function(i,o){return i!=null&&this.seek(i,o),this.reversed(!1).paused(!1)},t.reverse=function(i,o){return i!=null&&this.seek(i||this.totalDuration(),o),this.reversed(!0).paused(!1)},t.pause=function(i,o){return i!=null&&this.seek(i,o),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-at:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-at,this},t.isActive=function(){var i=this.parent||this._dp,o=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=o&&r<this.endTime(!0)-at)},t.eventCallback=function(i,o,r){var s=this.vars;return arguments.length>1?(o?(s[i]=o,r&&(s[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=o)):delete s[i],this):s[i]},t.then=function(i){var o=this;return new Promise(function(r){var s=It(i)?i:GT,a=function(){var c=o.then;o.then=null,It(s)&&(s=s(o))&&(s.then||s===o)&&(o.then=c),r(s),o.then=c};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?a():o._prom=a})},t.kill=function(){nu(this)},n})();fi(uu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-at,_prom:0,_ps:!1,_rts:1});var cn=(function(n){ET(t,n);function t(i,o){var r;return i===void 0&&(i={}),r=n.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=$n(i.sortChildren),Ct&&bo(i.parent||Ct,er(r),o),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&HT(er(r),i.scrollTrigger),r}var e=t.prototype;return e.to=function(o,r,s){return ru(0,arguments,this),this},e.from=function(o,r,s){return ru(1,arguments,this),this},e.fromTo=function(o,r,s,a){return ru(2,arguments,this),this},e.set=function(o,r,s){return r.duration=0,r.parent=this,ou(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Ot(o,r,Ti(this,s),1),this},e.call=function(o,r,s){return bo(this,Ot.delayedCall(0,o,r),s)},e.staggerTo=function(o,r,s,a,l,c,u){return s.duration=r,s.stagger=s.stagger||a,s.onComplete=c,s.onCompleteParams=u,s.parent=this,new Ot(o,s,Ti(this,l)),this},e.staggerFrom=function(o,r,s,a,l,c,u){return s.runBackwards=1,ou(s).immediateRender=$n(s.immediateRender),this.staggerTo(o,r,s,a,l,c,u)},e.staggerFromTo=function(o,r,s,a,l,c,u,d){return a.startAt=s,ou(a).immediateRender=$n(a.immediateRender),this.staggerTo(o,r,a,l,c,u,d)},e.render=function(o,r,s){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=o<=0?0:Ht(o),d=this._zTime<0!=o<0&&(this._initted||!c),h,m,b,_,S,T,B,H,U,F,Y,X;if(this!==Ct&&u>l&&o>=0&&(u=l),u!==this._tTime||s||d){if(a!==this._time&&c&&(u+=this._time-a,o+=this._time-a),h=u,U=this._start,H=this._ts,T=!H,d&&(c||(a=this._zTime),(o||!r)&&(this._zTime=o)),this._repeat){if(Y=this._yoyo,S=c+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(S*100+o,r,s);if(h=Ht(u%S),u===l?(_=this._repeat,h=c):(F=Ht(u/S),_=~~F,_&&_===F&&(h=c,_--),h>c&&(h=c)),F=al(this._tTime,S),!a&&this._tTime&&F!==_&&this._tTime-F*S-this._dur<=0&&(F=_),Y&&_&1&&(h=c-h,X=1),_!==F&&!this._lock){var re=Y&&F&1,j=re===(Y&&_&1);if(_<F&&(re=!re),a=re?0:u%c?c:u,this._lock=1,this.render(a||(X?0:Ht(_*S)),r,!c)._lock=0,this._tTime=u,!r&&this.parent&&ui(this,"onRepeat"),this.vars.repeatRefresh&&!X&&(this.invalidate()._lock=1),a&&a!==this._time||T!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,j&&(this._lock=2,a=re?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!X&&this.invalidate()),this._lock=0,!this._ts&&!T)return this;nD(this,X)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(B=LL(this,Ht(a),Ht(h)),B&&(u-=h-(h=B._start))),this._tTime=u,this._time=h,this._act=!H,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,a=0),!a&&u&&!r&&!F&&(ui(this,"onStart"),this._tTime!==u))return this;if(h>=a&&o>=0)for(m=this._first;m;){if(b=m._next,(m._act||h>=m._start)&&m._ts&&B!==m){if(m.parent!==this)return this.render(o,r,s);if(m.render(m._ts>0?(h-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(h-m._start)*m._ts,r,s),h!==this._time||!this._ts&&!T){B=0,b&&(u+=this._zTime=-at);break}}m=b}else{m=this._last;for(var Ae=o<0?o:h;m;){if(b=m._prev,(m._act||Ae<=m._end)&&m._ts&&B!==m){if(m.parent!==this)return this.render(o,r,s);if(m.render(m._ts>0?(Ae-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(Ae-m._start)*m._ts,r,s||un&&Ry(m)),h!==this._time||!this._ts&&!T){B=0,b&&(u+=this._zTime=Ae?-at:at);break}}m=b}}if(B&&!r&&(this.pause(),B.render(h>=a?0:-at)._zTime=h>=a?1:-1,this._ts))return this._start=U,rh(this),this.render(o,r,s);this._onUpdate&&!r&&ui(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(U===this._start||Math.abs(H)!==Math.abs(this._ts))&&(this._lock||((o||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&kr(this,1),!r&&!(o<0&&!a)&&(u||a||!l)&&(ui(this,u===l&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(o,r){var s=this;if(nr(r)||(r=Ti(this,r,o)),!(o instanceof uu)){if(vn(o))return o.forEach(function(a){return s.add(a,r)}),this;if(Yt(o))return this.addLabel(o,r);if(It(o))o=Ot.delayedCall(0,o);else return this}return this!==o?bo(this,o,r):this},e.getChildren=function(o,r,s,a){o===void 0&&(o=!0),r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=-Di);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ot?r&&l.push(c):(s&&l.push(c),o&&l.push.apply(l,c.getChildren(!0,r,s)))),c=c._next;return l},e.getById=function(o){for(var r=this.getChildren(1,1,1),s=r.length;s--;)if(r[s].vars.id===o)return r[s]},e.remove=function(o){return Yt(o)?this.removeLabel(o):It(o)?this.killTweensOf(o):(o.parent===this&&oh(this,o),o===this._recent&&(this._recent=this._last),As(this))},e.totalTime=function(o,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ht(qn.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),n.prototype.totalTime.call(this,o,r),this._forcing=0,this):this._tTime},e.addLabel=function(o,r){return this.labels[o]=Ti(this,r),this},e.removeLabel=function(o){return delete this.labels[o],this},e.addPause=function(o,r,s){var a=Ot.delayedCall(0,r||lu,s);return a.data="isPause",this._hasPause=1,bo(this,a,Ti(this,o))},e.removePause=function(o){var r=this._first;for(o=Ti(this,o);r;)r._start===o&&r.data==="isPause"&&kr(r),r=r._next},e.killTweensOf=function(o,r,s){for(var a=this.getTweensOf(o,s),l=a.length;l--;)Ir!==a[l]&&a[l].kill(o,r);return this},e.getTweensOf=function(o,r){for(var s=[],a=Ii(o),l=this._first,c=nr(r),u;l;)l instanceof Ot?kL(l._targets,a)&&(c?(!Ir||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&s.push(l):(u=l.getTweensOf(a,r)).length&&s.push.apply(s,u),l=l._next;return s},e.tweenTo=function(o,r){r=r||{};var s=this,a=Ti(s,o),l=r,c=l.startAt,u=l.onStart,d=l.onStartParams,h=l.immediateRender,m,b=Ot.to(s,fi({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale())||at,onStart:function(){if(s.pause(),!m){var S=r.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale());b._dur!==S&&ll(b,S,0,1).render(b._time,!0,!0),m=1}u&&u.apply(b,d||[])}},r));return h?b.render(0):b},e.tweenFromTo=function(o,r,s){return this.tweenTo(r,fi({startAt:{time:Ti(this,o)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(o){return o===void 0&&(o=this._time),TT(this,Ti(this,o))},e.previousLabel=function(o){return o===void 0&&(o=this._time),TT(this,Ti(this,o),1)},e.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+at)},e.shiftChildren=function(o,r,s){s===void 0&&(s=0);for(var a=this._first,l=this.labels,c;a;)a._start>=s&&(a._start+=o,a._end+=o),a=a._next;if(r)for(c in l)l[c]>=s&&(l[c]+=o);return As(this)},e.invalidate=function(o){var r=this._first;for(this._lock=0;r;)r.invalidate(o),r=r._next;return n.prototype.invalidate.call(this,o)},e.clear=function(o){o===void 0&&(o=!0);for(var r=this._first,s;r;)s=r._next,this.remove(r),r=s;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),As(this)},e.totalDuration=function(o){var r=0,s=this,a=s._last,l=Di,c,u,d;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-o:o));if(s._dirty){for(d=s.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,bo(s,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(r-=u,(!d&&!s._dp||d&&d.smoothChildTiming)&&(s._start+=u/s._ts,s._time-=u,s._tTime-=u),s.shiftChildren(-u,!1,-1/0),l=0),a._end>r&&a._ts&&(r=a._end),a=c;ll(s,s===Ct&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(o){if(Ct._ts&&(FT(Ct,eh(o,Ct)),BT=qn.frame),qn.frame>=ST){ST+=jn.autoSleep||120;var r=Ct._first;if((!r||!r._ts)&&jn.autoSleep&&qn._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||qn.sleep()}}},t})(uu);fi(cn.prototype,{_lock:0,_hasPause:0,_forcing:0});var eG=function(t,e,i,o,r,s,a){var l=new En(this._pt,t,e,0,1,Vy,null,r),c=0,u=0,d,h,m,b,_,S,T,B;for(l.b=i,l.e=o,i+="",o+="",(T=~o.indexOf("random("))&&(o=ul(o)),s&&(B=[i,o],s(B,t,e),i=B[0],o=B[1]),h=i.match(sy)||[];d=sy.exec(o);)b=d[0],_=o.substring(c,d.index),m?m=(m+1)%5:_.substr(-5)==="rgba("&&(m=1),b!==h[u++]&&(S=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:_||u===1?_:",",s:S,c:b.charAt(1)==="="?Ls(S,b)-S:parseFloat(b)-S,m:m&&m<4?Math.round:0},c=sy.lastIndex);return l.c=c<o.length?o.substring(c,o.length):"",l.fp=a,(Dy.test(o)||T)&&(l.e=0),this._pt=l,l},By=function(t,e,i,o,r,s,a,l,c,u){It(o)&&(o=o(r||0,t,s));var d=t[e],h=i!=="get"?i:It(d)?c?t[e.indexOf("set")||!It(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():d,m=It(d)?c?rG:sD:Gy,b;if(Yt(o)&&(~o.indexOf("random(")&&(o=ul(o)),o.charAt(1)==="="&&(b=Ls(h,o)+(dn(h)||0),(b||b===0)&&(o=b))),!u||h!==o||Sy)return!isNaN(h*o)&&o!==""?(b=new En(this._pt,t,e,+h||0,o-(h||0),typeof d=="boolean"?aG:aD,0,m),c&&(b.fp=c),a&&b.modifier(a,this,t),this._pt=b):(!d&&!(e in t)&&ih(e,o),eG.call(this,t,e,h,o,m,l||jn.stringFilter,c))},tG=function(t,e,i,o,r){if(It(t)&&(t=su(t,r,e,i,o)),!So(t)||t.style&&t.nodeType||vn(t)||kT(t))return Yt(t)?su(t,r,e,i,o):t;var s={},a;for(a in t)s[a]=su(t[a],r,e,i,o);return s},Fy=function(t,e,i,o,r,s){var a,l,c,u;if(Un[t]&&(a=new Un[t]).init(r,a.rawVars?e[t]:tG(e[t],o,r,s,i),i,o,s)!==!1&&(i._pt=l=new En(i._pt,r,t,0,1,a.render,a,0,a.priority),i!==ol))for(c=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Ir,Sy,Ly=function n(t,e,i){var o=t.vars,r=o.ease,s=o.startAt,a=o.immediateRender,l=o.lazy,c=o.onUpdate,u=o.runBackwards,d=o.yoyoEase,h=o.keyframes,m=o.autoRevert,b=t._dur,_=t._startAt,S=t._targets,T=t.parent,B=T&&T.data==="nested"?T.vars.targets:S,H=t._overwrite==="auto"&&!My,U=t.timeline,F,Y,X,re,j,Ae,Je,We,et,Ut,Nt,_t,Bt;if(U&&(!h||!r)&&(r="none"),t._ease=Ns(r,rl.ease),t._yEase=d?tD(Ns(d===!0?r:d,rl.ease)):0,d&&t._yoyo&&!t._repeat&&(d=t._yEase,t._yEase=t._ease,t._ease=d),t._from=!U&&!!o.runBackwards,!U||h&&!o.stagger){if(We=S[0]?Pr(S[0]).harness:0,_t=We&&o[We.prop],F=Jg(o,Ey),_&&(_._zTime<0&&_.progress(1),e<0&&u&&a&&!m?_.render(-1,!0):_.revert(u&&b?Qg:EL),_._lazy=0),s){if(kr(t._startAt=Ot.set(S,fi({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!_&&$n(l),startAt:null,delay:0,onUpdate:c&&function(){return ui(t,"onUpdate")},stagger:0},s))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(un||!a&&!m)&&t._startAt.revert(Qg),a&&b&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(u&&b&&!_){if(e&&(a=!1),X=fi({overwrite:!1,data:"isFromStart",lazy:a&&!_&&$n(l),immediateRender:a,stagger:0,parent:T},F),_t&&(X[We.prop]=_t),kr(t._startAt=Ot.set(S,X)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(un?t._startAt.revert(Qg):t._startAt.render(-1,!0)),t._zTime=e,!a)n(t._startAt,at,at);else if(!e)return}for(t._pt=t._ptCache=0,l=b&&$n(l)||l&&!b,Y=0;Y<S.length;Y++){if(j=S[Y],Je=j._gsap||ky(S)[Y]._gsap,t._ptLookup[Y]=Ut={},py[Je.id]&&Er.length&&Zg(),Nt=B===S?Y:B.indexOf(j),We&&(et=new We).init(j,_t||F,t,Nt,B)!==!1&&(t._pt=re=new En(t._pt,j,et.name,0,1,et.render,et,0,et.priority),et._props.forEach(function(Yn){Ut[Yn]=re}),et.priority&&(Ae=1)),!We||_t)for(X in F)Un[X]&&(et=Fy(X,F,t,Nt,j,B))?et.priority&&(Ae=1):Ut[X]=re=By.call(t,j,X,"get",F[X],Nt,B,0,o.stringFilter);t._op&&t._op[Y]&&t.kill(j,t._op[Y]),H&&t._pt&&(Ir=t,Ct.killTweensOf(j,Ut,t.globalTime(e)),Bt=!t.parent,Ir=0),t._pt&&l&&(py[Je.id]=1)}Ae&&Hy(t),t._onInit&&t._onInit(t)}t._onUpdate=c,t._initted=(!t._op||t._pt)&&!Bt,h&&e<=0&&U.render(Di,!0,!0)},nG=function(t,e,i,o,r,s,a,l){var c=(t._pt&&t._ptCache||(t._ptCache={}))[e],u,d,h,m;if(!c)for(c=t._ptCache[e]=[],h=t._ptLookup,m=t._targets.length;m--;){if(u=h[m][e],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return Sy=1,t.vars[e]="+=0",Ly(t,a),Sy=0,l?au(e+" not eligible for reset"):1;c.push(u)}for(m=c.length;m--;)d=c[m],u=d._pt||d,u.s=(o||o===0)&&!r?o:u.s+(o||0)+s*u.c,u.c=i-u.s,d.e&&(d.e=Et(i)+dn(d.e)),d.b&&(d.b=u.s+dn(d.b))},iG=function(t,e){var i=t[0]?Pr(t[0]).harness:0,o=i&&i.aliases,r,s,a,l;if(!o)return e;r=sl({},e);for(s in o)if(s in r)for(l=o[s].split(","),a=l.length;a--;)r[l[a]]=r[s];return r},oG=function(t,e,i,o){var r=e.ease||o||"power1.inOut",s,a;if(vn(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:r})});else for(s in e)a=i[s]||(i[s]=[]),s==="ease"||a.push({t:parseFloat(t),v:e[s],e:r})},su=function(t,e,i,o,r){return It(t)?t.call(e,i,o,r):Yt(t)&&~t.indexOf("random(")?ul(t):t},oD=Py+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",rD={};In(oD+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return rD[n]=1});var Ot=(function(n){ET(t,n);function t(i,o,r,s){var a;typeof o=="number"&&(r.duration=o,o=r,r=null),a=n.call(this,s?o:ou(o))||this;var l=a.vars,c=l.duration,u=l.delay,d=l.immediateRender,h=l.stagger,m=l.overwrite,b=l.keyframes,_=l.defaults,S=l.scrollTrigger,T=l.yoyoEase,B=o.parent||Ct,H=(vn(i)||kT(i)?nr(i[0]):"length"in o)?[i]:Ii(i),U,F,Y,X,re,j,Ae,Je;if(a._targets=H.length?ky(H):au("GSAP target "+i+" not found. https://gsap.com",!jn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,b||h||Wg(c)||Wg(u)){if(o=a.vars,U=a.timeline=new cn({data:"nested",defaults:_||{},targets:B&&B.data==="nested"?B.vars.targets:H}),U.kill(),U.parent=U._dp=er(a),U._start=0,h||Wg(c)||Wg(u)){if(X=H.length,Ae=h&&jT(h),So(h))for(re in h)~oD.indexOf(re)&&(Je||(Je={}),Je[re]=h[re]);for(F=0;F<X;F++)Y=Jg(o,rD),Y.stagger=0,T&&(Y.yoyoEase=T),Je&&sl(Y,Je),j=H[F],Y.duration=+su(c,er(a),F,j,H),Y.delay=(+su(u,er(a),F,j,H)||0)-a._delay,!h&&X===1&&Y.delay&&(a._delay=u=Y.delay,a._start+=u,Y.delay=0),U.to(j,Y,Ae?Ae(F,j,H):0),U._ease=Be.none;U.duration()?c=u=0:a.timeline=0}else if(b){ou(fi(U.vars.defaults,{ease:"none"})),U._ease=Ns(b.ease||o.ease||"none");var We=0,et,Ut,Nt;if(vn(b))b.forEach(function(_t){return U.to(H,_t,">")}),U.duration();else{Y={};for(re in b)re==="ease"||re==="easeEach"||oG(re,b[re],Y,b.easeEach);for(re in Y)for(et=Y[re].sort(function(_t,Bt){return _t.t-Bt.t}),We=0,F=0;F<et.length;F++)Ut=et[F],Nt={ease:Ut.e,duration:(Ut.t-(F?et[F-1].t:0))/100*c},Nt[re]=Ut.v,U.to(H,Nt,We),We+=Nt.duration;U.duration()<c&&U.to({},{duration:c-U.duration()})}}c||a.duration(c=U.duration())}else a.timeline=0;return m===!0&&!My&&(Ir=er(a),Ct.killTweensOf(H),Ir=0),bo(B,er(a),r),o.reversed&&a.reverse(),o.paused&&a.paused(!0),(d||!c&&!b&&a._start===Ht(B._time)&&$n(d)&&NL(er(a))&&B.data!=="nested")&&(a._tTime=-at,a.render(Math.max(0,-u)||0)),S&&HT(er(a),S),a}var e=t.prototype;return e.render=function(o,r,s){var a=this._time,l=this._tDur,c=this._dur,u=o<0,d=o>l-at&&!u?l:o<at?0:o,h,m,b,_,S,T,B,H,U;if(!c)FL(this,o,r,s);else if(d!==this._tTime||!o||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(h=d,H=this.timeline,this._repeat){if(_=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(_*100+o,r,s);if(h=Ht(d%_),d===l?(b=this._repeat,h=c):(S=Ht(d/_),b=~~S,b&&b===S?(h=c,b--):h>c&&(h=c)),T=this._yoyo&&b&1,T&&(U=this._yEase,h=c-h),S=al(this._tTime,_),h===a&&!s&&this._initted&&b===S)return this._tTime=d,this;b!==S&&(H&&this._yEase&&nD(H,T),this.vars.repeatRefresh&&!T&&!this._lock&&h!==_&&this._initted&&(this._lock=s=1,this.render(Ht(_*b),!0).invalidate()._lock=0))}if(!this._initted){if(UT(this,u?o:h,s,r,d))return this._tTime=0,this;if(a!==this._time&&!(s&&this.vars.repeatRefresh&&b!==S))return this;if(c!==this._dur)return this.render(o,r,s)}if(this._tTime=d,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=B=(U||this._ease)(h/c),this._from&&(this.ratio=B=1-B),!a&&d&&!r&&!S&&(ui(this,"onStart"),this._tTime!==d))return this;for(m=this._pt;m;)m.r(B,m.d),m=m._next;H&&H.render(o<0?o:H._dur*H._ease(h/this._dur),r,s)||this._startAt&&(this._zTime=o),this._onUpdate&&!r&&(u&&Cy(this,o,r,s),ui(this,"onUpdate")),this._repeat&&b!==S&&this.vars.onRepeat&&!r&&this.parent&&ui(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&Cy(this,o,!0,!0),(o||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&kr(this,1),!r&&!(u&&!a)&&(d||a||T)&&(ui(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),n.prototype.invalidate.call(this,o)},e.resetTo=function(o,r,s,a,l){cu||qn.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Ly(this,c),u=this._ease(c/this._dur),nG(this,o,r,s,a,u,c,l)?this.resetTo(o,r,s,a,1):(sh(this,0),this.parent||VT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(o,r){if(r===void 0&&(r="all"),!o&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?nu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!un),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(o,r,Ir&&Ir.vars.overwrite!==!0)._first||nu(this),this.parent&&s!==this.timeline.totalDuration()&&ll(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,l=o?Ii(o):a,c=this._ptLookup,u=this._pt,d,h,m,b,_,S,T;if((!r||r==="all")&&RL(a,l))return r==="all"&&(this._pt=0),nu(this);for(d=this._op=this._op||[],r!=="all"&&(Yt(r)&&(_={},In(r,function(B){return _[B]=1}),r=_),r=iG(a,r)),T=a.length;T--;)if(~l.indexOf(a[T])){h=c[T],r==="all"?(d[T]=r,b=h,m={}):(m=d[T]=d[T]||{},b=r);for(_ in b)S=h&&h[_],S&&((!("kill"in S.d)||S.d.kill(_)===!0)&&oh(this,S,"_pt"),delete h[_]),m!=="all"&&(m[_]=1)}return this._initted&&!this._pt&&u&&nu(this),this},t.to=function(o,r){return new t(o,r,arguments[2])},t.from=function(o,r){return ru(1,arguments)},t.delayedCall=function(o,r,s,a){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:r,onReverseComplete:r,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(o,r,s){return ru(2,arguments)},t.set=function(o,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(o,r)},t.killTweensOf=function(o,r,s){return Ct.killTweensOf(o,r,s)},t})(uu);fi(Ot.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});In("staggerTo,staggerFrom,staggerFromTo",function(n){Ot[n]=function(){var t=new cn,e=yy.call(arguments,0);return e.splice(n==="staggerFromTo"?5:4,0,0),t[n].apply(t,e)}});var Gy=function(t,e,i){return t[e]=i},sD=function(t,e,i){return t[e](i)},rG=function(t,e,i,o){return t[e](o.fp,i)},sG=function(t,e,i){return t.setAttribute(e,i)},ah=function(t,e){return It(t[e])?sD:nh(t[e])&&t.setAttribute?sG:Gy},aD=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},aG=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Vy=function(t,e){var i=e._pt,o="";if(!t&&e.b)o=e.b;else if(t===1&&e.e)o=e.e;else{for(;i;)o=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+o,i=i._next;o+=e.c}e.set(e.t,e.p,o,e)},zy=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},lG=function(t,e,i,o){for(var r=this._pt,s;r;)s=r._next,r.p===o&&r.modifier(t,e,i),r=s},cG=function(t){for(var e=this._pt,i,o;e;)o=e._next,e.p===t&&!e.op||e.op===t?oh(this,e,"_pt"):e.dep||(i=1),e=o;return!i},uG=function(t,e,i,o){o.mSet(t,e,o.m.call(o.tween,i,o.mt),o)},Hy=function(t){for(var e=t._pt,i,o,r,s;e;){for(i=e._next,o=r;o&&o.pr>e.pr;)o=o._next;(e._prev=o?o._prev:s)?e._prev._next=e:r=e,(e._next=o)?o._prev=e:s=e,e=i}t._pt=r},En=(function(){function n(e,i,o,r,s,a,l,c,u){this.t=i,this.s=r,this.c=s,this.p=o,this.r=a||aD,this.d=l||this,this.set=c||Gy,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=n.prototype;return t.modifier=function(i,o,r){this.mSet=this.mSet||this.set,this.set=uG,this.m=i,this.mt=r,this.tween=o},n})();In(Py+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Ey[n]=1});di.TweenMax=di.TweenLite=Ot;di.TimelineLite=di.TimelineMax=cn;Ct=new cn({sortChildren:!1,defaults:rl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});jn.stringFilter=Ay;var Bs=[],Xg={},dG=[],IT=0,fG=0,dy=function(t){return(Xg[t]||dG).map(function(e){return e()})},wy=function(){var t=Date.now(),e=[];t-IT>2&&(dy("matchMediaInit"),Bs.forEach(function(i){var o=i.queries,r=i.conditions,s,a,l,c;for(a in o)s=_o.matchMedia(o[a]).matches,s&&(l=1),s!==r[a]&&(r[a]=s,c=1);c&&(i.revert(),l&&e.push(i))}),dy("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(o){return i.add(null,o)})}),IT=t,dy("matchMedia"))},lD=(function(){function n(e,i){this.selector=i&&_y(i),this.data=[],this._r=[],this.isReverted=!1,this.id=fG++,e&&this.add(e)}var t=n.prototype;return t.add=function(i,o,r){It(i)&&(r=o,o=i,i=It);var s=this,a=function(){var c=ft,u=s.selector,d;return c&&c!==s&&c.data.push(s),r&&(s.selector=_y(r)),ft=s,d=o.apply(s,arguments),It(d)&&s._r.push(d),ft=c,s.selector=u,s.isReverted=!1,d};return s.last=a,i===It?a(s,function(l){return s.add(null,l)}):i?s[i]=a:a},t.ignore=function(i){var o=ft;ft=null,i(this),ft=o},t.getTweens=function(){var i=[];return this.data.forEach(function(o){return o instanceof n?i.push.apply(i,o.getTweens()):o instanceof Ot&&!(o.parent&&o.parent.data==="nested")&&i.push(o)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,o){var r=this;if(i?(function(){for(var a=r.getTweens(),l=r.data.length,c;l--;)c=r.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=r.data.length;l--;)c=r.data[l],c instanceof cn?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ot)&&c.revert&&c.revert(i);r._r.forEach(function(u){return u(i,r)}),r.isReverted=!0})():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),o)for(var s=Bs.length;s--;)Bs[s].id===this.id&&Bs.splice(s,1)},t.revert=function(i){this.kill(i||{})},n})(),gG=(function(){function n(e){this.contexts=[],this.scope=e,ft&&ft.data.push(this)}var t=n.prototype;return t.add=function(i,o,r){So(i)||(i={matches:i});var s=new lD(0,r||this.scope),a=s.conditions={},l,c,u;ft&&!s.selector&&(s.selector=ft.selector),this.contexts.push(s),o=s.add("onMatch",o),s.queries=i;for(c in i)c==="all"?u=1:(l=_o.matchMedia(i[c]),l&&(Bs.indexOf(s)<0&&Bs.push(s),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(wy):l.addEventListener("change",wy)));return u&&o(s,function(d){return s.add(null,d)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(o){return o.kill(i,!0)})},n})(),th={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(o){return ZT(o)})},timeline:function(t){return new cn(t)},getTweensOf:function(t,e){return Ct.getTweensOf(t,e)},getProperty:function(t,e,i,o){Yt(t)&&(t=Ii(t)[0]);var r=Pr(t||{}).get,s=i?GT:LT;return i==="native"&&(i=""),t&&(e?s((Un[e]&&Un[e].get||r)(t,e,i,o)):function(a,l,c){return s((Un[a]&&Un[a].get||r)(t,a,l,c))})},quickSetter:function(t,e,i){if(t=Ii(t),t.length>1){var o=t.map(function(u){return yn.quickSetter(u,e,i)}),r=o.length;return function(u){for(var d=r;d--;)o[d](u)}}t=t[0]||{};var s=Un[e],a=Pr(t),l=a.harness&&(a.harness.aliases||{})[e]||e,c=s?function(u){var d=new s;ol._pt=0,d.init(t,i?u+i:u,ol,0,[t]),d.render(1,d),ol._pt&&zy(1,ol)}:a.set(t,l);return s?c:function(u){return c(t,l,i?u+i:u,a,1)}},quickTo:function(t,e,i){var o,r=yn.to(t,fi((o={},o[e]="+=0.1",o.paused=!0,o.stagger=0,o),i||{})),s=function(l,c,u){return r.resetTo(e,l,c,u)};return s.tween=r,s},isTweening:function(t){return Ct.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ns(t.ease,rl.ease)),wT(rl,t||{})},config:function(t){return wT(jn,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,o=t.plugins,r=t.defaults,s=t.extendTimeline;(o||"").split(",").forEach(function(a){return a&&!Un[a]&&!di[a]&&au(e+" effect requires "+a+" plugin.")}),ay[e]=function(a,l,c){return i(Ii(a),fi(l||{},r),c)},s&&(cn.prototype[e]=function(a,l,c){return this.add(ay[e](a,So(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){Be[t]=Ns(e)},parseEase:function(t,e){return arguments.length?Ns(t,e):Be},getById:function(t){return Ct.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new cn(t),o,r;for(i.smoothChildTiming=$n(t.smoothChildTiming),Ct.remove(i),i._dp=0,i._time=i._tTime=Ct._time,o=Ct._first;o;)r=o._next,(e||!(!o._dur&&o instanceof Ot&&o.vars.onComplete===o._targets[0]))&&bo(i,o,o._start-o._delay),o=r;return bo(Ct,i,0),i},context:function(t,e){return t?new lD(t,e):ft},matchMedia:function(t){return new gG(t)},matchMediaRefresh:function(){return Bs.forEach(function(t){var e=t.conditions,i,o;for(o in e)e[o]&&(e[o]=!1,i=1);i&&t.revert()})||wy()},addEventListener:function(t,e){var i=Xg[t]||(Xg[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Xg[t],o=i&&i.indexOf(e);o>=0&&i.splice(o,1)},utils:{wrap:$L,wrapYoyo:jL,distribute:jT,random:QT,snap:WT,normalize:qL,getUnit:dn,clamp:VL,splitColor:JT,toArray:Ii,selector:_y,mapRange:XT,pipe:HL,unitize:UL,interpolate:WL,shuffle:$T},install:AT,effects:ay,ticker:qn,updateRoot:cn.updateRoot,plugins:Un,globalTimeline:Ct,core:{PropTween:En,globals:NT,Tween:Ot,Timeline:cn,Animation:uu,getCache:Pr,_removeLinkedListItem:oh,reverting:function(){return un},context:function(t){return t&&ft&&(ft.data.push(t),t._ctx=ft),ft},suppressOverwrites:function(t){return My=t}}};In("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return th[n]=Ot[n]});qn.add(cn.updateRoot);ol=th.to({},{duration:0});var hG=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},mG=function(t,e){var i=t._targets,o,r,s;for(o in e)for(r=i.length;r--;)s=t._ptLookup[r][o],s&&(s=s.d)&&(s._pt&&(s=hG(s,o)),s&&s.modifier&&s.modifier(e[o],t,i[r],o))},fy=function(t,e){return{name:t,headless:1,rawVars:1,init:function(o,r,s){s._onInit=function(a){var l,c;if(Yt(r)&&(l={},In(r,function(u){return l[u]=1}),r=l),e){l={};for(c in r)l[c]=e(r[c]);r=l}mG(a,r)}}}},yn=th.registerPlugin({name:"attr",init:function(t,e,i,o,r){var s,a,l;this.tween=i;for(s in e)l=t.getAttribute(s)||"",a=this.add(t,"setAttribute",(l||0)+"",e[s],o,r,0,0,s),a.op=s,a.b=l,this._props.push(s)},render:function(t,e){for(var i=e._pt;i;)un?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",headless:1,init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},fy("roundProps",by),fy("modifiers"),fy("snap",WT))||th;Ot.version=cn.version=yn.version="3.13.0";RT=1;xy()&&cl();var pG=Be.Power0,CG=Be.Power1,vG=Be.Power2,yG=Be.Power3,_G=Be.Power4,bG=Be.Linear,SG=Be.Quad,wG=Be.Cubic,MG=Be.Quart,xG=Be.Quint,TG=Be.Strong,DG=Be.Elastic,IG=Be.Back,EG=Be.SteppedEase,PG=Be.Bounce,kG=Be.Sine,OG=Be.Expo,RG=Be.Circ;var cD,Rr,fl,Qy,Us,AG,uD,Yy,NG=function(){return typeof window<"u"},or={},Hs=180/Math.PI,gl=Math.PI/180,dl=Math.atan2,dD=1e8,Xy=/([A-Z])/g,BG=/(left|right|width|margin|padding|x)/i,FG=/[\s,\(]\S/,wo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qy=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},LG=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},GG=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},VG=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},yD=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},_D=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},zG=function(t,e,i){return t.style[e]=i},HG=function(t,e,i){return t.style.setProperty(e,i)},UG=function(t,e,i){return t._gsap[e]=i},qG=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},$G=function(t,e,i,o,r){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(r,s)},jG=function(t,e,i,o,r){var s=t._gsap;s[e]=i,s.renderTransform(r,s)},vt="transform",Wn=vt+"Origin",WG=function n(t,e){var i=this,o=this.target,r=o.style,s=o._gsap;if(t in or&&r){if(this.tfm=this.tfm||{},t!=="transform")t=wo[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=ir(o,a)}):this.tfm[t]=s.x?s[t]:ir(o,t),t===Wn&&(this.tfm.zOrigin=s.zOrigin);else return wo.transform.split(",").forEach(function(a){return n.call(i,a,e)});if(this.props.indexOf(vt)>=0)return;s.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(Wn,e,"")),t=vt}(r||e)&&this.props.push(t,e,r[t])},bD=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},QG=function(){var t=this.props,e=this.target,i=e.style,o=e._gsap,r,s;for(r=0;r<t.length;r+=3)t[r+1]?t[r+1]===2?e[t[r]](t[r+2]):e[t[r]]=t[r+2]:t[r+2]?i[t[r]]=t[r+2]:i.removeProperty(t[r].substr(0,2)==="--"?t[r]:t[r].replace(Xy,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)o[s]=this.tfm[s];o.svg&&(o.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),r=Yy(),(!r||!r.isStart)&&!i[vt]&&(bD(i),o.zOrigin&&i[Wn]&&(i[Wn]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},SD=function(t,e){var i={target:t,props:[],revert:QG,save:WG};return t._gsap||yn.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(o){return i.save(o)}),i},wD,$y=function(t,e){var i=Rr.createElementNS?Rr.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Rr.createElement(t);return i&&i.style?i:Rr.createElement(t)},Ei=function n(t,e,i){var o=getComputedStyle(t);return o[e]||o.getPropertyValue(e.replace(Xy,"-$1").toLowerCase())||o.getPropertyValue(e)||!i&&n(t,hl(e)||e,1)||""},fD="O,Moz,ms,Ms,Webkit".split(","),hl=function(t,e,i){var o=e||Us,r=o.style,s=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(fD[s]+t in r););return s<0?null:(s===3?"ms":s>=0?fD[s]:"")+t},jy=function(){NG()&&window.document&&(cD=window,Rr=cD.document,fl=Rr.documentElement,Us=$y("div")||{style:{}},AG=$y("div"),vt=hl(vt),Wn=vt+"Origin",Us.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",wD=!!hl("perspective"),Yy=yn.core.reverting,Qy=1)},gD=function(t){var e=t.ownerSVGElement,i=$y("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=t.cloneNode(!0),r;o.style.display="block",i.appendChild(o),fl.appendChild(i);try{r=o.getBBox()}catch{}return i.removeChild(o),fl.removeChild(i),r},hD=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},MD=function(t){var e,i;try{e=t.getBBox()}catch{e=gD(t),i=1}return e&&(e.width||e.height)||i||(e=gD(t)),e&&!e.width&&!e.x&&!e.y?{x:+hD(t,["x","cx","x1"])||0,y:+hD(t,["y","cy","y1"])||0,width:0,height:0}:e},xD=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&MD(t))},qs=function(t,e){if(e){var i=t.style,o;e in or&&e!==Wn&&(e=vt),i.removeProperty?(o=e.substr(0,2),(o==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(o==="--"?e:e.replace(Xy,"-$1").toLowerCase())):i.removeAttribute(e)}},Ar=function(t,e,i,o,r,s){var a=new En(t._pt,e,i,0,1,s?_D:yD);return t._pt=a,a.b=o,a.e=r,t._props.push(i),a},mD={deg:1,rad:1,turn:1},YG={grid:1,flex:1},Nr=function n(t,e,i,o){var r=parseFloat(i)||0,s=(i+"").trim().substr((r+"").length)||"px",a=Us.style,l=BG.test(e),c=t.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),d=100,h=o==="px",m=o==="%",b,_,S,T;if(o===s||!r||mD[o]||mD[s])return r;if(s!=="px"&&!h&&(r=n(t,e,i,"px")),T=t.getCTM&&xD(t),(m||s==="%")&&(or[e]||~e.indexOf("adius")))return b=T?t.getBBox()[l?"width":"height"]:t[u],Et(m?r/b*d:r/100*b);if(a[l?"width":"height"]=d+(h?s:o),_=o!=="rem"&&~e.indexOf("adius")||o==="em"&&t.appendChild&&!c?t:t.parentNode,T&&(_=(t.ownerSVGElement||{}).parentNode),(!_||_===Rr||!_.appendChild)&&(_=Rr.body),S=_._gsap,S&&m&&S.width&&l&&S.time===qn.time&&!S.uncache)return Et(r/S.width*d);if(m&&(e==="height"||e==="width")){var B=t.style[e];t.style[e]=d+o,b=t[u],B?t.style[e]=B:qs(t,e)}else(m||s==="%")&&!YG[Ei(_,"display")]&&(a.position=Ei(t,"position")),_===t&&(a.position="static"),_.appendChild(Us),b=Us[u],_.removeChild(Us),a.position="absolute";return l&&m&&(S=Pr(_),S.time=qn.time,S.width=_[u]),Et(h?b*r/d:b&&r?d/b*r:0)},ir=function(t,e,i,o){var r;return Qy||jy(),e in wo&&e!=="transform"&&(e=wo[e],~e.indexOf(",")&&(e=e.split(",")[0])),or[e]&&e!=="transform"?(r=hu(t,o),r=e!=="transformOrigin"?r[e]:r.svg?r.origin:ch(Ei(t,Wn))+" "+r.zOrigin+"px"):(r=t.style[e],(!r||r==="auto"||o||~(r+"").indexOf("calc("))&&(r=lh[e]&&lh[e](t,e,i)||Ei(t,e)||Oy(t,e)||(e==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?Nr(t,e,r,i)+i:r},XG=function(t,e,i,o){if(!i||i==="none"){var r=hl(e,t,1),s=r&&Ei(t,r,1);s&&s!==i?(e=r,i=s):e==="borderColor"&&(i=Ei(t,"borderTopColor"))}var a=new En(this._pt,t.style,e,0,1,Vy),l=0,c=0,u,d,h,m,b,_,S,T,B,H,U,F;if(a.b=i,a.e=o,i+="",o+="",o.substring(0,6)==="var(--"&&(o=Ei(t,o.substring(4,o.indexOf(")")))),o==="auto"&&(_=t.style[e],t.style[e]=o,o=Ei(t,e)||o,_?t.style[e]=_:qs(t,e)),u=[i,o],Ay(u),i=u[0],o=u[1],h=i.match(Fs)||[],F=o.match(Fs)||[],F.length){for(;d=Fs.exec(o);)S=d[0],B=o.substring(l,d.index),b?b=(b+1)%5:(B.substr(-5)==="rgba("||B.substr(-5)==="hsla(")&&(b=1),S!==(_=h[c++]||"")&&(m=parseFloat(_)||0,U=_.substr((m+"").length),S.charAt(1)==="="&&(S=Ls(m,S)+U),T=parseFloat(S),H=S.substr((T+"").length),l=Fs.lastIndex-H.length,H||(H=H||jn.units[e]||U,l===o.length&&(o+=H,a.e+=H)),U!==H&&(m=Nr(t,e,_,H)||0),a._pt={_next:a._pt,p:B||c===1?B:",",s:m,c:T-m,m:b&&b<4||e==="zIndex"?Math.round:0});a.c=l<o.length?o.substring(l,o.length):""}else a.r=e==="display"&&o==="none"?_D:yD;return Dy.test(o)&&(a.e=0),this._pt=a,a},pD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},KG=function(t){var e=t.split(" "),i=e[0],o=e[1]||"50%";return(i==="top"||i==="bottom"||o==="left"||o==="right")&&(t=i,i=o,o=t),e[0]=pD[i]||i,e[1]=pD[o]||o,e.join(" ")},ZG=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,o=i.style,r=e.u,s=i._gsap,a,l,c;if(r==="all"||r===!0)o.cssText="",l=1;else for(r=r.split(","),c=r.length;--c>-1;)a=r[c],or[a]&&(l=1,a=a==="transformOrigin"?Wn:vt),qs(i,a);l&&(qs(i,vt),s&&(s.svg&&i.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",hu(i,1),s.uncache=1,bD(o)))}},lh={clearProps:function(t,e,i,o,r){if(r.data!=="isFromStart"){var s=t._pt=new En(t._pt,e,i,0,0,ZG);return s.u=o,s.pr=-10,s.tween=r,t._props.push(i),1}}},gu=[1,0,0,1,0,0],TD={},DD=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},CD=function(t){var e=Ei(t,vt);return DD(e)?gu:e.substr(7).match(Ty).map(Et)},Ky=function(t,e){var i=t._gsap||Pr(t),o=t.style,r=CD(t),s,a,l,c;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?gu:r):(r===gu&&!t.offsetParent&&t!==fl&&!i.svg&&(l=o.display,o.display="block",s=t.parentNode,(!s||!t.offsetParent&&!t.getBoundingClientRect().width)&&(c=1,a=t.nextElementSibling,fl.appendChild(t)),r=CD(t),l?o.display=l:qs(t,"display"),c&&(a?s.insertBefore(t,a):s?s.appendChild(t):fl.removeChild(t))),e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Wy=function(t,e,i,o,r,s){var a=t._gsap,l=r||Ky(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,h=a.yOffset||0,m=l[0],b=l[1],_=l[2],S=l[3],T=l[4],B=l[5],H=e.split(" "),U=parseFloat(H[0])||0,F=parseFloat(H[1])||0,Y,X,re,j;i?l!==gu&&(X=m*S-b*_)&&(re=U*(S/X)+F*(-_/X)+(_*B-S*T)/X,j=U*(-b/X)+F*(m/X)-(m*B-b*T)/X,U=re,F=j):(Y=MD(t),U=Y.x+(~H[0].indexOf("%")?U/100*Y.width:U),F=Y.y+(~(H[1]||H[0]).indexOf("%")?F/100*Y.height:F)),o||o!==!1&&a.smooth?(T=U-c,B=F-u,a.xOffset=d+(T*m+B*_)-T,a.yOffset=h+(T*b+B*S)-B):a.xOffset=a.yOffset=0,a.xOrigin=U,a.yOrigin=F,a.smooth=!!o,a.origin=e,a.originIsAbsolute=!!i,t.style[Wn]="0px 0px",s&&(Ar(s,a,"xOrigin",c,U),Ar(s,a,"yOrigin",u,F),Ar(s,a,"xOffset",d,a.xOffset),Ar(s,a,"yOffset",h,a.yOffset)),t.setAttribute("data-svg-origin",U+" "+F)},hu=function(t,e){var i=t._gsap||new Ny(t);if("x"in i&&!e&&!i.uncache)return i;var o=t.style,r=i.scaleX<0,s="px",a="deg",l=getComputedStyle(t),c=Ei(t,Wn)||"0",u,d,h,m,b,_,S,T,B,H,U,F,Y,X,re,j,Ae,Je,We,et,Ut,Nt,_t,Bt,Yn,Ks,Ur,qr,Oo,Nu,ki,Ro;return u=d=h=_=S=T=B=H=U=0,m=b=1,i.svg=!!(t.getCTM&&xD(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(o[vt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[vt]!=="none"?l[vt]:"")),o.scale=o.rotate=o.translate="none"),X=Ky(t,i.svg),i.svg&&(i.uncache?(Yn=t.getBBox(),c=i.xOrigin-Yn.x+"px "+(i.yOrigin-Yn.y)+"px",Bt=""):Bt=!e&&t.getAttribute("data-svg-origin"),Wy(t,Bt||c,!!Bt||i.originIsAbsolute,i.smooth!==!1,X)),F=i.xOrigin||0,Y=i.yOrigin||0,X!==gu&&(Je=X[0],We=X[1],et=X[2],Ut=X[3],u=Nt=X[4],d=_t=X[5],X.length===6?(m=Math.sqrt(Je*Je+We*We),b=Math.sqrt(Ut*Ut+et*et),_=Je||We?dl(We,Je)*Hs:0,B=et||Ut?dl(et,Ut)*Hs+_:0,B&&(b*=Math.abs(Math.cos(B*gl))),i.svg&&(u-=F-(F*Je+Y*et),d-=Y-(F*We+Y*Ut))):(Ro=X[6],Nu=X[7],Ur=X[8],qr=X[9],Oo=X[10],ki=X[11],u=X[12],d=X[13],h=X[14],re=dl(Ro,Oo),S=re*Hs,re&&(j=Math.cos(-re),Ae=Math.sin(-re),Bt=Nt*j+Ur*Ae,Yn=_t*j+qr*Ae,Ks=Ro*j+Oo*Ae,Ur=Nt*-Ae+Ur*j,qr=_t*-Ae+qr*j,Oo=Ro*-Ae+Oo*j,ki=Nu*-Ae+ki*j,Nt=Bt,_t=Yn,Ro=Ks),re=dl(-et,Oo),T=re*Hs,re&&(j=Math.cos(-re),Ae=Math.sin(-re),Bt=Je*j-Ur*Ae,Yn=We*j-qr*Ae,Ks=et*j-Oo*Ae,ki=Ut*Ae+ki*j,Je=Bt,We=Yn,et=Ks),re=dl(We,Je),_=re*Hs,re&&(j=Math.cos(re),Ae=Math.sin(re),Bt=Je*j+We*Ae,Yn=Nt*j+_t*Ae,We=We*j-Je*Ae,_t=_t*j-Nt*Ae,Je=Bt,Nt=Yn),S&&Math.abs(S)+Math.abs(_)>359.9&&(S=_=0,T=180-T),m=Et(Math.sqrt(Je*Je+We*We+et*et)),b=Et(Math.sqrt(_t*_t+Ro*Ro)),re=dl(Nt,_t),B=Math.abs(re)>2e-4?re*Hs:0,U=ki?1/(ki<0?-ki:ki):0),i.svg&&(Bt=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!DD(Ei(t,vt)),Bt&&t.setAttribute("transform",Bt))),Math.abs(B)>90&&Math.abs(B)<270&&(r?(m*=-1,B+=_<=0?180:-180,_+=_<=0?180:-180):(b*=-1,B+=B<=0?180:-180)),e=e||i.uncache,i.x=u-((i.xPercent=u&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+s,i.y=d-((i.yPercent=d&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-d)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+s,i.z=h+s,i.scaleX=Et(m),i.scaleY=Et(b),i.rotation=Et(_)+a,i.rotationX=Et(S)+a,i.rotationY=Et(T)+a,i.skewX=B+a,i.skewY=H+a,i.transformPerspective=U+s,(i.zOrigin=parseFloat(c.split(" ")[2])||!e&&i.zOrigin||0)&&(o[Wn]=ch(c)),i.xOffset=i.yOffset=0,i.force3D=jn.force3D,i.renderTransform=i.svg?e3:wD?ID:JG,i.uncache=0,i},ch=function(t){return(t=t.split(" "))[0]+" "+t[1]},Uy=function(t,e,i){var o=dn(e);return Et(parseFloat(e)+parseFloat(Nr(t,"x",i+"px",o)))+o},JG=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ID(t,e)},Vs="0deg",fu="0px",zs=") ",ID=function(t,e){var i=e||this,o=i.xPercent,r=i.yPercent,s=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,h=i.skewX,m=i.skewY,b=i.scaleX,_=i.scaleY,S=i.transformPerspective,T=i.force3D,B=i.target,H=i.zOrigin,U="",F=T==="auto"&&t&&t!==1||T===!0;if(H&&(d!==Vs||u!==Vs)){var Y=parseFloat(u)*gl,X=Math.sin(Y),re=Math.cos(Y),j;Y=parseFloat(d)*gl,j=Math.cos(Y),s=Uy(B,s,X*j*-H),a=Uy(B,a,-Math.sin(Y)*-H),l=Uy(B,l,re*j*-H+H)}S!==fu&&(U+="perspective("+S+zs),(o||r)&&(U+="translate("+o+"%, "+r+"%) "),(F||s!==fu||a!==fu||l!==fu)&&(U+=l!==fu||F?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+zs),c!==Vs&&(U+="rotate("+c+zs),u!==Vs&&(U+="rotateY("+u+zs),d!==Vs&&(U+="rotateX("+d+zs),(h!==Vs||m!==Vs)&&(U+="skew("+h+", "+m+zs),(b!==1||_!==1)&&(U+="scale("+b+", "+_+zs),B.style[vt]=U||"translate(0, 0)"},e3=function(t,e){var i=e||this,o=i.xPercent,r=i.yPercent,s=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,h=i.scaleY,m=i.target,b=i.xOrigin,_=i.yOrigin,S=i.xOffset,T=i.yOffset,B=i.forceCSS,H=parseFloat(s),U=parseFloat(a),F,Y,X,re,j;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=gl,c*=gl,F=Math.cos(l)*d,Y=Math.sin(l)*d,X=Math.sin(l-c)*-h,re=Math.cos(l-c)*h,c&&(u*=gl,j=Math.tan(c-u),j=Math.sqrt(1+j*j),X*=j,re*=j,u&&(j=Math.tan(u),j=Math.sqrt(1+j*j),F*=j,Y*=j)),F=Et(F),Y=Et(Y),X=Et(X),re=Et(re)):(F=d,re=h,Y=X=0),(H&&!~(s+"").indexOf("px")||U&&!~(a+"").indexOf("px"))&&(H=Nr(m,"x",s,"px"),U=Nr(m,"y",a,"px")),(b||_||S||T)&&(H=Et(H+b-(b*F+_*X)+S),U=Et(U+_-(b*Y+_*re)+T)),(o||r)&&(j=m.getBBox(),H=Et(H+o/100*j.width),U=Et(U+r/100*j.height)),j="matrix("+F+","+Y+","+X+","+re+","+H+","+U+")",m.setAttribute("transform",j),B&&(m.style[vt]=j)},t3=function(t,e,i,o,r){var s=360,a=Yt(r),l=parseFloat(r)*(a&&~r.indexOf("rad")?Hs:1),c=l-o,u=o+c+"deg",d,h;return a&&(d=r.split("_")[1],d==="short"&&(c%=s,c!==c%(s/2)&&(c+=c<0?s:-s)),d==="cw"&&c<0?c=(c+s*dD)%s-~~(c/s)*s:d==="ccw"&&c>0&&(c=(c-s*dD)%s-~~(c/s)*s)),t._pt=h=new En(t._pt,e,i,o,c,LG),h.e=u,h.u="deg",t._props.push(i),h},vD=function(t,e){for(var i in e)t[i]=e[i];return t},n3=function(t,e,i){var o=vD({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",s=i.style,a,l,c,u,d,h,m,b;o.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),s[vt]=e,a=hu(i,1),qs(i,vt),i.setAttribute("transform",c)):(c=getComputedStyle(i)[vt],s[vt]=e,a=hu(i,1),s[vt]=c);for(l in or)c=o[l],u=a[l],c!==u&&r.indexOf(l)<0&&(m=dn(c),b=dn(u),d=m!==b?Nr(i,l,c,b):parseFloat(c),h=parseFloat(u),t._pt=new En(t._pt,a,l,d,h-d,qy),t._pt.u=b||0,t._props.push(l));vD(a,o)};In("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",o="Bottom",r="Left",s=(t<3?[e,i,o,r]:[e+r,e+i,o+i,o+r]).map(function(a){return t<2?n+a:"border"+a+n});lh[t>1?"border"+n:n]=function(a,l,c,u,d){var h,m;if(arguments.length<4)return h=s.map(function(b){return ir(a,b,c)}),m=h.join(" "),m.split(h[0]).length===5?h[0]:m;h=(u+"").split(" "),m={},s.forEach(function(b,_){return m[b]=h[_]=h[_]||h[(_-1)/2|0]}),a.init(l,m,d)}});var Zy={name:"css",register:jy,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,o,r){var s=this._props,a=t.style,l=i.vars.startAt,c,u,d,h,m,b,_,S,T,B,H,U,F,Y,X,re;Qy||jy(),this.styles=this.styles||SD(t),re=this.styles.props,this.tween=i;for(_ in e)if(_!=="autoRound"&&(u=e[_],!(Un[_]&&Fy(_,e,i,o,t,r)))){if(m=typeof u,b=lh[_],m==="function"&&(u=u.call(i,o,t,r),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=ul(u)),b)b(this,t,_,u,i)&&(X=1);else if(_.substr(0,2)==="--")c=(getComputedStyle(t).getPropertyValue(_)+"").trim(),u+="",tr.lastIndex=0,tr.test(c)||(S=dn(c),T=dn(u)),T?S!==T&&(c=Nr(t,_,c,T)+T):S&&(u+=S),this.add(a,"setProperty",c,u,o,r,0,0,_),s.push(_),re.push(_,0,a[_]);else if(m!=="undefined"){if(l&&_ in l?(c=typeof l[_]=="function"?l[_].call(i,o,t,r):l[_],Yt(c)&&~c.indexOf("random(")&&(c=ul(c)),dn(c+"")||c==="auto"||(c+=jn.units[_]||dn(ir(t,_))||""),(c+"").charAt(1)==="="&&(c=ir(t,_))):c=ir(t,_),h=parseFloat(c),B=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),B&&(u=u.substr(2)),d=parseFloat(u),_ in wo&&(_==="autoAlpha"&&(h===1&&ir(t,"visibility")==="hidden"&&d&&(h=0),re.push("visibility",0,a.visibility),Ar(this,a,"visibility",h?"inherit":"hidden",d?"inherit":"hidden",!d)),_!=="scale"&&_!=="transform"&&(_=wo[_],~_.indexOf(",")&&(_=_.split(",")[0]))),H=_ in or,H){if(this.styles.save(_),m==="string"&&u.substring(0,6)==="var(--"&&(u=Ei(t,u.substring(4,u.indexOf(")"))),d=parseFloat(u)),U||(F=t._gsap,F.renderTransform&&!e.parseTransform||hu(t,e.parseTransform),Y=e.smoothOrigin!==!1&&F.smooth,U=this._pt=new En(this._pt,a,vt,0,1,F.renderTransform,F,0,-1),U.dep=1),_==="scale")this._pt=new En(this._pt,F,"scaleY",F.scaleY,(B?Ls(F.scaleY,B+d):d)-F.scaleY||0,qy),this._pt.u=0,s.push("scaleY",_),_+="X";else if(_==="transformOrigin"){re.push(Wn,0,a[Wn]),u=KG(u),F.svg?Wy(t,u,0,Y,0,this):(T=parseFloat(u.split(" ")[2])||0,T!==F.zOrigin&&Ar(this,F,"zOrigin",F.zOrigin,T),Ar(this,a,_,ch(c),ch(u)));continue}else if(_==="svgOrigin"){Wy(t,u,1,Y,0,this);continue}else if(_ in TD){t3(this,F,_,h,B?Ls(h,B+u):u);continue}else if(_==="smoothOrigin"){Ar(this,F,"smooth",F.smooth,u);continue}else if(_==="force3D"){F[_]=u;continue}else if(_==="transform"){n3(this,u,t);continue}}else _ in a||(_=hl(_)||_);if(H||(d||d===0)&&(h||h===0)&&!FG.test(u)&&_ in a)S=(c+"").substr((h+"").length),d||(d=0),T=dn(u)||(_ in jn.units?jn.units[_]:S),S!==T&&(h=Nr(t,_,c,T)),this._pt=new En(this._pt,H?F:a,_,h,(B?Ls(h,B+d):d)-h,!H&&(T==="px"||_==="zIndex")&&e.autoRound!==!1?VG:qy),this._pt.u=T||0,S!==T&&T!=="%"&&(this._pt.b=c,this._pt.r=GG);else if(_ in a)XG.call(this,t,_,c,B?B+u:u);else if(_ in t)this.add(t,_,c||t[_],B?B+u:u,o,r);else if(_!=="parseTransform"){ih(_,u);continue}H||(_ in a?re.push(_,0,a[_]):typeof t[_]=="function"?re.push(_,2,t[_]()):re.push(_,1,c||t[_])),s.push(_)}}X&&Hy(this)},render:function(t,e){if(e.tween._time||!Yy())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:ir,aliases:wo,getSetter:function(t,e,i){var o=wo[e];return o&&o.indexOf(",")<0&&(e=o),e in or&&e!==Wn&&(t._gsap.x||ir(t,"x"))?i&&uD===i?e==="scale"?qG:UG:(uD=i||{})&&(e==="scale"?$G:jG):t.style&&!nh(t.style[e])?zG:~e.indexOf("-")?HG:ah(t,e)},core:{_removeProperty:qs,_getMatrix:Ky}};yn.utils.checkPrefix=hl;yn.core.getStyleSaver=SD;(function(n,t,e,i){var o=In(n+","+t+","+e,function(r){or[r]=1});In(t,function(r){jn.units[r]="deg",TD[r]=1}),wo[o[13]]=n+","+t,In(i,function(r){var s=r.split(":");wo[s[1]]=o[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");In("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){jn.units[n]="px"});yn.registerPlugin(Zy);var qe=yn.registerPlugin(Zy)||yn,nre=qe.core.Tween;var Fe=(()=>{class n{constructor(){this.signalCurrentLocale=w(g.defaultLocale),this._translations={},this._currentLocale=null,this._currentAdditionalPaths=null,this.onTranslationChange=new Z}static{this.TRANSLATION_FILE_PATH=""}get currentLocale(){return this._currentLocale}resetTranslations(){this._translations={},n.TRANSLATION_FILE_PATH.length>0&&this.loadTranslation(Dr["en-main"]).then(()=>{this.onTranslationChange.emit()})}areTranslationsAvailable(e){return e&&this._translations[e]}use(e,i=null){return ue(this,null,function*(){this._currentLocale===e&&this._currentAdditionalPaths===i||(this._currentLocale=e,this.signalCurrentLocale.set(this._currentLocale),this._currentAdditionalPaths=i,this.areTranslationsAvailable(this._currentLocale)?this.onTranslationChange.emit():yield this.loadTranslation())})}loadTranslation(e=null,i=null,o=!1){return ue(this,null,function*(){let r=e??this._currentLocale,s=i??this._currentAdditionalPaths,l=[n.TRANSLATION_FILE_PATH+r+".json"];if(s)for(let c of s)r&&l.push(c.replace("{{locale}}",r));if(!(!o&&this.areTranslationsAvailable(r)))return r&&(this._translations[r]={}),yield Promise.allSettled(l.map(c=>fetch(c).then(u=>u.json()).catch(u=>{console.error(u)}))).then(c=>{let u=c.filter(d=>d.status==="fulfilled").map(d=>d.value).reduce((d,h)=>Object.assign(d,h),{});r&&(this._translations[r]=u),this.onTranslationChange.emit()})})}overwriteLocalTranslationValue(e,i,o){this._translations&&this._translations[e]&&i in this._translations[e]&&(this._translations[e][i]=o,this.onTranslationChange.emit())}instant(e,i=null,o=null){let r=o??this._currentLocale;if(!r||!this._translations[r])return e;let s;if(e.includes(".")){let a=e.split(".");s=this._translations[r][a[0]]?.[a[1]]}else s=this._translations[r][e];return s?this.getParsedResult(s,i):e}getParsedResult(e,i=null){if(!i)return e;let o;for(let r in i)o=i[r].toString(),e=e.replaceAll("{{"+r+"}}",o);return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mo=(()=>{class n{constructor(){this.nativeTranslateService=p(Fe),this.onUpdateGameScore=new Z,this.startScore=0,this.targetScore=0,this.oldScore=0,this.scores=[],qe.registerEffect({name:"counter",extendTimeline:!0,defaults:{start:0,end:0,duration:.5,ease:"bounce",increment:1},effect:(e,i)=>{let o=qe.timeline();return e[0].innerText=e[0].innerText.replace(/,/g,""),o.set(e,{innerText:i.start}),o.to(e,{duration:i.duration,innerText:i.end,modifiers:{innerText:r=>qe.utils.snap(i.increment,r).toLocaleString(this.nativeTranslateService.currentLocale??"en-US")},ease:i.ease,onComplete:i.onComplete},0),o}})}init(e){this.callScoreTween(e,null)}resetGameScore(){this.startScore=0,this.targetScore=0,this.oldScore=0,this.scores=[],this.onUpdateGameScore.emit()}prepareGameScore(e){this.scores.push(e)}updateGameScore(){this.scores.length>0&&(this.startScore=this.oldScore,this.targetScore=this.scores[0],this.oldScore=this.scores[0],this.scores.shift()),this.onUpdateGameScore.emit()}callScoreTween(e,i){let o=qe.timeline();qe.killTweensOf(e.nativeElement),o.from(e.nativeElement,{opacity:1}),o.counter(e.nativeElement,{start:this.startScore,end:this.targetScore,ease:"linear",onComplete:()=>{i&&this.targetScore>0&&i()}},"-=0.5")}callScoreIconTween(e,i){let o=qe.timeline();qe.killTweensOf(e.nativeElement),o.to(e.nativeElement,{y:-15,rotation:-15,duration:.5,ease:"power1.out"}).to(e.nativeElement,{y:0,rotation:0,duration:.25,ease:"power1.in"}).to(e.nativeElement,{y:-10,rotation:10,duration:.5,ease:"power1.out"}).to(e.nativeElement,{y:-12,rotation:-15,duration:.5,ease:"power1.out"}).to(e.nativeElement,{y:0,rotation:0,duration:.25,ease:"power1.in",onComplete:()=>{i&&i()}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uh=(function(n){return n.SCORM_TRUE="true",n.SCORM_FALSE="false",n[n.STATE_NOT_INITIALIZED=0]="STATE_NOT_INITIALIZED",n[n.STATE_INITIALIZED=1]="STATE_INITIALIZED",n[n.STATE_TERMINATED=2]="STATE_TERMINATED",n})(uh||{});var dh=(()=>{class n{constructor(){this.scormAPI=null,this.scormAPIName="---",this.scormAPIType=null,this.lastCall="",this.lastResult="",this.lastError="",this.beforeUnload=this.onBeforeUnload.bind(this)}init(){this.scormAPI=this.getAPI(),this.scormAPIName=this.scormAPI?this.scormAPI.constructor.name:"---",this.scormAPI&&console.log(this.scormAPIName)}onBeforeUnload(e){e&&this.finishLMS()}findAPI(e){for(let i=0;i<500;i++){if(e.API!=null)return this.scormAPIType="1.2",e.API;if(e.parent==null||e.parent==e)return null;e=e.parent}return null}getAPI(){let e=this.findAPI(window);return e==null&&window.opener!=null&&typeof window.opener<"u"&&(e=this.findAPI(window.opener)),e==null,e}initLMS(){if(!this.scormAPI)return!1;let i=this.scormAPI.LMSInitialize("")===uh.SCORM_TRUE;return i&&window.addEventListener("beforeunload",this.beforeUnload),this.setLastCall("LMSInitialize"),i}getLastError(){if(!this.scormAPI)return null;let e=this.scormAPI.LMSGetLastError(),i=this.scormAPI.LMSGetErrorString(e),o=this.scormAPI.LMSGetDiagnostic(e),r={lastErrorCode:e,errorString:null,errorDiagnostic:null};return e&&(r.errorString=i,r.errorDiagnostic=o),this.lastError=r.errorString||"",r}finishLMS(){if(!this.scormAPI)return!1;let i=this.scormAPI.LMSFinish("")===uh.SCORM_TRUE;return i&&window.removeEventListener("beforeunload",this.beforeUnload),this.setLastCall("LMSFinish"),i}getValue(e){if(!this.scormAPI)return null;let i=this.scormAPI.LMSGetValue(e);if(!i&&typeof i!="number"||i.length===0){let o=this.getLastError();console.log("LMSGetLastError",o),this.lastResult=""}else this.lastResult=i,this.lastError="";return this.setLastCall("Get Value: "+e),i}setValue(e,i){this.scormAPI&&(this.scormAPI.LMSSetValue(e,i),this.scormAPI.LMSCommit(""),this.setLastCall("Set Value: "+e+": "+i))}setLastCall(e){this.lastCall=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye=(()=>{class n extends pt{constructor(){super(...arguments),this.initService=p(de),this.userGameService=p(zt),this.gameHeaderService=p(Mo),this.scormService=p(dh),this.signalGameConfig=w(null),this.signalQuizGameId=w(null),this.signalCurrentMultiplierGame=w(0),this.signalQuizNumber=w(1),this.signalIsGameRunning=w(!1),this.signalGameTitleImage=w(null),this.signalHasShownEndGameConfetti=w(!1),this.signalHasEnteredHighscore=w(!1),this.highscorePageBackRoute=G.base,this.topics=[],this.oldTopicsHistory=[],this.currentTopics=[],this.currentTopic=null,this.currentQuestionIndex=-1,this.goldenQuestionIndex=0,this.topicQuestionResultList=[],this.gameQuestionResultList=[]}init(){this.signalCurrentMultiplierGame.set(0),this.signalQuizNumber.set(g.startQuiz),this.signalHasShownEndGameConfetti.set(!1),this.signalHasEnteredHighscore.set(!1),this.highscorePageBackRoute=G.base,this.oldTopicsHistory=[],this.refreshCurrentTopics();let e=this.signalGameConfig()?this.signalGameConfig().maxQuizRoundCount:g.maxQuizRoundCount,i=this.signalGameConfig()?this.signalGameConfig().maxQuizQuestionCount:g.maxQuizQuestionCount,o=e*i,r=3;this.currentQuestionIndex=-1,this.goldenQuestionIndex=Math.floor(r+(o-r)*Math.random()),g.isDebugConsole&&console.log("GOLDEN question index:",this.goldenQuestionIndex),this.topicQuestionResultList=[],this.gameQuestionResultList=[],this.userGameService.resetGameScore(),this.gameHeaderService.resetGameScore()}refreshCurrentTopics(){if(this.currentTopics=[],this.topics.forEach(e=>{this.currentTopics.push(e)}),this.currentTopics=ln.shuffleArray(this.currentTopics),this.initService.signalAppQueryParams()&&this.initService.signalAppQueryParams().categoryId){let e=this.initService.signalAppQueryParams().categoryId;for(let i of this.currentTopics)if(i.url.indexOf("category-"+e+".json")!=-1){let[o]=this.currentTopics.splice(this.currentTopics.indexOf(i),1);this.currentTopics.unshift(o);break}}g.isDebugConsole&&console.log(this.currentTopics)}getBaseConfig(){let e={};this.initService.qz&&(e.qz=this.initService.qz);let i,o;return this.initService.qz?(i=pt.getBaseApiUrl()+"api/game/get-config",o=new tn(i,dt.get,null,e)):(i=pt.getBaseApiUrl()+"assets/json/config",o=new tn(i,dt.get,null,null,null,null,".json")),this.doHttpRequest(o,r=>{if(r.body){if(r.body.qz?this.signalQuizGameId.set(parseInt(r.body.qz,10)):this.initService.qz=null,r.body.qz&&r.body.config&&this.signalGameConfig.set(jg.getModelFromJSON(r.body.config)),r.body.files){this.topics=[];let s=r.body.files,a;this.signalGameConfig()?.isFtpReady?a="":this.signalQuizGameId()?a="uploads/quiz-game/categories/":a="uploads/quiz-game/base/categories/";for(let l=0,c=s.length;l<c;++l){let u=a+s[l],d=u.split("/");d.pop();let h=d.join("/");this.topics.push(new qg(l+1,"",u,h))}this.currentTopics=[],this.topics.forEach(l=>{this.currentTopics.push(l)}),this.currentTopics=ln.shuffleArray(this.currentTopics)}return r.body}return null},r=>this.onLoadError(r))}setCurrentTopic(e){let i=null;for(let o of this.currentTopics)e===o.id&&(i=o);if(i){let o=this.currentTopics.indexOf(i),r=[];this.currentTopics.length>0&&r.push(this.currentTopics[0]),this.currentTopics.length>1&&r.push(this.currentTopics[1]),this.oldTopicsHistory.push({topics:r,isLeft:o===0}),this.currentTopic=i,this.currentTopics.splice(o,1),this.currentTopics=ln.shuffleArray(this.currentTopics)}else this.currentTopic=null;g.isDebugConsole&&console.log("rest topics",this.currentTopics),this.topicQuestionResultList=[]}setNextMultiplierGame(){let e=this.signalCurrentMultiplierGame();if(this.signalGameConfig()?.activeMiniGames&&this.signalGameConfig().activeMiniGames.length>0){let i=this.signalGameConfig().activeMiniGames.indexOf(e);i===-1||i>=this.signalGameConfig().activeMiniGames.length-1?e=this.signalGameConfig().activeMiniGames[0]:(i++,e=this.signalGameConfig().activeMiniGames[i])}else e===0?e=g.startMultiplierGame:(e++,e>g.maxMultiplierGameCount&&(e=1));this.signalCurrentMultiplierGame.set(e)}setIsGameRunning(e){this.signalIsGameRunning.set(e)}setQuizNumber(e){this.signalQuizNumber.set(e)}addTopicQuestionScore(e){this.topicQuestionResultList.push(e),this.gameQuestionResultList.push(e)}getTotalTopicQuestionScore(){let e=0;for(let i of this.topicQuestionResultList)e+=i.totalScore;return e}getTotalValidGameQuestions(){return this.gameQuestionResultList.filter(i=>i.isSelectedCorrect).length}getCorrectGameQuestionsRate(){let e=this.getTotalValidGameQuestions()/Math.max(.1,this.gameQuestionResultList.length);return Math.round(e*1e3)/1e3}getCorrectGameQuestionsPercentage(){return Math.round(this.getCorrectGameQuestionsRate()*1e3)/10}isScormFinished(){let e=this.signalGameConfig()?.scormQuestionFinishPercentage??0;return this.getCorrectGameQuestionsPercentage()>=e}updateLastTopicQuestionComboScore(e){let i=this.topicQuestionResultList.length;i>0&&(this.topicQuestionResultList[i-1].comboScore=e,this.topicQuestionResultList[i-1].totalScore+=e)}getCorrectComboCount(){let e=[...this.topicQuestionResultList];e.reverse();let i=0;for(let o of e)if(o.score>0)i++;else break;return i}finishGameFully(){if(this.scormService.scormAPI){let e=this.scormService.getValue("cmi.core.score.raw"),i=e?parseInt(e,10):0,o=this.getCorrectGameQuestionsPercentage();o>i&&this.scormService.setValue("cmi.core.score.raw",o),this.scormService.getValue("cmi.core.lesson_status")!=="completed"&&(this.isScormFinished()?this.scormService.setValue("cmi.core.lesson_status","completed"):this.scormService.setValue("cmi.core.lesson_status","failed"))}!this.initService.isScormPackage&&this.signalGameConfig()?.quizConfigCrm?.isEnabled?this.initService.navigateToRoute(G.endGameCrm).then():this.initService.navigateToRoute(G.endGame).then()}getDistance(e,i){let o=i.x-e.x,r=i.y-e.y;return Math.sqrt(o*o+r*r)}getRotationRadianAngle(e,i){let o=i.x-e.x,r=i.y-e.y;return Math.atan2(r,o)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})()}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var we=(()=>{class n{constructor(){this.images=[],this.addImageEmitter=new Z}addImage(e,i){let o=this.getImage(e);o&&this.removeImage(e),o=new Image,o.id=e,typeof i=="string"?o.src=i:i instanceof Blob&&(o.src=URL.createObjectURL(i)),this.images.push(o),this.addImageEmitter.emit(e)}getImage(e){for(let i of this.images)if(i.id===e)return i;return null}removeImage(e){let i=this.getImage(e);i&&this.images.includes(i)&&this.images.splice(this.images.indexOf(i),1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function i3(n,t){if(n&1&&D(0,"img",2),n&2){let e=y();I("src",e.signalLogoImageUrl(),oi)}}var fh=(()=>{class n{constructor(){this.gameService=p(ye),this.imageLoadService=p(we),this.signalIsShowingLogo=w(!1),this.signalLogoImageUrl=w("none"),this.addImageSubscription=null,this.addImageSubscription=this.imageLoadService.addImageEmitter.subscribe(e=>{e==="companyLogoImage"&&this.getImages()})}ngAfterViewInit(){this.getImages(),this.signalIsShowingLogo.set(!0)}ngOnDestroy(){this.addImageSubscription&&(this.addImageSubscription.unsubscribe(),this.addImageSubscription=null)}getImages(){let e=this.imageLoadService.getImage("companyLogoImage");e&&this.signalLogoImageUrl.set(e.src)}onClickLogo(){let e;this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().urlCompany?e=this.gameService.signalGameConfig().urlCompany:e="https://www.r-o-y.de",window.open(e,"_blank")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-title"]],standalone:!1,decls:3,vars:3,consts:[[1,"logo-container"],["type","button",1,"btn","btn-logo","image-container",3,"click"],["alt","Logo","width","702","height","274",1,"logo",3,"src"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"button",1),N("click",function(){return o.onClickLogo()}),P(2,i3,1,1,"img",2),v()()),i&2&&(se("visible",o.signalIsShowingLogo()),f(2),k(o.signalLogoImageUrl()!=="none"?2:-1))},styles:[".game-title[_ngcontent-%COMP%]{color:#7f3a22}.logo-container[_ngcontent-%COMP%]{position:relative;opacity:0;transition:opacity .3s}.logo-container.visible[_ngcontent-%COMP%]{opacity:1}.logo-container[_ngcontent-%COMP%]   .btn-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:0;padding:0}.logo-container[_ngcontent-%COMP%]   .btn-logo[_ngcontent-%COMP%]:hover{opacity:.7}.logo-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{max-width:460px;max-height:380px;width:100%;height:auto}.logo-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}"]})}}return n})();function o3(n,t){if(n&1){let e=ne();C(0,"button",1),N("click",function(){O(e);let o=y();return R(o.onClickToggleFullscreen())}),C(1,"span",2),D(2,"span",3),v()()}if(n&2){let e=y();x("top",e.top)("bottom",e.bottom)("left",e.left)("right",e.right)("background-image",e.imageBackgroundUrl)("border-radius",e.borderRadiusPx,"px"),se("ready",e.signalButtonFullscreenUrl()!=="none"),I("disabled",e.disabled),f(),x("background-color",e.backgroundColor)("border-radius",e.borderRadiusPx,"px")("border-width",e.borderWidthPx,"px")("border-color",e.borderColor),f(),x("background-color",e.signalButtonFullscreenUrl()!=="none"?e.color:null)("border-radius",e.borderRadiusPx,"px")("mask-image",e.signalButtonFullscreenUrl())}}var xo=(()=>{class n{constructor(){this.imageBackgroundUrl="none",this.imageFullscreenOnUrl="none",this.imageFullscreenOffUrl="none",this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.color="#ffffff",this.backgroundColor="#ffffff4d",this.borderRadiusPx=void 0,this.borderWidthPx=void 0,this.borderColor=void 0,this.disabled=!1,this.signalButtonFullscreenUrl=w("none"),this.document=document}ngOnChanges(e){("imageFullscreenOnUrl"in e||"imageFullscreenOffUrl"in e)&&this.updateImage()}initImages(e,i){this.imageFullscreenOnUrl=e,this.imageFullscreenOffUrl=i,this.updateImage()}onClickToggleFullscreen(){vo.toggleFullscreen().then(()=>{this.updateImage()})}updateImage(){let e;document.fullscreenElement?e=this.imageFullscreenOffUrl:e=this.imageFullscreenOnUrl,e!=="none"&&this.signalButtonFullscreenUrl.set(`url('${e}')`)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-button-fullscreen"]],inputs:{imageBackgroundUrl:"imageBackgroundUrl",imageFullscreenOnUrl:"imageFullscreenOnUrl",imageFullscreenOffUrl:"imageFullscreenOffUrl",top:"top",bottom:"bottom",left:"left",right:"right",color:"color",backgroundColor:"backgroundColor",borderRadiusPx:"borderRadiusPx",borderWidthPx:"borderWidthPx",borderColor:"borderColor",disabled:"disabled"},standalone:!1,features:[Pe],decls:1,vars:1,consts:[["type","button",1,"btn","btn-fullscreen",3,"top","bottom","left","right","disabled","ready","background-image","border-radius"],["type","button",1,"btn","btn-fullscreen",3,"click","disabled"],[1,"front"],[1,"img-icon"]],template:function(i,o){i&1&&P(0,o3,3,29,"button",0),i&2&&k(o.document.fullscreenEnabled?0:-1)},styles:[".btn[_ngcontent-%COMP%]{border:none;padding:2px 5px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus:hover{border-style:solid;border-width:0;opacity:.7}.btn[_ngcontent-%COMP%]{pointer-events:auto;perspective:inherit;transform-style:preserve-3d}.btn.btn-fullscreen[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;padding:0;line-height:0;z-index:10;border-radius:0;background-position:center;background-repeat:no-repeat;background-image:none;background-size:cover;width:76px;height:76px}.btn.btn-fullscreen[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;background-color:transparent;border-style:solid;border-width:0;transition:transform 75ms ease-in-out;transform:translate3d(-4px,2px,4px)}.btn.btn-fullscreen[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain}.btn.btn-fullscreen[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateZ(0)}.btn.btn-fullscreen[_ngcontent-%COMP%]:hover{opacity:.7}.btn.btn-fullscreen.ready[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{background-color:#fff}"]})}}return n})();var To=(()=>{class n{constructor(){this.soundService=p(Ce),this.imageBackgroundUrl="none",this.imageSoundOnUrl="none",this.imageSoundOffUrl="none",this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.color="#ffffff",this.backgroundColor="#ffffff4d",this.borderRadiusPx=void 0,this.borderWidthPx=void 0,this.borderColor=void 0,this.disabled=!1,this.signalButtonSoundUrl=w("none"),this.document=document}ngOnChanges(e){("imageSoundOnUrl"in e||"imageSoundOffUrl"in e)&&this.updateImage()}initImages(e,i){this.imageSoundOnUrl=e,this.imageSoundOffUrl=i,this.updateImage()}onClickToggleSound(){this.soundService.toggleIsMuted(),this.updateImage()}updateImage(){let e;this.soundService.isMuted?e=this.imageSoundOffUrl:e=this.imageSoundOnUrl,e!=="none"&&this.signalButtonSoundUrl.set(`url('${e}')`)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-button-sound-on-off"]],inputs:{imageBackgroundUrl:"imageBackgroundUrl",imageSoundOnUrl:"imageSoundOnUrl",imageSoundOffUrl:"imageSoundOffUrl",top:"top",bottom:"bottom",left:"left",right:"right",color:"color",backgroundColor:"backgroundColor",borderRadiusPx:"borderRadiusPx",borderWidthPx:"borderWidthPx",borderColor:"borderColor",disabled:"disabled"},standalone:!1,features:[Pe],decls:3,vars:29,consts:[["type","button",1,"btn","btn-sound-on-off",3,"click","disabled"],[1,"front"],[1,"img-icon"]],template:function(i,o){i&1&&(C(0,"button",0),N("click",function(){return o.onClickToggleSound()}),C(1,"span",1),D(2,"span",2),v()()),i&2&&(x("top",o.top)("bottom",o.bottom)("left",o.left)("right",o.right)("background-image",o.imageBackgroundUrl)("border-radius",o.borderRadiusPx,"px"),se("ready",o.signalButtonSoundUrl()!=="none"),I("disabled",o.disabled),f(),x("background-color",o.backgroundColor)("border-radius",o.borderRadiusPx,"px")("border-width",o.borderWidthPx,"px")("border-color",o.borderColor),f(),x("background-color",o.signalButtonSoundUrl()!=="none"?o.color:null)("border-radius",o.borderRadiusPx,"px")("mask-image",o.signalButtonSoundUrl()))},styles:[".btn[_ngcontent-%COMP%]{border:none;padding:2px 5px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus:hover{border-style:solid;border-width:0;opacity:.7}.btn[_ngcontent-%COMP%]{pointer-events:auto;perspective:inherit;transform-style:preserve-3d}.btn.btn-sound-on-off[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;padding:0;line-height:0;z-index:10;border-radius:0;background-position:center;background-repeat:no-repeat;background-image:none;background-size:cover;width:76px;height:76px}.btn.btn-sound-on-off[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;background-color:transparent;border-style:solid;border-width:0;transition:transform 75ms ease-in-out;transform:translate3d(-4px,2px,4px)}.btn.btn-sound-on-off[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain}.btn.btn-sound-on-off[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateZ(0)}.btn.btn-sound-on-off[_ngcontent-%COMP%]:hover{opacity:.7}.btn.btn-sound-on-off.ready[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{background-color:#fff}"]})}}return n})();var Do=(()=>{class n{constructor(){this.el=p(Dt),this.renderer=p(Mi),this.heightPx=100,this.maxFontSize=32,this.minFontSize=16}ngAfterViewInit(){this.resizeText();for(let e=100;e<=300;e+=100)K.setTimeout(()=>{let i=this.el.nativeElement;this.renderer.setStyle(i,"height",this.heightPx+"px"),this.resizeText()},e)}ngOnChanges(e){if("heightPx"in e||"maxFontSize"in e||"minFontSize"in e){let i=this.el.nativeElement;this.renderer.setStyle(i,"height",this.heightPx+"px"),this.resizeText()}}onResize(){this.resizeText()}resizeText(){let e=this.el.nativeElement,i=e.clientWidth,o=e.clientHeight,r=this.maxFontSize;for(;r>=this.minFontSize&&(this.renderer.setStyle(e,"font-size",`${r}px`),!(e.scrollHeight<=o&&e.scrollWidth<=i));)r--}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["","appAutoFitFont",""]],hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{heightPx:"heightPx",maxFontSize:"maxFontSize",minFontSize:"minFontSize"},standalone:!1,features:[Pe]})}}return n})();var Xi=class n{static unEscape(t){return t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&quot;/g,'"'),t=t.replace(/&#39;/g,"'"),t=t.replace(/&amp;/g,"&"),t}static decodeHtmlCharCodes(t){return t.replace(/(&#(\d+);)/g,function(e,i,o){return String.fromCharCode(o)})}static getStringFromJson(t,e=null){let i="",o;for(let r in t)t.hasOwnProperty(r)&&(o=t[r],typeof o=="object"&&(Array.isArray(o)?o="<br>"+n.getTableStringByJsonArray(o):o="<br>"+n.getStringFromJson(o,"--- ")),i+=e||"",i+="<strong>"+r+": </strong>",i+='<span class="text-break">'+o+"</span><br>");return i}static getTableStringByJsonArray(t){let e="";if(t.length===0)return e;e='<div class="scroll-view">',e+='<table class="table table-striped text-nowrap"><thead><tr>';let i=t[0];if(!!i[0]){e+="<tbody>";for(let r of t)e+="<tr><td>"+r+"</td></tr>"}else{for(let r in i)i.hasOwnProperty(r)&&(e+="<th>"+r+"</th>");e+="</tr></thead><tbody>";for(let r of t){e+="<tr>";for(let s in r)r.hasOwnProperty(s)&&(e+="<td>"+r[s]+"</td>");e+="</tr>"}}return e+="</tbody></table></div>",e}static copyStringInsideTempMemory(t){let e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}static getRandomString(t){let e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=i.length;for(let r=0;r<t;r++)e+=i.charAt(Math.floor(Math.random()*o));return e}static getBeautifiedStringFromEnumKey(t,e){if(Array.isArray(t))return t.map(i=>{if(!e[i])return"";let o=e[i].toString().split(/(?=[A-Z])/).join(" ").toLowerCase();return o.charAt(0).toUpperCase()+o.slice(1)}).join(", ");{let i=e[t].toString().split(/(?=[A-Z])/).join(" ").toLowerCase();return i.charAt(0).toUpperCase()+i.slice(1)}}static addLeadingZeros(t,e){let i=t.toString();for(;i.length<e;)i="0"+i;return i}};var ge=(()=>{class n{constructor(){this.nTranslateService=p(Fe),this.changeDetectorRef=p(Ve),this.domSanitizer=p(Gc),this.value="",this.lastKey=null,this.lastLocale=null,this.lastParseParams=null,this.onTranslationChange=null}transform(e,i=null,o=null,r=!1){let s=!!o;return o||(o=this.nTranslateService.currentLocale),this.value!==this.lastKey&&this.lastKey===e&&this.lastLocale===o&&this.areParseParamsEqual(this.lastParseParams,i)?this.getCleanString(i,r):(this.lastKey=e,this.lastLocale=o,this.onTranslationChange||(this.onTranslationChange=this.nTranslateService.onTranslationChange.subscribe(()=>{this.lastKey=null,this.changeDetectorRef.detectChanges()})),s&&!this.nTranslateService.areTranslationsAvailable(o)?(this.lastLocale=null,this.nTranslateService.loadTranslation(o).then()):this.value=this.nTranslateService.instant(e,i,o),this.getCleanString(i,r))}ngOnDestroy(){this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=null)}areParseParamsEqual(e,i){if(e===i)return!0;if(!e||!i)return!1;let o=Object.keys(e),r=Object.keys(i);return o.length!==r.length?!1:o.every(s=>e[s]===i[s])}getCleanString(e,i){if(i)return this.domSanitizer.bypassSecurityTrustHtml(this.nTranslateService.getParsedResult(this.value,e));{let o=this.domSanitizer.sanitize(ii.HTML,this.nTranslateService.getParsedResult(this.value,e));return Xi.decodeHtmlCharCodes(o)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=xi({name:"nativeTranslate",type:n,pure:!1,standalone:!1})}}return n})();var PD=(()=>{class n{transform(e){return e?e.replace(/(\r\n|\r|\n)/g,"<br>"):""}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=xi({name:"nlToBr",type:n,pure:!0,standalone:!1})}}return n})();var kD=(()=>{class n{constructor(){this.sanitizer=p(Gc)}transform(e){return e?this.sanitizer.bypassSecurityTrustHtml(e):""}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=xi({name:"safeHtml",type:n,pure:!0,standalone:!1})}}return n})();var Rt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze]})}}return n})();var OD=(()=>{class n{constructor(){this.el=p(Dt),this.focus=!0}set autofocus(e){this.focus=e}ngOnInit(){this.focus&&window.setTimeout(()=>{this.el.nativeElement.focus()},0)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["","appAutofocus",""]],inputs:{autofocus:"autofocus"},standalone:!1})}}return n})();var gh=(()=>{class n{constructor(){this.elementRef=p(Dt),this.isTouchDown=!1}onTouchDown(e){this.isTouchDown=!0,this.updateClass()}onTouchUp(e){this.isTouchDown=!1,this.updateClass()}updateClass(){this.isTouchDown?this.elementRef.nativeElement.classList.add(this.downClass):this.elementRef.nativeElement.classList.remove(this.downClass)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["","appDownClass",""]],hostBindings:function(i,o){i&1&&N("mousedown",function(s){return o.onTouchDown(s)})("touchstart",function(s){return o.onTouchDown(s)})("mouseup",function(s){return o.onTouchUp(s)})("touchend",function(s){return o.onTouchUp(s)})("mouseleave",function(s){return o.onTouchUp(s)})("mouseout",function(s){return o.onTouchUp(s)})("touchcancel",function(s){return o.onTouchUp(s)})("touchmove",function(s){return o.onTouchUp(s)})},inputs:{downClass:[0,"appDownClass","downClass"]},standalone:!1})}}return n})();var Br=(()=>{class n{constructor(){this.elementRef=p(Dt),this.fromClass=null,this.timeout=1e3,this.startCallback=null,this.timeoutSubscription=null}ngAfterContentInit(){this.elementRef.nativeElement.classList.add(this.fromClass),this.timeoutSubscription=K.setTimeout(()=>{this.fromClass&&this.elementRef.nativeElement.classList.remove(this.fromClass),this.elementRef.nativeElement.classList.add(this.toClass),this.startCallback?.()},this.timeout)}ngOnDestroy(){this.timeoutSubscription&&(this.timeoutSubscription.unsubscribe(),this.timeoutSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ge({type:n,selectors:[["","appTimeoutClass",""]],inputs:{toClass:[0,"appTimeoutClass","toClass"],fromClass:"fromClass",timeout:"timeout",startCallback:"startCallback"},standalone:!1})}}return n})();var gi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze]})}}return n})();var At=class n{static getRGBAColorFromHexColor(t,e=1,i=1){let o=t.replace("#",""),r,s,a,l=1;return o.length===6?(r=parseInt(o.substring(0,2),16),s=parseInt(o.substring(2,4),16),a=parseInt(o.substring(4,6),16)):o.length===8?(r=parseInt(o.substring(0,2),16),s=parseInt(o.substring(2,4),16),a=parseInt(o.substring(4,6),16),l=parseInt(o.substring(6,8),16)/255):o.length===3?(r=parseInt(o.charAt(0)+o.charAt(0),16),s=parseInt(o.charAt(1)+o.charAt(1),16),a=parseInt(o.charAt(2)+o.charAt(2),16)):(r=s=a=0,l=1),r*=i,s*=i,a*=i,l*=e,`rgba(${r}, ${s}, ${a}, ${l})`}static getInTransparentColorFromColor(t){if(t.indexOf("rgba")===-1)return t;let e=t.split(","),i=e[0].replace("rgba(",""),o=e[1],r=e[2];return"rgb("+i+","+o+","+r+")"}static getRGBAPartsOfColor(t){let e=0,i=0,o=0,r=1;if(t.startsWith("#")&&(t=n.getRGBAColorFromHexColor(t)),t.startsWith("rgb")){r=t.startsWith("rgba")?-1:1;let s=t.replace(/rgba?\(/,"").replace(/\)/,"").split(",").map(a=>a.trim());e=parseInt(s[0],10),i=parseInt(s[1],10),o=parseInt(s[2],10),r===-1&&(r=parseInt(s[3],10))}return{r:e,g:i,b:o,a:r}}};var l3=["*"];function c3(n,t){if(n&1&&D(0,"span",3),n&2){let e=y();x("box-shadow",e.signalBoxShadow())("border-radius",e.btnRadius?e.btnRadius:e.configBtn?e.configBtn.radius+"px":void 0)("animation-duration",e.configBtn?e.configBtn.glowDuration:e.AppConfig.quizGameDefaultButtonGlowDuration,"s")}}var Ee=(()=>{class n{constructor(){this.configBtn=null,this.btnType="button",this.backgroundImageUrl="none",this.btnWidth="auto",this.btnHeight="auto",this.btnRadius=null,this.btnContentWidth="100%",this.btnContentHeight="auto",this.btnContentPadding="0 0",this.btnContentFontSize="1em",this.btnDisabled=!1,this.btnPointerEventsNone=!1,this.btnTouchDownClass=void 0,this.clickButton=new Z,this.signalBoxShadow=w("none"),this.AppConfig=g}getBoxShadowWithColor(e,i){let o=l=>`${l/10*e}px`,{r,g:s,b:a}=At.getRGBAPartsOfColor(i);return`
    0 -${o(10)} ${o(20)} ${o(20)} rgba(${r}, ${s}, ${a}, ${.25}) inset,
    0 -${o(5)} ${o(15)} ${o(10)} rgba(${r}, ${s}, ${a}, ${.31}) inset,
    0 -${o(2)} ${o(5)} rgba(${r}, ${s}, ${a}, ${.5}) inset,
    0 -${o(3)} ${o(2)} rgba(${r}, ${s}, ${a}, ${.73}) inset,
    0 ${o(2)} 0px rgba(${r}, ${s}, ${a}, 1),
    0 ${o(2)} ${o(3)} rgba(${r}, ${s}, ${a}, 1),
    0 ${o(5)} ${o(5)} rgba(${r}, ${s}, ${a}, ${.56}),
    0 ${o(10)} ${o(15)} rgba(${r}, ${s}, ${a}, ${.38}),
    0 ${o(10)} ${o(20)} ${o(20)} rgba(${r}, ${s}, ${a}, ${.25})
  `}ngOnChanges(e){e.configBtn&&this.updateBoxShadow()}onResize(){this.updateBoxShadow()}updateBoxShadow(){this.signalBoxShadow.set(this.getBoxShadowWithColor(this.configBtn?.glowRadius??1,this.configBtn?.glowColor??"#ffffffaa"))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-base-button"]],hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{configBtn:"configBtn",btnType:"btnType",backgroundImageUrl:"backgroundImageUrl",btnWidth:"btnWidth",btnHeight:"btnHeight",btnRadius:"btnRadius",btnContentWidth:"btnContentWidth",btnContentHeight:"btnContentHeight",btnContentPadding:"btnContentPadding",btnContentFontSize:"btnContentFontSize",btnDisabled:"btnDisabled",btnPointerEventsNone:"btnPointerEventsNone",btnTouchDownClass:"btnTouchDownClass"},outputs:{clickButton:"clickButton"},features:[Pe],ngContentSelectors:l3,decls:4,vars:32,consts:[[1,"btn","pushable",3,"click","type","disabled","appDownClass"],[1,"border-ring",3,"box-shadow","border-radius","animation-duration"],[1,"front"],[1,"border-ring"]],template:function(i,o){i&1&&(Tc(),C(0,"button",0),N("click",function(){return o.clickButton.emit()}),P(1,c3,1,6,"span",1),C(2,"span",2),Dc(3),v()()),i&2&&(x("width",o.btnWidth)("height",o.btnHeight)("border-radius",o.btnRadius?o.btnRadius:o.configBtn?o.configBtn.radius+"px":void 0)("pointer-events",o.btnPointerEventsNone?"none":"auto"),I("type",o.btnType)("disabled",o.btnDisabled)("appDownClass",o.btnPointerEventsNone?void 0:o.btnTouchDownClass),f(),k(((o.configBtn==null?null:o.configBtn.glowDuration)??0)>0?1:-1),f(),x("width",o.btnContentWidth)("height",o.btnContentHeight)("padding",o.btnContentPadding)("font-size",o.btnContentFontSize)("color",o.configBtn==null?null:o.configBtn.fontColor)("background-color",o.configBtn==null?null:o.configBtn.colorBg)("border-radius",o.btnRadius?o.btnRadius:o.configBtn?o.configBtn.radius+"px":void 0)("border-width",o.configBtn==null?null:o.configBtn.border,"px")("border-color",o.configBtn==null?null:o.configBtn.borderColor)("background-image",o.backgroundImageUrl))},dependencies:[Rt,gi,gh],styles:[".pushable[_ngcontent-%COMP%]{border:none;padding:0;cursor:pointer;outline-offset:4px;border-radius:0;background-repeat:no-repeat;background-position:center;background-size:cover}.pushable[_ngcontent-%COMP%]:hover, .pushable[_ngcontent-%COMP%]:active, .pushable[_ngcontent-%COMP%]:focus:hover{border-style:solid;border-width:0;opacity:.7}.pushable[_ngcontent-%COMP%]{pointer-events:auto;perspective:inherit;transform-style:preserve-3d}.pushable[_ngcontent-%COMP%]   .border-ring[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:0;top:0;width:100%;height:100%;border-bottom:0 solid rgba(255,255,255,.0196078431);box-shadow:0 -10px 20px 20px #ffffff40 inset,0 -5px 15px 10px #ffffff50 inset,0 -2px 5px #ffffff80 inset,0 -3px 2px #fffb inset,0 2px #fff,0 2px 3px #fff,0 5px 5px #ffffff90,0 10px 15px #ffffff60,0 10px 20px 20px #ffffff40;filter:blur(3px);animation:2s _ngcontent-%COMP%_rotate linear infinite}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.pushable[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{border-radius:0;display:block;color:#fff;width:100%;height:100%;border-style:solid;border-width:0;line-height:1.5;transition:transform 75ms ease-in-out;transform:translate3d(-4px,2px,4px);background-color:#d4d4d442;background-repeat:no-repeat;background-position:center;background-size:cover}.pushable[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateZ(0)}"]})}}return n})();var ml=(()=>{class n{constructor(){this.globalGameService=p(ye),this.initService=p(de),this.imageLoadService=p(we),this.soundService=p(Ce),this.nativeTranslateService=p(Fe),this.cancelDialog=new Z,this.signalBtnCloseImageUrl=w("none"),this.signalTitle=w(""),this.signalContent=w("")}ngOnInit(){let e=this.imageLoadService.getImage("btnClose");e&&this.signalBtnCloseImageUrl.set(`url('${e.src}')`),this.type==="crm-info"?(this.signalTitle.set(this.nativeTranslateService.instant("what-this-data-is-for")),this.signalContent.set(this.nativeTranslateService.instant("collect-information-text"))):(this.signalTitle.set(this.nativeTranslateService.instant(this.type)),this.signalContent.set(this.nativeTranslateService.instant(this.type+"-text")))}onClickClose(e){this.soundService.playSound(V.click,!0),this.cancelDialog.emit(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-legal"]],inputs:{type:"type"},outputs:{cancelDialog:"cancelDialog"},decls:16,vars:38,consts:[[1,"dialog-container","dialog-multiplier-solved"],[1,"dialog","scrollbar"],[1,"btn-close-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnHeight","btnContentWidth","btnContentHeight","btnContentPadding"],["aria-hidden","true",1,"btn-close-icon",3,"title"],[1,"dialog-header"],[1,"dialog-title","mx-auto","my-auto"],[1,"title"],[1,"dialog-body","font-secondary",3,"innerHTML"],[1,"dialog-footer","justify-content-evenly"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnContentPadding","btnContentFontSize"]],template:function(i,o){if(i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-base-button",3),N("clickButton",function(){return o.onClickClose(!1)}),D(4,"span",4),E(5,"nativeTranslate"),v()(),C(6,"div",5)(7,"div",6)(8,"div",7),M(9),v()()(),D(10,"div",8),E(11,"nlToBr"),C(12,"div",9)(13,"app-base-button",10),N("clickButton",function(){return o.onClickClose(!0)}),M(14),E(15,"nativeTranslate"),v()()()()),i&2){let r,s,a,l,c,u,d,h,m;f(),x("background-color",(r=o.globalGameService.signalGameConfig())==null?null:r.dialogColorBg)("color",(s=o.globalGameService.signalGameConfig())==null?null:s.fontColorDialog)("border-radius",(a=o.globalGameService.signalGameConfig())==null?null:a.dialogRadius,"px")("border-width",(l=o.globalGameService.signalGameConfig())==null?null:l.dialogBorder,"px")("border-color",(c=o.globalGameService.signalGameConfig())==null?null:c.dialogBorderColor),f(2),I("configBtn",((u=o.globalGameService.signalGameConfig())==null?null:u.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","76px")("btnHeight","76px")("btnContentWidth","100%")("btnContentHeight","100%")("btnContentPadding","0"),f(),x("mask-image",o.signalBtnCloseImageUrl())("background-color",(d=o.globalGameService.signalGameConfig())==null?null:d.fontColorIconButton)("border-radius",(h=o.globalGameService.signalGameConfig())==null?null:h.iconButtonRadius,"px"),I("title",A(5,32,"close")),f(5),ae(o.signalTitle()),f(),I("innerHTML",A(11,34,o.signalContent()),Le),f(3),I("configBtn",((m=o.globalGameService.signalGameConfig())==null?null:m.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentPadding","15px 10px")("btnContentFontSize","56px"),f(),z("",A(15,36,"close")," ")}},dependencies:[Rt,Ee,ge,PD],styles:[".dialog-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;pointer-events:auto;z-index:1;background-color:#0000004d;will-change:scale}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:relative;width:90%;background-color:#000c;padding:45px 65px;margin:0 auto;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center;overflow-y:auto}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;font-size:1.5em}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{overflow-wrap:break-word;font-size:36px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{padding:30px 40px}"]})}}return n})();var u3=["*"];function d3(n,t){if(n&1&&D(0,"span",3),n&2){let e=y();x("box-shadow",e.signalBoxShadow())("border-radius",e.btnRadius?e.btnRadius:e.configBtn?e.configBtn.radius+"px":void 0)("animation-duration",e.configBtn?e.configBtn.glowDuration:e.AppConfig.quizGameDefaultButtonStartGlowDuration,"s")}}var hh=(()=>{class n{constructor(){this.configBtn=null,this.btnType="button",this.backgroundImageUrl="none",this.btnWidth="auto",this.btnHeight="auto",this.btnRadius=null,this.btnContentWidth="100%",this.btnContentHeight="auto",this.btnContentPadding="0 0",this.btnContentFontSize="1em",this.btnDisabled=!1,this.btnPointerEventsNone=!1,this.btnTouchDownClass=void 0,this.clickButton=new Z,this.signalBoxShadow=w("none"),this.AppConfig=g}getBoxShadowWithColor(e,i){let o=l=>`${l/10*e}px`,{r,g:s,b:a}=At.getRGBAPartsOfColor(i);return`
    0 -${o(10)} ${o(20)} ${o(20)} rgba(${r}, ${s}, ${a}, ${.25}) inset,
    0 -${o(5)} ${o(15)} ${o(10)} rgba(${r}, ${s}, ${a}, ${.31}) inset,
    0 -${o(2)} ${o(5)} rgba(${r}, ${s}, ${a}, ${.5}) inset,
    0 -${o(3)} ${o(2)} rgba(${r}, ${s}, ${a}, ${.73}) inset,
    0 ${o(2)} 0px rgba(${r}, ${s}, ${a}, 1),
    0 ${o(2)} ${o(3)} rgba(${r}, ${s}, ${a}, 1),
    0 ${o(5)} ${o(5)} rgba(${r}, ${s}, ${a}, ${.56}),
    0 ${o(10)} ${o(15)} rgba(${r}, ${s}, ${a}, ${.38}),
    0 ${o(10)} ${o(20)} ${o(20)} rgba(${r}, ${s}, ${a}, ${.25})
  `}ngOnChanges(e){e.configBtn&&this.updateBoxShadow()}onResize(){this.updateBoxShadow()}updateBoxShadow(){this.signalBoxShadow.set(this.getBoxShadowWithColor(this.configBtn?.glowRadius??1,this.configBtn?.glowColor??"#ffffffaa"))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-button-start"]],hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{configBtn:"configBtn",btnType:"btnType",backgroundImageUrl:"backgroundImageUrl",btnWidth:"btnWidth",btnHeight:"btnHeight",btnRadius:"btnRadius",btnContentWidth:"btnContentWidth",btnContentHeight:"btnContentHeight",btnContentPadding:"btnContentPadding",btnContentFontSize:"btnContentFontSize",btnDisabled:"btnDisabled",btnPointerEventsNone:"btnPointerEventsNone",btnTouchDownClass:"btnTouchDownClass"},outputs:{clickButton:"clickButton"},features:[Pe],ngContentSelectors:u3,decls:4,vars:32,consts:[[1,"btn","pushable",3,"click","type","disabled","appDownClass"],[1,"border-ring",3,"box-shadow","border-radius","animation-duration"],[1,"front"],[1,"border-ring"]],template:function(i,o){i&1&&(Tc(),C(0,"button",0),N("click",function(){return o.clickButton.emit()}),P(1,d3,1,6,"span",1),C(2,"span",2),Dc(3),v()()),i&2&&(x("width",o.btnWidth)("height",o.btnHeight)("border-radius",o.btnRadius?o.btnRadius:o.configBtn?o.configBtn.radius+"px":void 0)("pointer-events",o.btnPointerEventsNone?"none":"auto"),I("type",o.btnType)("disabled",o.btnDisabled)("appDownClass",o.btnPointerEventsNone?void 0:o.btnTouchDownClass),f(),k(!o.configBtn||o.configBtn.glowDuration>0?1:-1),f(),x("width",o.btnContentWidth)("height",o.btnContentHeight)("padding",o.btnContentPadding)("font-size",o.btnContentFontSize)("color",o.configBtn==null?null:o.configBtn.fontColor)("background-color",o.configBtn==null?null:o.configBtn.colorBg)("border-radius",o.btnRadius?o.btnRadius:o.configBtn?o.configBtn.radius+"px":void 0)("border-width",o.configBtn==null?null:o.configBtn.border,"px")("border-color",o.configBtn==null?null:o.configBtn.borderColor)("background-image",o.backgroundImageUrl))},dependencies:[Rt,gi,gh],styles:[".pushable[_ngcontent-%COMP%]{border:none;padding:0;cursor:pointer;outline-offset:4px;border-radius:0;background-repeat:no-repeat;background-position:center;background-size:cover}.pushable[_ngcontent-%COMP%]:hover, .pushable[_ngcontent-%COMP%]:active, .pushable[_ngcontent-%COMP%]:focus:hover{border-style:solid;border-width:0;opacity:.7}.pushable[_ngcontent-%COMP%]{pointer-events:auto;perspective:inherit;transform-style:preserve-3d}.pushable[_ngcontent-%COMP%]   .border-ring[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:0;top:0;width:100%;height:100%;border-bottom:0 solid rgba(255,255,255,.0196078431);box-shadow:0 -10px 20px 20px #ffffff40 inset,0 -5px 15px 10px #ffffff50 inset,0 -2px 5px #ffffff80 inset,0 -3px 2px #fffb inset,0 2px #fff,0 2px 3px #fff,0 5px 5px #ffffff90,0 10px 15px #ffffff60,0 10px 20px 20px #ffffff40;filter:blur(3px);animation:2s _ngcontent-%COMP%_rotate linear infinite}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.pushable[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{border-radius:0;display:block;color:#fff;width:100%;height:100%;border-style:solid;border-width:0;line-height:1.5;transition:transform 75ms ease-in-out;transform:translate3d(-4px,2px,4px);background-color:#d4d4d442;background-repeat:no-repeat;background-position:center;background-size:cover}.pushable[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateZ(0)}"]})}}return n})();var g3=["buttonSoundOnOffComponent"],h3=["buttonFullscreenComponent"];function m3(n,t){if(n&1&&(C(0,"div",4),D(1,"img",14),M(2),v()),n&2){let e=y();f(2),z(" ",e.AppModule.initError," ")}}function p3(n,t){if(n&1&&(C(0,"div",17),D(1,"img",18),E(2,"nativeTranslate"),v()),n&2){let e=y(2);Pa(e.gameService.signalGameConfig().titleAni>0?"animation"+e.gameService.signalGameConfig().titleAni:""),x("text-align",e.gameService.signalGameConfig().titleAlignment),f(),I("src",e.gameService.signalGameTitleImage(),oi)("alt",A(2,6,"quiz-name"))}}function C3(n,t){if(n&1&&(D(0,"div",19),E(1,"nativeTranslate"),E(2,"safeHtml")),n&2){let e=y(2);x("color",e.gameService.signalGameConfig().fontColorTitle)("text-align",e.gameService.signalGameConfig().titleAlignment)("line-height",e.gameService.signalGameConfig().titleLineHeight),I("heightPx",390)("maxFontSize",e.gameService.signalGameConfig().titleFontSize)("minFontSize",30)("innerHTML",A(2,12,A(1,10,"quiz-name")),Le)}}function v3(n,t){if(n&1&&P(0,p3,3,8,"div",15)(1,C3,3,14,"div",16),n&2){let e=y();k(e.gameService.signalGameTitleImage()?0:1)}}function y3(n,t){n&1&&(C(0,"div",20),M(1,"ROY"),v(),C(2,"div",21),M(3,"50/50"),v(),C(4,"div",22),M(5,"SPEED QUIZ"),v())}function _3(n,t){if(n&1&&(M(0),E(1,"nativeTranslate"),C(2,"div",23),D(3,"div",24),v()),n&2){let e=y();z(" ",A(1,3,"loading")," "),f(3),x("width",e.initService.signalLoadPercentage(),"%")}}function b3(n,t){if(n&1){let e=ne();D(0,"div",29),C(1,"app-base-button",28),E(2,"async"),N("clickButton",function(){O(e);let o=y(2);return R(o.onClickHighScore())}),M(3),E(4,"nativeTranslate"),v()}if(n&2){let e,i=y(2);f(),I("configBtn",((e=i.gameService.signalGameConfig())==null?null:e.screenTitleBtnDefault)??null)("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnContentWidth","670px")("btnContentPadding","30px 10px")("btnDisabled",A(2,6,i.appBackendConfigService.isLoading$)||i.signalClickedStart()),f(2),z("",A(4,8,"high-score")," ")}}function S3(n,t){if(n&1){let e=ne();C(0,"div",25)(1,"app-button-start",26),E(2,"async"),N("clickButton",function(){O(e);let o=y();return R(o.onClickStart())}),D(3,"span",27),v()(),C(4,"app-base-button",28),E(5,"async"),N("clickButton",function(){O(e);let o=y();return R(o.onClickHowToPLay())}),M(6),E(7,"nativeTranslate"),v(),P(8,b3,5,10)}if(n&2){let e,i,o,r,s,a=y();x("animation-duration",(e=a.gameService.signalGameConfig())==null||e.startBtn==null?null:e.startBtn.pulseDuration,"s"),f(),I("configBtn",((i=a.gameService.signalGameConfig())==null?null:i.startBtn)??null)("backgroundImageUrl",a.initService.signalBtnBackgroundImageUrl())("btnContentWidth","400px")("btnContentHeight","400px")("btnRadius","50%")("btnDisabled",A(2,19,a.appBackendConfigService.isLoading$)||!1),f(2),x("mask-image",a.signalBtnPlayImageUrl())("background-color",(o=a.gameService.signalGameConfig())==null||o.startBtn==null?null:o.startBtn.fontColor),f(),I("configBtn",((r=a.gameService.signalGameConfig())==null?null:r.screenTitleBtnDefault)??null)("backgroundImageUrl",a.initService.signalBtnBackgroundImageUrl())("btnContentWidth","670px")("btnContentPadding","30px 10px")("btnDisabled",A(5,21,a.appBackendConfigService.isLoading$)||a.signalClickedStart()),f(2),z("",A(7,23,"how-to-play")," "),f(2),k(!a.initService.isScormPackage&&(!a.gameService.signalGameConfig()||(s=a.gameService.signalGameConfig())!=null&&s.includesHighscore)?8:-1)}}function w3(n,t){if(n&1){let e=ne();C(0,"button",30),N("click",function(){O(e);let o=y();return R(o.onClickLegalText("imprint"))}),M(1),E(2,"nativeTranslate"),v()}if(n&2){let e,i=y();x("color",(e=i.gameService.signalGameConfig())==null?null:e.fontColorLink),f(),z("",A(2,3,"imprint")," ")}}function M3(n,t){if(n&1){let e=ne();C(0,"button",30),N("click",function(){O(e);let o=y();return R(o.onClickLegalText("privacy-policy"))}),M(1),E(2,"nativeTranslate"),v()}if(n&2){let e,i=y();x("color",(e=i.gameService.signalGameConfig())==null?null:e.fontColorLink),f(),z("",A(2,3,"privacy-policy")," ")}}function x3(n,t){if(n&1){let e=ne();C(0,"div",13),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-legal",31),N("cancelDialog",function(o){O(e);let r=y();return R(r.onClickCloseLegal(o))}),v()()}if(n&2){let e=y();f(),I("type",e.legalTextDialogType())}}var mh=class Jy{get scaleTo(){return(this.gameService.signalGameConfig()?.startBtn?.pulseScale??.95).toString()}constructor(){this.fileLoadService=p(Yi),this.initService=p(de),this.gameService=p(ye),this.soundService=p(Ce),this.appBackendConfigService=p(fT),this.imageLoadService=p(we),this.viewTransitionService=p(zg),this.signalClickedStart=w(!1),this.legalTextDialogType=w(null),this.signalBtnPlayImageUrl=w("none"),this.backgroundSoundTimeoutSubscription=null,this.addImageSubscription=null,this.AppConfig=g,this.AppModule=ph,this.SoundNameEnum=V,this.document=document,this.addImageSubscription=this.imageLoadService.addImageEmitter.subscribe(t=>{(t==="btnPlayImage"||t==="btnSoundOn"||t==="btnSoundOff"||t==="btnFullscreenOn"||t==="btnFullscreenOff")&&this.getImages()})}ngOnInit(){this.soundService.setInitCallback(()=>{K.setTimeout(()=>{this.signalClickedStart()||this.soundService.playBackgroundSound(V.introMusic)},100)}),this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.playBackgroundSound(V.introMusic)},500)}ngAfterViewInit(){this.getImages(),this.viewTransitionService.isEnabled=!0}ngOnDestroy(){this.soundService.unsetInitCallback(),this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.addImageSubscription&&(this.addImageSubscription.unsubscribe(),this.addImageSubscription=null)}onClickStart(){this.signalClickedStart()||(this.soundService.unsetInitCallback(),this.signalClickedStart.set(!0),this.soundService.unsetInitCallback(),this.soundService.playSound(V.click,!0),this.soundService.playSound(V.buttonSelected,!0),this.gameService.init(),this.soundService.fadeOutSound(V.introMusic,1500),this.initService.navigateToRoute(G.gameTopic).then())}onClickHowToPLay(){this.signalClickedStart()||(this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(G.howToPlay).then())}onClickHighScore(){this.signalClickedStart()||(this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(G.highScoreWeekly).then())}onClickLegalText(t){if(this.signalClickedStart())return;this.soundService.playSound(V.click,!0);let e=null;if(t==="imprint"){if(this.gameService.signalGameConfig()?.typeImprint==="url"&&this.gameService.signalGameConfig()?.urlImprint)e=this.gameService.signalGameConfig()?.urlImprint??null;else if(this.gameService.signalGameConfig()?.typeImprint==="text"){this.legalTextDialogType.set("imprint");return}}else if(t==="privacy-policy"){if(this.gameService.signalGameConfig()?.typePrivacyPolicy==="url"&&this.gameService.signalGameConfig()?.urlPrivacyPolicy)e=this.gameService.signalGameConfig()?.urlPrivacyPolicy??null;else if(this.gameService.signalGameConfig()?.typePrivacyPolicy==="text"){this.legalTextDialogType.set("privacy-policy");return}}e&&window.open(e,"_blank")}onClickCloseLegal(t){this.legalTextDialogType.set(null)}getImages(){let t=this.imageLoadService.getImage("btnSoundOn"),e=this.imageLoadService.getImage("btnSoundOff"),i=this.imageLoadService.getImage("btnFullscreenOn"),o=this.imageLoadService.getImage("btnFullscreenOff");t&&e&&i&&o&&(this.buttonFullscreenComponent.initImages(i.src,o.src),this.buttonSoundOnOffComponent.initImages(t.src,e.src));let r=this.imageLoadService.getImage("btnPlayImage");r&&this.signalBtnPlayImageUrl.set(`url('${r.src}')`)}static{this.\u0275fac=function(e){return new(e||Jy)}}static{this.\u0275cmp=W({type:Jy,selectors:[["app-base-page"]],viewQuery:function(e,i){if(e&1&&(ie(g3,5),ie(h3,5)),e&2){let o;ee(o=te())&&(i.buttonSoundOnOffComponent=o.first),ee(o=te())&&(i.buttonFullscreenComponent=o.first)}},hostVars:2,hostBindings:function(e,i){e&2&&x("--button-start-scale-to",i.scaleTo)},standalone:!1,decls:21,vars:25,consts:[["buttonSoundOnOffComponent",""],["buttonFullscreenComponent",""],[1,"content"],[1,"content-container"],[1,"error-container"],[1,"empty-line"],[1,"game-logo"],[1,"button-container"],[1,"company-logo"],[1,"legal-links"],["type","button",1,"btn","btn-link","btn-legal",3,"color"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled","right"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled"],[1,"dialog-animation-container"],["ngSrc","assets/images/icons/error01.png","alt","","height","573","width","573"],[1,"game-logo-image-container",3,"text-align","class"],["appAutoFitFont","",1,"name-qz","special-font",3,"heightPx","maxFontSize","minFontSize","innerHTML","color","text-align","line-height"],[1,"game-logo-image-container"],["height","auto","width","auto","fetchpriority","high",1,"game-logo-image",3,"src","alt"],["appAutoFitFont","",1,"name-qz","special-font",3,"heightPx","maxFontSize","minFontSize","innerHTML"],[1,"name1","special-font"],[1,"name2","special-font"],[1,"name3"],[1,"progress-bar"],[1,"progress"],[1,"button-start-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentHeight","btnRadius","btnDisabled"],[1,"start"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentPadding","btnDisabled"],[1,"row-space"],["type","button",1,"btn","btn-link","btn-legal",3,"click"],[3,"cancelDialog","type"]],template:function(e,i){if(e&1){let o=ne();C(0,"div",2)(1,"div",3),P(2,m3,3,1,"div",4),D(3,"div",5),C(4,"div",6),P(5,v3,2,1)(6,y3,6,0),v()(),C(7,"div",7),P(8,_3,4,5)(9,S3,9,25),v(),C(10,"div",8),E(11,"async"),D(12,"app-game-title"),v(),C(13,"div",9),P(14,w3,3,5,"button",10),P(15,M3,3,5,"button",10),v(),C(16,"app-button-sound-on-off",11,0),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),C(18,"app-button-fullscreen",12,1),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v()(),P(20,x3,2,1,"div",13)}if(e&2){let o,r,s,a,l,c,u,d,h;f(2),k(i.AppModule.initError?2:-1),f(3),k(i.initService.qz||(o=i.gameService.signalGameConfig())!=null&&o.isFtpReady?5:6),f(3),k(i.fileLoadService.signalIsLoading()?8:9),f(2),se("disabled",A(11,23,i.appBackendConfigService.isLoading$)||i.signalClickedStart()),f(4),k((r=i.gameService.signalGameConfig())!=null&&r.typeImprint?14:-1),f(),k((s=i.gameService.signalGameConfig())!=null&&s.typePrivacyPolicy?15:-1),f(),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenTitleBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenTitleBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(a=i.gameService.signalGameConfig())==null?null:a.screenTitleBtnIcon.radius)("borderWidthPx",(l=i.gameService.signalGameConfig())==null?null:l.screenTitleBtnIcon.border)("borderColor",(c=i.gameService.signalGameConfig())==null?null:c.screenTitleBtnIcon.borderColor)("disabled",!1)("right",i.document.fullscreenEnabled?"115px":"20px"),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenTitleBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenTitleBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(u=i.gameService.signalGameConfig())==null?null:u.screenTitleBtnIcon.radius)("borderWidthPx",(d=i.gameService.signalGameConfig())==null?null:d.screenTitleBtnIcon.border)("borderColor",(h=i.gameService.signalGameConfig())==null?null:h.screenTitleBtnIcon.borderColor)("disabled",!1),f(2),k(i.legalTextDialogType()?20:-1)}},dependencies:[fh,G1,xo,To,Do,ml,Ee,hh,ji,ge,kD],styles:[".content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:flex-start;height:100%;padding:4% 2% 0;overflow:hidden}.game-logo-image[_ngcontent-%COMP%]{pointer-events:none;display:none}.legal-links[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:0;width:100%;text-align:left;display:flex;flex-direction:row;align-items:flex-start;justify-content:center;flex-wrap:nowrap}.legal-links[_ngcontent-%COMP%]   .btn-legal[_ngcontent-%COMP%]{padding:0 20px;margin-bottom:9px;font-size:36px;background-color:transparent}.company-logo[_ngcontent-%COMP%]{position:absolute;bottom:90px;left:50%;transform:translate(-50%);width:100%;text-align:center}.company-logo.hidden[_ngcontent-%COMP%]{display:none}.game-logo[_ngcontent-%COMP%]{line-height:1}.game-logo[_ngcontent-%COMP%]   .game-logo-image-container[_ngcontent-%COMP%]{width:100%}.game-logo[_ngcontent-%COMP%]   .game-logo-image-container[_ngcontent-%COMP%]   .game-logo-image[_ngcontent-%COMP%]{display:inline-block;height:100%;max-height:585px;transform-origin:center center}.game-logo[_ngcontent-%COMP%]   .game-logo-image-container.animation1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_sway 5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_sway{0%{transform:translate(0) rotate3d(0,0,1,2deg) scale3d(1.02,1.02,1.02)}to{transform:translate(0) rotate3d(0,0,1,-2deg)}}.game-logo[_ngcontent-%COMP%]   .special-font[_ngcontent-%COMP%]{font-family:Kantumruy Pro,sans-serif}.game-logo[_ngcontent-%COMP%]   .name1[_ngcontent-%COMP%]{color:#1b3848;font-size:158px;font-weight:600;line-height:.75}.game-logo[_ngcontent-%COMP%]   .name-qz[_ngcontent-%COMP%]{display:flex;align-items:normal;flex-direction:column;color:#1b3848;font-size:158px;font-weight:600;line-height:.75}.game-logo[_ngcontent-%COMP%]   .name2[_ngcontent-%COMP%]{color:#1b3848;font-size:226px;font-weight:700;line-height:.9}.game-logo[_ngcontent-%COMP%]   .name3[_ngcontent-%COMP%]{color:#fff;font-size:64px;line-height:1.1}.progress-bar[_ngcontent-%COMP%]{position:relative;width:80%;height:20px;border:2px solid #fff;border-radius:5px}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;height:100%;width:0;transition:width .5s ease-in-out;display:inline-block;border-radius:5px}.error-container[_ngcontent-%COMP%]{position:relative;animation:fade 2s linear infinite;width:100%;padding:30px 0}.error-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;filter:drop-shadow(3px 3px 2px rgba(250,0,0,.7));width:100px;height:auto}.progress-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;margin-bottom:150px}.button-container[_ngcontent-%COMP%]{width:100%;margin-top:100px;padding-bottom:90px;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{pointer-events:auto}.button-container[_ngcontent-%COMP%]   .button-start-container[_ngcontent-%COMP%]{margin-bottom:120px;animation:_ngcontent-%COMP%_pulse 2.5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}to{transform:scale(var(--button-start-scale-to, .95))}}.button-container[_ngcontent-%COMP%]   .button-start-container[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:relative;border-radius:50%;border-style:solid;background-repeat:no-repeat;background-position:center;background-size:cover;background-color:#fff;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain}.button-container[_ngcontent-%COMP%]   .button-start-container[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;height:400px;filter:brightness(.9)}.button-container[_ngcontent-%COMP%]   .row-space[_ngcontent-%COMP%]{margin-top:50px}"],changeDetection:0})}};mh=Kt([nn()],mh);var Ch=class e_{constructor(){this.initService=p(de),this.soundService=p(Ce),this.isDebug=!1}ngOnInit(){}ngOnDestroy(){}onClickBase(){this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(G.base).then()}onClickStartGame(){this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(G.game).then()}static{this.\u0275fac=function(e){return new(e||e_)}}static{this.\u0275cmp=W({type:e_,selectors:[["app-idle-page"]],standalone:!1,decls:9,vars:0,consts:[[1,"content"],[1,"content-container"],[1,"row"],[1,"col-6"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),D(3,"div",3)(4,"div",3),v(),C(5,"button",4),N("click",function(){return i.onClickBase()}),M(6,"Base page"),v(),C(7,"button",4),N("click",function(){return i.onClickStartGame()}),M(8,"Start game"),v()()())},styles:[".team[_ngcontent-%COMP%]{height:250px}.team[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{position:relative;width:100px;height:67px}.team[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{padding:0 10px}.input-buttons[_ngcontent-%COMP%]   .mushroom-button[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100px;height:113px}.input-buttons[_ngcontent-%COMP%]   .mushroom-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100px;height:auto;opacity:0}.input-buttons[_ngcontent-%COMP%]   .mushroom-button[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{opacity:1}.timer-both-buttons[_ngcontent-%COMP%]{position:fixed;z-index:3000;inset:0;background-color:#00000080;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center}"],changeDetection:0})}};Ch=Kt([nn()],Ch);function T3(n,t){if(n&1&&D(0,"div",6),n&2){let e=y();I("innerHTML",e.signalContentText(),Le)}}function D3(n,t){n&1&&(C(0,"h5",10),M(1),E(2,"nativeTranslate"),v(),C(3,"div",11)(4,"p",12),M(5),E(6,"nativeTranslate"),v(),C(7,"p"),M(8),E(9,"nativeTranslate"),v()(),C(10,"h5",10),M(11),E(12,"nativeTranslate"),v(),C(13,"div",11)(14,"p"),M(15),E(16,"nativeTranslate"),v(),C(17,"p"),M(18),E(19,"nativeTranslate"),v(),C(20,"p"),M(21),E(22,"nativeTranslate"),v(),C(23,"p"),M(24),E(25,"nativeTranslate"),v(),C(26,"p",13),M(27),E(28,"nativeTranslate"),v()()),n&2&&(f(),ae(A(2,9,"are-you-ready-title")),f(4),ae(A(6,11,"are-you-ready-description-1")),f(3),ae(A(9,13,"are-you-ready-description-2")),f(3),ae(A(12,15,"how-to-play-title")),f(4),ae(A(16,17,"how-to-play-description-1")),f(3),ae(A(19,19,"how-to-play-description-2")),f(3),ae(A(22,21,"how-to-play-description-3")),f(3),ae(A(25,23,"how-to-play-description-4")),f(3),ae(A(28,25,"how-to-play-description-5")))}var ND=(()=>{class n{constructor(){this.initService=p(de),this.gameService=p(ye),this.imageLoadService=p(we),this.soundService=p(Ce),this.nativeTranslateService=p(Fe),this.signalBtnCloseImageUrl=w("none"),this.signalContentText=w(null),this.backgroundSoundTimeoutSubscription=null}ngOnInit(){let e=this.imageLoadService.getImage("btnClose");e&&this.signalBtnCloseImageUrl.set(`url('${e.src}')`),this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.playBackgroundSound(V.introMusic)},500);let i=this.nativeTranslateService.instant("quiz-name"),o=this.nativeTranslateService.instant("how-to-play-text",{quizName:i});o!=="how-to-play-text"&&this.signalContentText.set(o)}ngOnDestroy(){this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null)}onClickClose(){this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(G.base).then()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-how-to-play-page"]],standalone:!1,decls:15,vars:24,consts:[[1,"content"],[1,"content-container"],[1,"btn-close-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnHeight","btnContentWidth","btnContentHeight","btnContentPadding"],["aria-hidden","true",1,"btn-close-icon",3,"title"],[1,"empty-line"],[3,"innerHTML"],[1,"button-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentPadding"],[1,"logo"],[1,"mb-5"],[1,"",2,"font-size","0.95em"],[2,"margin-bottom","1.25em"],[2,"margin-bottom","150px"]],template:function(i,o){if(i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-base-button",3),N("clickButton",function(){return o.onClickClose()}),D(4,"span",4),E(5,"nativeTranslate"),v()(),D(6,"div",5),P(7,T3,1,1,"div",6)(8,D3,29,27),C(9,"div",7)(10,"app-base-button",8),N("clickButton",function(){return o.onClickClose()}),M(11),E(12,"nativeTranslate"),v()()(),C(13,"div",9),D(14,"app-game-title"),v()()),i&2){let r,s,a,l;f(3),I("configBtn",((r=o.gameService.signalGameConfig())==null?null:r.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","76px")("btnHeight","76px")("btnContentWidth","100%")("btnContentHeight","100%")("btnContentPadding","0"),f(),x("mask-image",o.signalBtnCloseImageUrl())("background-color",(s=o.gameService.signalGameConfig())==null?null:s.fontColorIconButton)("border-radius",(a=o.gameService.signalGameConfig())==null?null:a.iconButtonRadius,"px"),I("title",A(5,20,"close")),f(3),k(o.signalContentText()?7:8),f(3),I("configBtn",((l=o.gameService.signalGameConfig())==null?null:l.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnContentWidth","400px")("btnContentPadding","30px 10px"),f(),z("",A(12,22,"close")," ")}},dependencies:[fh,Ee,ge],styles:[".btn-close-container[_ngcontent-%COMP%]{right:0}.content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:space-between;height:100%;touch-action:pan-y}.content[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:3em}.button-container[_ngcontent-%COMP%]{width:100%;padding-bottom:3em;display:flex;flex-direction:column;align-items:center;justify-content:center}"]})}}return n})();var BD=(()=>{class n extends pt{constructor(){super(...arguments),this.signalUserBackend=w(null),this.clientId="c-tc-24-gcloud",this.clientS="zJSkLxQH9gX2JV",this.auth=btoa(`${this.clientId}:${this.clientS}`),this.header={Authorization:`Basic ${this.auth}`}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})()}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pi=(()=>{class n{constructor(){this.imageLoadService=p(we),this.signalIsRotatingFlyingAni=w(!1),this.frontImageUrl="none",this.backImageUrl="none",this.coinLists=[],this.startX=0,this.startY=0,this.targetX=0,this.targetY=0,this.onShrink=null,this.onComplete=null,this.onInitComplete=new Z,this.onAnimationComplete=new Z}init(e){this.signalIsRotatingFlyingAni.set(e);let i;i=this.imageLoadService.getImage("crabFrontImage"),i&&(this.frontImageUrl=`url('${i.src}')`),i=this.imageLoadService.getImage("crabBackImage"),i&&(this.backImageUrl=`url('${i.src}')`)}start(e,i,o,r,s,a,l){if(this.backImageUrl==="none"&&this.frontImageUrl==="none"){a&&a(),l&&l();return}this.startX=e,this.startY=i,this.targetX=o,this.targetY=r,a&&(this.onShrink=a),l&&(this.onComplete=l);let c=[];for(let u=0;u<s;++u)c.push({index:u,timelinePromise:null,divElement:null});this.coinLists.push(c),this.onInitComplete.emit()}stop(){for(let e of this.coinLists)for(let i of e)i.timelinePromise&&(i.timelinePromise=null),i.divElement&&(qe.killTweensOf(i.divElement),qe.killTweensOf(i.divElement.getElementsByClassName("coin-inner")[0]),i.divElement=null);this.coinLists=[]}callTween(e){let i=0,o=this.coinLists[this.coinLists.length-1],r,s;for(let a of e)r=parseInt(a.dataset.listIndex,10),s=parseInt(a.dataset.index,10),r===this.coinLists.length-1&&(qe.killTweensOf(a),qe.killTweensOf(a.getElementsByClassName("coin-inner")[0]),qe.set(a,{x:this.startX+-10+Math.random()*20,y:this.startY+-10+Math.random()*20,scale:.6}),qe.set(a.getElementsByClassName("coin-inner")[0],{animationDelay:0,animationDuration:Math.random()*1.7+.2,animationDirection:Math.round(Math.random())===1?"normal":"reverse"}),o[i].divElement=a,o[i].timelinePromise=qe.timeline(),o[i].timelinePromise.to(a,{duration:Math.random()*.3+.7,x:this.startX-100+Math.random()*200,y:this.startY-100+Math.random()*200,scale:1,ease:"power1"}).to(a,{duration:2+Math.random()*.3,x:this.targetX-5+Math.random()*10,y:this.targetY-5+Math.random()*10,ease:"power1"}).call(()=>{s=parseInt(a.dataset.index,10),s===0&&this.onShrink&&this.onShrink()}).to(a,{duration:.6+Math.random()*.3,opacity:0,scale:.5,ease:"power1"}).then(()=>{qe.killTweensOf(a),qe.killTweensOf(a.getElementsByClassName("coin-inner")[0]);let l=-1;s=parseInt(a.dataset.index,10);for(let c=0,u=o.length;c<u;++c)if(o[c].index===s){l=c;break}l>=0&&o.splice(l,1),o.length<=0&&(this.coinLists.splice(this.coinLists.indexOf(o),1),this.onComplete&&this.onComplete(),this.coinLists.length<=0&&this.onAnimationComplete.emit())}),i++)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yu=class{constructor(t,e,i,o,r,s,a,l,c,u,d,h,m,b){this.round=t,this.score=e,this.remainingTimeScore=i,this.comboScore=o,this.totalScore=r,this.remainingTime=s,this.isLeftCorrect=a,this.isSelectedLeft=l,this.isSelectedCorrect=c,this.categoryLocalisationKey=u,this.questionLocalisationKey=d,this.feedbackLocalisationKey=h,this.answerLeftLocalisationKey=m,this.answerRightLocalisationKey=b,this.isFeedbackVisible=!1}};var Fr=(()=>{class n{constructor(){this.eventEmitter=new Z}restart(){this.eventEmitter.emit("restart")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hi=class{constructor(t){this.loopCallback=t,this.signalRuntime=w(0),this.runTime=0,this.lastTime=Date.now(),this.delta=0,this.animationFrameId=-1,this.name="",this.ngZone=null}init(t,e=null){this.name=t,this.ngZone=e}get isRunning(){return this.animationFrameId>-1}setRuntime(t){this.runTime=t,this.signalRuntime.set(this.runTime)}start(t=0){this.stop(),this.lastTime=0,this.setRuntime(t),this.ngZone?this.loopNGZone(0):this.loop(0)}stop(){this.animationFrameId>-1&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=-1)}loop(t){this.animationFrameId=requestAnimationFrame(this.loop.bind(this)),this.delta=t-this.lastTime,this.runTime+=this.delta,this.loopCallback(this.delta),this.lastTime=t}loopNGZone(t){this.ngZone.runOutsideAngular(()=>{this.animationFrameId=requestAnimationFrame(this.loopNGZone.bind(this)),this.delta=t-this.lastTime,this.runTime+=this.delta,this.loopCallback(this.delta),this.lastTime=t})}};var He=(function(n){return n[n.init=0]="init",n[n.addCard=1]="addCard",n[n.running=2]="running",n[n.removeCard=3]="removeCard",n[n.correct=4]="correct",n[n.incorrect=5]="incorrect",n[n.showAnswer=6]="showAnswer",n[n.finish=7]="finish",n})(He||{});var vh=class{constructor(t,e,i,o,r,s){this.gameService=t,this.x=e,this.y=i,this.width=o,this.height=r,this.questionConfig=s,this.targetPos=null,this.velocityX=0,this.velocityY=0,this.swipeAngleX=0,this.hasMoved=!1,this.isAtTargetPosition=!1,this.style={},this.text=void 0,this.textKey=void 0,this.textFeedbackKey=void 0,this.scale=0,this.startPos={x:e,y:i},this.halfWidth=o*.5,this.halfHeight=r*.5}update(t){t>0,this.style.left=this.x+"px",this.style.top=this.y+"px",this.style.width=this.width+"px",this.style.height=this.height+"px",this.updatePosition()}updatePosition(){if((this.velocityX||this.velocityY||this.hasMoved)&&(this.x+=this.velocityX,this.y+=this.velocityY,this.hasMoved=!1,Math.abs(this.velocityX)<.1&&(this.velocityX=0),Math.abs(this.velocityY)<.1&&(this.velocityY=0)),!this.targetPos){this.isAtTargetPosition=!1;return}let t={x:this.x+this.halfWidth,y:this.y+this.halfHeight},e=this.gameService.getDistance(this.targetPos,t),i=this.gameService.getRotationRadianAngle(t,this.targetPos);this.velocityX=Math.cos(i)*e*.1,this.velocityY=Math.sin(i)*e*.1,this.isAtTargetPosition=e<10}};var Pt=class{static radiansToDegrees(t){return t*180/Math.PI}static normalizeAngle(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}};var _u=class{getCenterPoint(t,e){let i=(t.x+e.x)*.5,o=(t.y+e.y)*.5;return{x:i,y:o}}rotatePoint(t,e){if(!t)return t;let i=e*Math.PI/180,o=Math.cos(i),r=Math.sin(i);return{x:o*t.x+r*t.y,y:-r*t.x+o*t.y}}getRotationRadianAngle(t,e){let i=e.x-t.x,o=e.y-t.y;return Math.atan2(o,i)}getRotationDegreesAngle(t,e){let i=this.getRotationRadianAngle(t,e);return Pt.radiansToDegrees(i)}getDistance(t,e){let i=e.x-t.x,o=e.y-t.y;return Math.sqrt(i*i+o*o)}checkPointInRectCollision(t,e){let i=this.getRectCorners(e),o=!1;for(let r=0,s=i.length-1;r<i.length;s=r++){let a=i[r].x,l=i[r].y,c=i[s].x,u=i[s].y;l>t.y!=u>t.y&&t.x<(c-a)*(t.y-l)/(u-l)+a&&(o=!o)}return o}checkRectInLineCollision(t,e){let i=this.getRectCorners(t);for(let o=0,r=i.length-1;o<i.length;r=o++){let s={point1:{x:i[o].x,y:i[o].y},point2:{x:i[r].x,y:i[r].y}};if(this.checkLineIntersection(e,s))return!0}return!1}checkLineIntersection(t,e){let i=(e.point2.y-e.point1.y)*(t.point2.x-t.point1.x)-(e.point2.x-e.point1.x)*(t.point2.y-t.point1.y);if(i==0)return!1;let o=((e.point2.x-e.point1.x)*(t.point1.y-e.point1.y)-(e.point2.y-e.point1.y)*(t.point1.x-e.point1.x))/i,r=((t.point2.x-t.point1.x)*(t.point1.y-e.point1.y)-(t.point2.y-t.point1.y)*(t.point1.x-e.point1.x))/i;return o>=0&&o<=1&&r>=0&&r<=1}getRectMinMaxCorners(t){let e=this.getRectCorners(t),i=Number.MAX_VALUE,o=Number.MIN_VALUE,r=Number.MAX_VALUE,s=Number.MIN_VALUE;for(let a of e)i=Math.min(i,a.x),o=Math.max(o,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y);return{minCornerX:i,maxCornerX:o,minCornerY:r,maxCornerY:s}}getRectCorners(t){let e=t.x+t.width*.5,i=t.y+t.height*.5,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];for(let r of o){let s=r.x-e,a=r.y-i;r.x=e+s*Math.cos(t.angle)-a*Math.sin(t.angle),r.y=i+s*Math.sin(t.angle)+a*Math.cos(t.angle)}return o}};var pl=class n{constructor(t,e,i){this.answerKey=t,this.imageUrl=e,this.isCorrect=i}static getListFromJSON(t){let e=[];if(!t)return[];for(let i of t){let o=n.getModelFromJSON(i);o&&e.push(o)}return e}static getModelFromJSON(t){return t?new n(t.key||"",t.imageUrl||null,t.isCorrect??!1):null}};var yh=class n{constructor(t,e,i,o,r,s,a,l,c,u){this.id=t,this.answerConfigs=e,this.leftCorrect=i,this.hasAutomaticAnswer=o,this.questionColor=r,this.backgroundImageUrl=s,this.backgroundColorsDuration=a,this.backgroundColors=l,this.backgroundAnimationType=c,this.backgroundAnimationImageUrls=u}static getListFromJSON(t){let e=[];if(!t)return[];for(let i of t){let o=n.getModelFromJSON(i);o&&e.push(o)}return e=n.sortList(e),e}static sortList(t){return t.sort((e,i)=>e.id-i.id)}static getModelFromJSON(t){if(!t)return null;let e=Q.isset(t.id)?parseInt(t.id):0,i=pl.getListFromJSON(t.answers),o=Q.isset(t.backgroundAnimationImageUrls)&&Array.isArray(t.backgroundAnimationImageUrls)?t.backgroundAnimationImageUrls:null;return o&&ln.shuffleArray(o),new n(e,i,Q.isset(t.leftCorrect)?!!t.leftCorrect:!1,Q.isset(t.hasAutomaticAnswer)?!!t.hasAutomaticAnswer:!1,Q.isset(t.questionColor)?t.questionColor:null,Q.isset(t.backgroundImageUrl)?t.backgroundImageUrl:null,Q.isset(t.backgroundColorsDuration)?parseInt(t.backgroundColorsDuration):null,Q.isset(t.backgroundColors)&&Array.isArray(t.backgroundColors)?t.backgroundColors:null,Q.isset(t.backgroundAnimationType)?t.backgroundAnimationType:Dn.oneStep,o)}};var Qn=class n{constructor(){this.nativeTranslateService=p(Fe),this.signalQuestionText=w(""),this.signalQuestionColor=w(g.quizGameDefaultFontColorMain),this.signaStatusBarColorLine=w(g.quizGameDefaultFontColorMain),this.signaStatusBarColorCorrect=w(g.quizGameDefaultColorCorrect),this.signaStatusBarColorWrong=w(g.quizGameDefaultColorWrong),this.signalTimeBarColor=w("#fff"),this.signalRemainingTimeRank=w(0),this.signalAnswerTimerMSec=w(0),this.signalAnswerTimerFactor=w(0),this.signalIsAnswerTimerRunning=w(!1),this.signalIsAnswerTimerFinished=w(!1),this.signalAnswerSelectedCorrect=w(null),this.signalIsShowingSwipeImage=w(!1),this.signalHasSwiped=w(!1),this.signalGoldenCardImage=w(`radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%),
				radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%)`),this.timeBarColors=["#72a878","#ac7a29","#bf5832","#ca3434"],this.signalIsEditorCallGoldenCard=w(!1),this.signalIsEditorShowingCorrectScreen=w(!1),this.rerenderEmitter=new Z,this.isStandardBaseGame=!1,this.currentQuestionNr=0,this.maxQuestionCount=0,this.categoryKey=null,this.backgroundImageUrl=null,this.backgroundColors=null,this.backgroundColorsDuration=null,this.backgroundAnimationImageUrls=null,this.backgroundAnimationType=Dn.oneStep,this.answerList=[],this.questionList=[],this.globalQuestionText="",this.questionColorConfig={global:"#fff",category:null,question:null},this.statusBarColorLineConfig={global:g.quizGameDefaultFontColorMain},this.statusBarColorCorrectConfig={global:g.quizGameDefaultColorCorrect},this.statusBarColorWrongConfig={global:g.quizGameDefaultColorWrong},this.initCount=0}static{this.maxTimerMSec=g.maxQuizQuestionTime}init(t,e){let i=t.answers??[],o=t.questions;if(this.categoryKey=t.categoryKey??null,this.categoryKey){let s="quiz-"+this.categoryKey,a=this.nativeTranslateService.instant(s);a!==s?this.globalQuestionText=a:this.globalQuestionText=this.nativeTranslateService.instant("statement-correct-or-not-correct")}let r=Q.isset(t.hasOverridingValues)&&t.hasOverridingValues===!0;this.isStandardBaseGame||r?(this.questionColorConfig.category=t.questionColor?t.questionColor:null,this.backgroundColors=t.backgroundColors&&Array.isArray(t.backgroundColors)?t.backgroundColors:null,this.backgroundColorsDuration=t.backgroundColorsDuration?t.backgroundColorsDuration:null):(this.questionColorConfig.category=null,this.backgroundColors=null,this.backgroundColorsDuration=null),this.backgroundImageUrl=t.backgroundImageUrl??null,this.backgroundAnimationImageUrls=t.backgroundAnimationImageUrls&&Array.isArray(t.backgroundAnimationImageUrls)?t.backgroundAnimationImageUrls:null,this.backgroundAnimationImageUrls&&ln.shuffleArray(this.backgroundAnimationImageUrls),this.backgroundAnimationType=Q.isset(t.backgroundAnimationType)?t.backgroundAnimationType:Dn.oneStep,this.initCount++,this.answerList=pl.getListFromJSON(i),this.questionList=yh.getListFromJSON(o),this.questionList=ln.shuffleArray(this.questionList),this.questionList.length>e&&(this.questionList=this.questionList.slice(0,e)),this.signalTimeBarColor.set("#fff"),this.signalRemainingTimeRank.set(0),this.signalAnswerTimerMSec.set(0),this.signalAnswerTimerFactor.set(0),this.signalIsAnswerTimerRunning.set(!1),this.signalIsAnswerTimerFinished.set(!1),this.signalAnswerSelectedCorrect.set(null),this.signalIsShowingSwipeImage.set(!1),this.signalHasSwiped.set(!1)}triggerRerender(t=null){this.rerenderEmitter.emit(t)}updateGoldenCardImage(t,e,i,o,r){this.signalGoldenCardImage.set(`radial-gradient(ellipse farthest-corner at right bottom, ${t} 0%, ${e} 8%, ${i} 30%, ${o} 40%, ${r} 80%),
				radial-gradient(ellipse farthest-corner at left top, ${t} 0%, ${e} 8%, ${i} 25%, ${o} 62.5%, ${r} 100%)`)}updateGlobalSettingsFromGameConfig(t){this.questionColorConfig.global=t.questionColor,this.statusBarColorLineConfig.global=t.statusBarColorLine,this.statusBarColorCorrectConfig.global=t.statusBarColorCorrect,this.statusBarColorWrongConfig.global=t.statusBarColorWrong}updateStyles(){this.questionColorConfig.question&&this.signalQuestionColor()!==this.questionColorConfig.question?this.signalQuestionColor.set(this.questionColorConfig.question):this.questionColorConfig.category&&this.signalQuestionColor()!==this.questionColorConfig.category?this.signalQuestionColor.set(this.questionColorConfig.category):this.signalQuestionColor()!==this.questionColorConfig.global&&this.signalQuestionColor.set(this.questionColorConfig.global),this.signaStatusBarColorLine()!==this.statusBarColorLineConfig.global&&this.signaStatusBarColorLine.set(this.statusBarColorLineConfig.global),this.signaStatusBarColorCorrect()!==this.statusBarColorCorrectConfig.global&&this.signaStatusBarColorCorrect.set(this.statusBarColorCorrectConfig.global),this.signaStatusBarColorWrong()!==this.statusBarColorWrongConfig.global&&this.signaStatusBarColorWrong.set(this.statusBarColorWrongConfig.global)}updateQuestionConfigValues(t,e){if(t.questionColor?this.questionColorConfig.question=t.questionColor:this.questionColorConfig.question=null,this.updateStyles(),this.categoryKey){let i="quiz-"+this.categoryKey+"-"+e,o=this.nativeTranslateService.instant(i);o!==i?this.signalQuestionText.set(o):this.signalQuestionText.set(this.globalQuestionText)}}startTimer(){this.signalAnswerTimerMSec.set(n.maxTimerMSec),this.signalAnswerTimerFactor.set(1),this.signalIsAnswerTimerRunning.set(!0),this.signalHasSwiped()||this.signalIsShowingSwipeImage.set(!0)}stopTimer(){this.signalIsAnswerTimerRunning.set(!1),this.signalIsAnswerTimerFinished.set(!1),this.signalIsShowingSwipeImage.set(!1)}getNextQuestionId(t){let e=0;for(let i=0,o=this.questionList.length;i<o;++i)if(e=this.questionList[i].id,e===t&&i+1<this.questionList.length)return this.questionList[i+1].id;return t===null&&this.questionList.length>0?this.questionList[0].id:null}getQuestion(t){for(let e of this.questionList)if(e.id===t)return e;return null}getRemainingTimeRank(){let t=this.signalAnswerTimerFactor();return t>3/4?3:t>1/2?2:t>1/4?1:0}updateCurrentQuestionNumber(t){for(let e=0,i=this.questionList.length;e<i;++e)this.questionList[e].id===t&&(this.currentQuestionNr=e+1)}update(t){if(!this.signalIsAnswerTimerRunning())return;let e=this.signalAnswerTimerMSec();if(e>0){e-=t,e<=0&&(e=0,this.signalIsAnswerTimerRunning.set(!1),this.signalIsAnswerTimerFinished.set(!0)),this.signalAnswerTimerMSec.set(e),this.signalAnswerTimerFactor.set(e/n.maxTimerMSec);let i=this.getRemainingTimeRank();this.signalRemainingTimeRank()!==i&&(this.signalRemainingTimeRank.set(i),i===3?this.signalTimeBarColor.set(this.timeBarColors[0]):i===2?this.signalTimeBarColor.set(this.timeBarColors[1]):i===1?this.signalTimeBarColor.set(this.timeBarColors[2]):i===0&&this.signalTimeBarColor.set(this.timeBarColors[3]))}}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}};var Cl=(()=>{class n{constructor(){this.signalState=w(0),this.signalUrl1=w(null),this.signalUrl2=w(null)}setBackgroundImageUrl(e){this.signalState()>0&&!e?this.signalState.set(0):this.signalState()===0&&e?(this.signalState.set(1),this.signalUrl1.set("url('"+e+"'")):this.signalState()===1&&e&&!this.signalUrl1()?.includes(e)?(this.signalState.set(2),this.signalUrl2.set("url('"+e+"'")):this.signalState()===2&&e&&!this.signalUrl2()?.includes(e)&&(this.signalState.set(1),this.signalUrl1.set("url('"+e+"'"))}updateRoute(e){this.setBackgroundImageUrl(null)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vl=class{get isRunning(){return this._isRunning}constructor(){this.intervalStartTime=0,this.intervalTime=0,this.intervalRepeatIndex=0,this.intervalFunctionCallCount=0,this._isRunning=!1,this.intervalFunction=null,this.intervalFinishFunction=null}startIntervalFunction(t,e,i,o){this._isRunning=!0,this.intervalStartTime=t,this.intervalTime=this.intervalStartTime,this.intervalFunctionCallCount=e,this.intervalRepeatIndex=0,this.intervalFunction=i,this.intervalFinishFunction=o}update(t){if(!(!this.intervalFunction||!this.intervalFinishFunction)&&this.intervalTime>0&&(this.intervalTime-=t,this.intervalTime<=0)){if(this.intervalFunctionCallCount<=0){let e=this.intervalFinishFunction;this.reset(),e()}else this.intervalTime=this.intervalStartTime,this.intervalFunction(),this.intervalRepeatIndex++;this.intervalFunctionCallCount--}}reset(){this.intervalStartTime=0,this.intervalTime=0,this.intervalRepeatIndex=0,this.intervalFunctionCallCount=0,this._isRunning=!1,this.intervalFunction=null,this.intervalFinishFunction=null}};var Lr=(()=>{class n{constructor(){this.signalColors=w([]),this.signalBackgroundImageUrl=w("none"),this.signalBackgroundColorsDuration=w(25),this.initBackgroundColorsDuration=25,this.initColors=["#ee775288","#e73c7e88","#23a6d588","#23d5ab88"]}init(e,i){this.initColors=e,this.initBackgroundColorsDuration=i,this.update()}update(){this.signalColors.set([...this.initColors]);let e=`linear-gradient(-45deg, ${this.signalColors().join(",")})`;this.signalBackgroundImageUrl.set(e),this.signalBackgroundColorsDuration.set(this.initBackgroundColorsDuration)}setBackgroundColors(e){if(this.signalColors.set(e),e.length>0){let i=`linear-gradient(-45deg, ${e.join(",")})`;this.signalBackgroundImageUrl.set(i)}}updateRoute(e){this.update()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var t_=class{constructor(t,e,i){this.index=t,this.elem=e,this.timelinePromise=i}},Io=(()=>{class n{constructor(){this.signalImageUrls=w([]),this.imageList=[],this.imageUrls=[],this.animType=Dn.oneStep,this.appHeight=1970,this.onInitComplete=new Z,this.init()}init(){this.setImages([],Dn.oneStep)}onResize(e){this.appHeight=e+50}setImageUrls(e,i){let o=[];for(let r of e){let s=r.split("/").pop()?.replace(/\.[^/.]+$/,"")??"---";o.push({fileName:s,url:r})}this.setImages(o,i)}setImages(e,i){let o=[],r=[];for(let c of e)o.push(c.fileName);for(let c of this.imageUrls)r.push(c.fileName);if(i===this.animType&&ln.areArraysEqual(o,r))return;this.imageUrls=e,this.animType=i;for(let c of this.imageList)qe.killTweensOf(c.elem),c.timelinePromise?.kill();this.imageList=[];let s=[],a,l=0;for(let c of e)c.url&&c.fileName&&(a=c.url.startsWith("url(")?c.url:`url('${c.url}')`,s.push({fileName:c.fileName,url:a,nr:l+1}),l++);this.signalImageUrls.set(s),this.onInitComplete.emit()}addImage(e,i){let o=[...this.imageUrls];o.push({fileName:e,url:i}),this.setImages(o,this.animType)}removeImage(e){let i=[...this.imageUrls],o=i.findIndex(r=>r.fileName.endsWith(e));o!==-1&&i.splice(o,1),this.setImages(i,this.animType)}updateRoute(e,i,o){i&&(e==="/"+G.base||e==="/"+G.idle||e==="/"+G.start||e.startsWith("/"+G.highScore)||e==="/"+G.howToPlay||e==="/"+G.gameTopic||e==="/"+G.endGameCrm||e==="/"+G.endGame)?i&&this.setImageUrls(i,o):this.init()}callTween(e){let i,o=Math.random()*2,r;for(let s of e)r=parseInt(s.dataset.index,10),s.dataset.running="true",i=new t_(r,s,null),this.addTween(i,s,o),o+=Math.random()*2+4}addTween(e,i,o){this.animType===Dn.oneStep?this.addTweenOneStep(e,i,o):this.animType===Dn.twoSteps&&this.addTweenThreeSteps(e,i,o)}getDistance(e,i,o,r){let s=o-e,a=r-i;return Math.sqrt(s*s+a*a)}addTweenOneStep(e,i,o){qe.killTweensOf(i);let r=80+Math.random()*1e3,s=this.appHeight,a=Math.random()*-120+60,l=Math.random()*-120+60,c=-200+Math.random()*1280,u=-100,d=10;qe.set(i,{x:r,y:s,rotate:a,scale:.6}),e.timelinePromise=qe.timeline(),e.timelinePromise.to(i,{delay:o,duration:Math.random()*.3+.7,x:r,y:s,scale:1,ease:"none"}).to(i,{duration:d,x:c,y:u,rotate:l,scale:1,ease:"sine.inOut"}).then(()=>{qe.killTweensOf(i),this.addTween(e,i,Math.random()*2+2)}),this.imageList.push(e)}addTweenThreeSteps(e,i,o){qe.killTweensOf(i);let r=80+Math.random()*1e3,s=this.appHeight,a=Math.random()*-120+60,l=Math.random()*-120+60,c=Math.random()*-120+60,u=-200+Math.random()*1280,d=1620*Math.random(),h=-200+Math.random()*1280,m=-100,b=this.getDistance(r,s,u,d),_=this.getDistance(u,d,h,m),S=10*(b/this.appHeight),T=10*(_/this.appHeight);qe.set(i,{x:r,y:s,rotate:a,scale:.6}),e.timelinePromise=qe.timeline(),e.timelinePromise.to(i,{delay:o,duration:Math.random()*.3+.7,x:r,y:s,scale:1,ease:"none"}).to(i,{duration:S,x:u,y:d,rotate:l,scale:1.5*Math.random()+.5,ease:"sine.inOut"}).to(i,{duration:T,x:h,y:m,rotate:c,scale:1,ease:"sine.inOut"}).then(()=>{qe.killTweensOf(i),this.addTween(e,i,Math.random()*2+2)}),this.imageList.push(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fn=(function(n){return n.info="info",n.success="success",n.warning="warning",n.error="error",n})(fn||{});var _h=class{constructor(t,e,i){this.message=t,this.type=e,this.duration=i,this.top=0,this.right=0}};var Ki=(()=>{class n{constructor(){this.signalToastMessages=w([]),this.messageSubscription=null,this.eventEmitter=new Z}showToast(e,i=fn.info,o=3e3){let r=new _h(e,i,o),s=this.signalToastMessages();s.some(a=>a.message===r.message)||(s.push(r),this.updateToasts(s),this.messageSubscription||this.processQueue(o))}removeToast(e){let i=this.signalToastMessages(),o=i.indexOf(e);if(o!==-1&&i.splice(o,1),this.updateToasts(i),this.signalToastMessages().length===0){this.messageSubscription?.unsubscribe(),this.messageSubscription=null;return}}processQueue(e){if(this.signalToastMessages().length===0){this.messageSubscription?.unsubscribe(),this.messageSubscription=null;return}this.messageSubscription=K.setTimeout(()=>{this.signalToastMessages.update(i=>i.slice(1)),this.processQueue(e)},e)}updateToasts(e){this.signalToastMessages.set(e);for(let i=0,o=e.length;i<o;++i)e[i].top=(o-1-i)*50;this.eventEmitter.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var bu=class{constructor(t,e,i,o,r,s,a,l,c,u,d,h,m,b){this.questionId=t,this.isLeftCorrect=e,this.isSelectedLeft=i,this.isSelectedCorrect=o,this.remainingTimeFactor=r,this.remainingTimeRank=s,this.btnPosition=a,this.comboPosition=l,this.superfastPosition=c,this.categoryLocalisationKey=u,this.questionLocalisationKey=d,this.feedbackLocalisationKey=h,this.answerLeftLocalisationKey=m,this.answerRightLocalisationKey=b}};function I3(n,t){n&1&&(M(0),E(1,"nativeTranslate"),C(2,"div",6),M(3),E(4,"nativeTranslate"),v()),n&2&&(z(" ",A(1,2,"sorry")," "),f(3),ae(A(4,4,"wrong-decision")))}function E3(n,t){if(n&1){let e=ne();C(0,"div",1)(1,"div",2)(2,"div",3),P(3,I3,5,6),v(),D(4,"div",4),E(5,"nativeTranslate"),C(6,"app-base-button",5),N("clickButton",function(){O(e);let o=y();return R(o.cancelDialog.emit())}),M(7),E(8,"nativeTranslate"),v()()()}if(n&2){let e=y();se("visible",e.gameState===e.GameStateEnum.incorrect||e.gameState===e.GameStateEnum.showAnswer),f(),x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.dialogWrong.fontColor:void 0)("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.dialogWrong.colorBg:void 0)("border-radius",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.dialogWrong.radius:void 0,"px")("border-width",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.dialogWrong.border:void 0,"px")("border-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.dialogWrong.borderColor:void 0),se("shake",e.signalShakeDialog()),f(2),k(e.gameState===e.GameStateEnum.incorrect?3:-1),f(),I("innerHTML",an(5,21,e.currentQuestion.textFeedbackKey??"",null,null,!1),Le),f(2),I("configBtn",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.btnDialogWrong:null)("backgroundImageUrl",e.initService.signalBtnBackgroundImageUrl())("btnContentWidth","400px")("btnContentPadding","40px 10px"),f(),z("",A(8,26,"close")," ")}}var FD=(()=>{class n{constructor(){this.initService=p(de),this.globalGameService=p(ye),this.gameState=He.init,this.currentQuestion=null,this.cancelDialog=new Z,this.signalShakeDialog=w(!1),this.GameStateEnum=He}shake(){this.gameState===He.incorrect&&(this.signalShakeDialog.set(!0),K.setTimeout(()=>{this.signalShakeDialog.set(!1)},250))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-incorrect"]],inputs:{gameState:"gameState",currentQuestion:"currentQuestion"},outputs:{cancelDialog:"cancelDialog"},standalone:!1,decls:1,vars:1,consts:[[1,"dialog-container","dialog-incorrect",3,"visible"],[1,"dialog-container","dialog-incorrect"],[1,"dialog"],[1,"text-center"],[1,"text",3,"innerHTML"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentPadding"],[1,""]],template:function(i,o){i&1&&P(0,E3,9,28,"div",0),i&2&&k(o.currentQuestion?0:-1)},dependencies:[Ee,ge],styles:[".dialog-incorrect[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;pointer-events:auto;padding:110px 0 0;will-change:scale}.dialog-incorrect.visible[_ngcontent-%COMP%]{z-index:1}.dialog-incorrect[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{width:90%;min-height:79%;background-color:#0006;padding:15% 10%;margin:0 auto;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center}.dialog-incorrect[_ngcontent-%COMP%]   .dialog.shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s;animation-iteration-count:infinite}.dialog-incorrect[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.9em;padding:5% 0 7%}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]})}}return n})();var k3=["comboContainer"],O3=["superfastContainer"],R3=n=>({count:n}),LD=(()=>{class n{constructor(){this.swipeYesNoService=p(Qn),this.initService=p(de),this.globalGameService=p(ye),this.imageLoadService=p(we),this.gameState=He.init,this.currentQuestion=null,this.clickShowAnswer=new Z,this.signalGreatImageUrl=w("none"),this.signalBtnQuestionImageUrl=w("none"),this.rerenderSubscription=null,this.AppConfig=g,this.GameStateEnum=He}ngOnInit(){let e;e=this.imageLoadService.getImage("swipeYesNoGreatImage"),e&&this.signalGreatImageUrl.set(e.src),e=this.imageLoadService.getImage("swipeYesNoBtnQuestionImage"),e&&this.signalBtnQuestionImageUrl.set(`url('${e.src}')`),this.rerenderSubscription=this.swipeYesNoService.rerenderEmitter.subscribe(i=>{i==="correct"&&(e=this.imageLoadService.getImage("swipeYesNoGreatImage"),e&&this.signalGreatImageUrl.set(e.src))})}ngOnDestroy(){this.rerenderSubscription&&(this.rerenderSubscription.unsubscribe(),this.rerenderSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-correct"]],viewQuery:function(i,o){if(i&1&&(ie(k3,5),ie(O3,5)),i&2){let r;ee(r=te())&&(o.comboContainerRef=r.first),ee(r=te())&&(o.superfastContainerRef=r.first)}},inputs:{gameState:"gameState",currentQuestion:"currentQuestion",correctComboCount:"correctComboCount"},outputs:{clickShowAnswer:"clickShowAnswer"},standalone:!1,decls:19,vars:35,consts:[["comboContainer",""],["superfastContainer",""],[1,"correct-container"],[1,"combo-container"],[1,"superfast-container"],[1,"circle"],[1,"image"],["alt","great",1,"great",3,"src"],[1,"btn-show-dialog-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentHeight","btnContentPadding","btnRadius"],[1,"show-dialog-img"]],template:function(i,o){if(i&1){let r=ne();C(0,"div",2)(1,"div",3,0),M(3),E(4,"nativeTranslate"),E(5,"uppercase"),v(),C(6,"div",4,1),M(8),E(9,"nativeTranslate"),E(10,"uppercase"),v(),C(11,"div",5)(12,"div",6),D(13,"img",7),v()(),M(14),E(15,"nativeTranslate"),C(16,"div",8)(17,"app-base-button",9),N("clickButton",function(){return O(r),R(o.clickShowAnswer.emit())}),D(18,"div",10),v()()()}i&2&&(x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.fontColorFeedback:void 0),se("visible",o.gameState===o.GameStateEnum.correct||o.swipeYesNoService.signalIsEditorShowingCorrectScreen()),f(),se("visible",o.gameState===o.GameStateEnum.correct&&o.correctComboCount>=o.AppConfig.minCorrectComboCount),f(2),z("",A(5,25,pn(4,22,"correct-combo",ot(33,R3,o.correctComboCount)))," "),f(3),se("visible",o.gameState===o.GameStateEnum.correct&&o.swipeYesNoService.signalAnswerTimerFactor()>=3/4),f(2),z("",A(10,29,A(9,27,"superfast"))," "),f(5),I("src",o.signalGreatImageUrl(),oi),f(),z(" ",A(15,31,"great")," "),f(3),I("configBtn",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.btnFeedback:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnContentWidth","193px")("btnContentHeight","193px")("btnContentPadding","0")("btnRadius","50%"),f(),x("mask-image",o.signalBtnQuestionImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.btnFeedback.fontColor:null))},dependencies:[Ee,kc,ge],styles:[".correct-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:auto}.correct-container.visible[_ngcontent-%COMP%]{z-index:1}.correct-container.visible[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{scale:1}.correct-container[_ngcontent-%COMP%]   .combo-container[_ngcontent-%COMP%], .correct-container[_ngcontent-%COMP%]   .superfast-container[_ngcontent-%COMP%]{position:absolute;top:370px;opacity:0;scale:1}.correct-container[_ngcontent-%COMP%]   .combo-container.visible[_ngcontent-%COMP%], .correct-container[_ngcontent-%COMP%]   .superfast-container.visible[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scalePush 2s 1 ease-in-out}.correct-container[_ngcontent-%COMP%]   .superfast-container[_ngcontent-%COMP%]{top:1045px}@keyframes _ngcontent-%COMP%_scalePush{0%{opacity:0;scale:1}40%{opacity:1;scale:1.4}60%{opacity:1;scale:1.2}to{opacity:1;scale:1.2}}.correct-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:455px;height:455px;background-color:transparent;border-radius:50%;margin:0 auto 30px;pointer-events:none;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;scale:0;transition:scale .2s}.correct-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;pointer-events:none}.correct-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .great[_ngcontent-%COMP%]{width:100%;height:auto}.correct-container[_ngcontent-%COMP%]   .btn-show-dialog-container[_ngcontent-%COMP%]{margin-top:115px}.correct-container[_ngcontent-%COMP%]   .btn-show-dialog-container[_ngcontent-%COMP%]   .show-dialog-img[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;background-color:#fff}"]})}}return n})();var N3=["dialogCorrectComponent"],B3=["dialogIncorrectComponent"],F3=["game"],L3=["board"],G3=["currentQuestionCard"],V3=["btnLeft"],z3=["btnRight"],H3=(n,t)=>t.id;function U3(n,t){if(n&1){let e=ne();C(0,"div",22),Vt("fade-out-800ms"),it("fade-in-800ms"),C(1,"app-dialog-correct",24,2),N("clickShowAnswer",function(){O(e);let o=y(2);return R(o.onClickShowAnswerDialog())}),v()()}if(n&2){let e=y(2);f(),I("gameState",e.gameState)("currentQuestion",e.currentQuestion)("correctComboCount",e.correctComboCount)}}function q3(n,t){if(n&1){let e=ne();C(0,"div",25),it("dialog-enter"),N("animationend",function(o){O(e);let r=y(2);return R(r.onAnimationDialogEnd(o))}),C(1,"app-dialog-incorrect",26,3),N("cancelDialog",function(){O(e);let o=y(2);return R(o.onClickIncorrectDialogOk())}),v()()}if(n&2){let e=y(2);f(),I("gameState",e.gameState)("currentQuestion",e.currentQuestion)}}function $3(n,t){if(n&1&&(P(0,U3,3,3,"div",22),P(1,q3,3,2,"div",23)),n&2){let e=y();k(e.gameState===e.GameStateEnum.correct||e.swipeYesNoService.signalIsEditorShowingCorrectScreen()?0:-1),f(),k((e.gameState===e.GameStateEnum.incorrect||e.gameState===e.GameStateEnum.showAnswer)&&!e.swipeYesNoService.signalIsEditorShowingCorrectScreen()?1:-1)}}function j3(n,t){if(n&1&&(C(0,"div",31),D(1,"div",32),v()),n&2){let e=y(3);x("background-color",e.swipeYesNoService.signaStatusBarColorCorrect()),f(),x("mask-image",`url('${e.signalBtnCorrectImageUrl()}`)("background-color",e.swipeYesNoService.signaStatusBarColorLine())}}function W3(n,t){if(n&1&&(C(0,"div",33),D(1,"div",32),v()),n&2){let e=y(3);x("background-color",e.swipeYesNoService.signaStatusBarColorWrong()),f(),x("mask-image",`url('${e.signalBtnNotCorrectImageUrl()}`)("background-color",e.swipeYesNoService.signaStatusBarColorLine())}}function Q3(n,t){if(n&1&&P(0,j3,2,6,"div",29)(1,W3,2,6,"div",30),n&2){let e=y().$index,i=y();k(i.globalGameService.topicQuestionResultList[e].score>0&&i.signalBtnCorrectImageUrl()?0:i.signalBtnNotCorrectImageUrl()?1:-1)}}function Y3(n,t){if(n&1&&D(0,"div",34),n&2){let e=y(2);x("background-color",e.swipeYesNoService.signaStatusBarColorLine())}}function X3(n,t){if(n&1&&(C(0,"div",27),P(1,Q3,2,1),v(),P(2,Y3,1,2,"div",28)),n&2){let e=t.$index,i=y();x("border-color",i.swipeYesNoService.signaStatusBarColorLine()),se("currently",i.globalGameService.topicQuestionResultList.length===e),f(),k(i.globalGameService.topicQuestionResultList.length>e?1:-1),f(),k(e<i.swipeYesNoService.questionList.length-1?2:-1)}}function K3(n,t){if(n&1&&(D(0,"br"),M(1),D(2,"br"),M(3),E(4,"json")),n&2){let e=y(3);f(),z("id: ",e.currentQuestion.questionConfig.id," "),f(2),z("answerConfigs: ",A(4,2,e.currentQuestion.questionConfig.answerConfigs)," ")}}function Z3(n,t){if(n&1&&(C(0,"div",37,4),D(2,"span",38),E(3,"nativeTranslate"),P(4,K3,5,4),v()),n&2){let e=y(2);x("left",e.currentQuestion.x,"px")("top",e.currentQuestion.y,"px")("width",e.currentQuestion.width,"px")("min-height",e.currentQuestion.height,"px")("scale",e.currentQuestion.scale)("transform","translateX("+e.MathAngleUtil.radiansToDegrees(e.currentQuestion.swipeAngleX)+"px)")("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCardGold.colorBg:void 0)("border-radius",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCardGold.radius:void 0,"px")("border-width",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCardGold.border:void 0,"px")("border-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCardGold.borderColor:void 0)("background-image",e.swipeYesNoService.signalGoldenCardImage()),se("scale-transition",e.currentQuestion.scale===1),f(2),x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCardGold.fontColor:void 0)("font-weight",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCardGold.isFontBold?"bold":"normal":void 0),se("base-game",!e.globalGameService.signalGameConfig()),I("innerHTML",e.currentQuestion.textKey?an(3,32,e.currentQuestion.textKey,null,null,!1):"",Le),f(2),k(e.isDebug?4:-1)}}function J3(n,t){if(n&1&&(D(0,"br"),M(1),D(2,"br"),M(3),E(4,"json")),n&2){let e=y(3);f(),z("id: ",e.currentQuestion.questionConfig.id," "),f(2),z("answerConfigs: ",A(4,2,e.currentQuestion.questionConfig.answerConfigs)," ")}}function eV(n,t){if(n&1&&(C(0,"div",39,4),D(2,"span",40),E(3,"nativeTranslate"),P(4,J3,5,4),v()),n&2){let e=y(2);x("left",e.currentQuestion.x,"px")("top",e.currentQuestion.y,"px")("width",e.currentQuestion.width,"px")("min-height",e.currentQuestion.height,"px")("scale",e.currentQuestion.scale)("transform","translateX("+e.MathAngleUtil.radiansToDegrees(e.currentQuestion.swipeAngleX)+"px)")("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCard.colorBg:void 0)("border-radius",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCard.radius:void 0,"px")("border-width",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCard.border:void 0,"px")("border-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCard.borderColor:void 0),se("scale-transition",e.currentQuestion.scale===1),f(2),x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.questionCard.fontColor:void 0),I("innerHTML",e.currentQuestion.textKey?an(3,26,e.currentQuestion.textKey,null,null,!1):"",Le),f(2),k(e.isDebug?4:-1)}}function tV(n,t){if(n&1&&P(0,Z3,5,37,"div",35)(1,eV,5,31,"div",36),n&2){let e=y();k(e.swipeYesNoService.signalIsEditorCallGoldenCard()||e.globalGameService.currentQuestionIndex===e.globalGameService.goldenQuestionIndex?0:1)}}function nV(n,t){if(n&1&&(C(0,"div",46),D(1,"img",48),v()),n&2){let e=y(3);f(),I("src",e.signalLeftAnswerImageUrl(),oi)}}function iV(n,t){if(n&1&&(C(0,"div",45,5),P(2,nV,2,1,"div",46),D(3,"div",47),E(4,"nativeTranslate"),v()),n&2){let e=y(2);se("image-container",e.signalLeftAnswerImageUrl()),f(2),k(e.signalLeftAnswerImageUrl()?2:-1),f(),I("heightPx",180)("maxFontSize",48)("minFontSize",30)("innerHTML",an(4,7,e.signalLeftAnswerKey(),null,null,!0),Le)}}function oV(n,t){if(n&1&&(C(0,"div",44,5)(2,"div",49),D(3,"img",50),v(),M(4),E(5,"nativeTranslate"),v()),n&2){let e=y(2);f(3),I("src",e.signalBtnNotCorrectImageUrl(),oi),f(),z(" ",A(5,2,"not-correct")," ")}}function rV(n,t){if(n&1&&(C(0,"div",46),D(1,"img",51),v()),n&2){let e=y(3);f(),I("src",e.signalRightAnswerImageUrl(),oi)}}function sV(n,t){if(n&1&&(C(0,"div",45,6),P(2,rV,2,1,"div",46),D(3,"div",47),E(4,"nativeTranslate"),v()),n&2){let e=y(2);se("image-container",e.signalRightAnswerImageUrl()),f(2),k(e.signalRightAnswerImageUrl()?2:-1),f(),I("heightPx",180)("maxFontSize",48)("minFontSize",30)("innerHTML",an(4,7,e.signalRightAnswerKey(),null,null,!0),Le)}}function aV(n,t){if(n&1&&(C(0,"div",44,6)(2,"div",49),D(3,"img",52),v(),M(4),E(5,"nativeTranslate"),v()),n&2){let e=y(2);f(3),I("src",e.signalBtnCorrectImageUrl(),oi),f(),z(" ",A(5,2,"correct")," ")}}function lV(n,t){if(n&1){let e=ne();C(0,"div",41)(1,"app-base-button",42),N("clickButton",function(){O(e);let o=y();return R(o.onClickSelectAnswer(!0))}),P(2,iV,5,12,"div",43)(3,oV,6,4,"div",44),v(),C(4,"app-base-button",42),N("clickButton",function(){O(e);let o=y();return R(o.onClickSelectAnswer(!1))}),P(5,sV,5,12,"div",43)(6,aV,6,4,"div",44),v()()}if(n&2){let e=y();se("visible",e.gameState!==e.GameStateEnum.init&&e.gameState!==e.GameStateEnum.incorrect&&e.gameState!==e.GameStateEnum.showAnswer&&e.gameState!==e.GameStateEnum.finish&&!e.swipeYesNoService.signalIsEditorShowingCorrectScreen()),f(),I("configBtn",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.btnAnswer:null)("backgroundImageUrl",e.initService.signalBtnBackgroundImageUrl())("btnContentWidth",!e.signalLeftAnswerKey()||e.signalLeftAnswerKey()&&e.signalLeftAnswerImageUrl()?"340px":"380px")("btnContentHeight",e.signalLeftAnswerKey()?"auto":"340px")("btnContentPadding","8px 25px")("btnRadius",e.signalLeftAnswerKey()?null:"50%"),f(),k(e.signalLeftAnswerKey()?2:3),f(2),I("configBtn",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.btnAnswer:null)("backgroundImageUrl",e.initService.signalBtnBackgroundImageUrl())("btnContentWidth",!e.signalRightAnswerKey()||e.signalRightAnswerKey()&&e.signalRightAnswerImageUrl()?"340px":"380px")("btnContentHeight",e.signalRightAnswerKey()?"auto":"340px")("btnContentPadding","8px 25px")("btnRadius",e.signalRightAnswerKey()?null:"50%"),f(),k(e.signalRightAnswerKey()?5:6)}}var GD=(()=>{class n{constructor(){this.swipeYesNoService=p(Qn),this.initService=p(de),this.fileLoadService=p(Yi),this.soundService=p(Ce),this.backgroundImageService=p(Cl),this.backgroundGradientService=p(Lr),this.backgroundAnimationService=p(Io),this.globalGameService=p(ye),this.imageLoadService=p(we),this.toastService=p(Ki),this.changeDetectorRef=p(Ve),this.selectAnswerEvent=new Z,this.finishGame=new Z,this.signalAnswerTimerPosY=w(0),this.signalStarImageUrl=w("none"),this.signalBtnCorrectImageUrl=w(null),this.signalBtnNotCorrectImageUrl=w(null),this.signalBtnQuestionImageUrl=w(null),this.signalGreatImageUrl=w(null),this.signalSwipeLeftRightImageUrl=w(null),this.signalLeftAnswerImageUrl=w(null),this.signalLeftAnswerKey=w(null),this.signalRightAnswerImageUrl=w(null),this.signalRightAnswerKey=w(null),this.isDebug=!1,this.gameState=He.init,this.currentQuestion=null,this.startX=0,this.startY=0,this.distX=0,this.distY=0,this.isTouchDown=!1,this.config={},this.gameService=new _u,this.GameStateEnum=He,this.MathAngleUtil=Pt,this.AppConfig=g,this.appLoopService=new hi(this.loop.bind(this)),this.appIntervalService=new vl,this.rerenderSubscription=null,this.showEditorChangesTimeoutSubscription=null,this.mouseDown=this.onMouseDown.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseMove=this.onMouseMove.bind(this),this.touchElementTouchStart=this.onTouchElementTouchStart.bind(this),this.touchStart=this.onTouchStart.bind(this),this.touchMove=this.onTouchMove.bind(this),this.touchEnd=this.onTouchEnd.bind(this),this.touchCancel=this.onTouchCancel.bind(this),this.appLoopService.stop(),this.appLoopService.setRuntime(0),this.appLoopService.init("SwipeYesNoComponent")}ngAfterViewInit(){this.rerenderSubscription=this.swipeYesNoService.rerenderEmitter.subscribe(e=>{this.changeDetectorRef.detectChanges(),this.currentQuestion?.targetPos&&this.currentQuestionCardRef&&this.signalAnswerTimerPosY.set(this.currentQuestionCardRef.nativeElement.offsetTop+this.currentQuestionCardRef.nativeElement.offsetHeight);let i=this.imageLoadService.getImage("swipeYesNoSwipeLeftRightImage");this.signalSwipeLeftRightImageUrl.set(i?i.src:null),i=this.imageLoadService.getImage("swipeYesNoGreatImage"),this.signalGreatImageUrl.set(i?i.src:null),e&&(this.showEditorChangesTimeoutSubscription&&(this.showEditorChangesTimeoutSubscription.unsubscribe(),this.swipeYesNoService.signalIsEditorShowingCorrectScreen.set(!1)),e==="correct"&&(this.swipeYesNoService.signalIsEditorShowingCorrectScreen.set(!0),this.showEditorChangesTimeoutSubscription=K.setTimeout(()=>{this.showEditorChangesTimeoutSubscription=null,this.swipeYesNoService.signalIsEditorShowingCorrectScreen.set(!1)},2e3)))}),this.init()}ngOnDestroy(){this.rerenderSubscription&&(this.rerenderSubscription.unsubscribe(),this.rerenderSubscription=null),this.showEditorChangesTimeoutSubscription&&(this.showEditorChangesTimeoutSubscription.unsubscribe(),this.showEditorChangesTimeoutSubscription=null),this.appLoopService.stop(),this.removeEventListeners()}init(){this.touchElement=this.board.nativeElement,this.initGame().then()}initGame(){return ue(this,null,function*(){let e=[];try{e=yield this.fileLoadService.loadFiles([this.gameConfigUrl])}catch(o){this.toastService.showToast(o,fn.error,3e4)}if(e[0]&&e[0].type.indexOf("application/json")!==-1){let o=yield e[0].text();this.config=JSON.parse(o)}let i;i=this.imageLoadService.getImage("starImage"),i&&this.signalStarImageUrl.set(`url('${i.src}')`),i=this.imageLoadService.getImage("swipeYesNoBtnCorrectImage"),i&&this.signalBtnCorrectImageUrl.set(i.src),i=this.imageLoadService.getImage("swipeYesNoBtnNotCorrectImage"),i&&this.signalBtnNotCorrectImageUrl.set(i.src),i=this.imageLoadService.getImage("swipeYesNoBtnQuestionImage"),i&&this.signalBtnQuestionImageUrl.set(i.src),i=this.imageLoadService.getImage("swipeYesNoGreatImage"),i&&this.signalGreatImageUrl.set(i.src),i=this.imageLoadService.getImage("swipeYesNoSwipeLeftRightImage"),i&&this.signalSwipeLeftRightImageUrl.set(i.src),this.swipeYesNoService.init(this.config,this.maxQuizQuestionCount),this.addEventListeners(),this.gameState=He.init,this.initQuestionCard()})}addEventListeners(){this.touchElement.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousemove",this.mouseMove),this.touchElement.addEventListener("touchstart",this.touchElementTouchStart,{passive:!1}),this.touchElement.addEventListener("touchstart",this.touchStart),this.touchElement.addEventListener("touchmove",this.touchMove),this.touchElement.addEventListener("touchend",this.touchEnd),this.touchElement.addEventListener("touchcancel",this.touchCancel)}removeEventListeners(){this.touchElement?.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("mousemove",this.mouseMove),this.touchElement?.removeEventListener("touchstart",this.touchElementTouchStart),this.touchElement?.removeEventListener("touchstart",this.touchStart),this.touchElement?.removeEventListener("touchmove",this.touchMove),this.touchElement?.removeEventListener("touchend",this.touchEnd),this.touchElement?.removeEventListener("touchcancel",this.touchCancel)}onTouchElementTouchStart(e){this.gameState===He.running&&e.preventDefault()}startGame(){this.addQuestionCard(),this.appLoopService.start()}initQuestionCard(){if(this.currentQuestionId=this.swipeYesNoService.getNextQuestionId(this.currentQuestionId),!this.currentQuestionId){this.callFinishGame();return}let e=this.swipeYesNoService.getQuestion(this.currentQuestionId);if(!e){this.callFinishGame();return}e.answerConfigs.length>=1?(this.signalLeftAnswerKey.set(e.answerConfigs[0].answerKey),e.answerConfigs[0].imageUrl&&this.signalLeftAnswerImageUrl.set(e.answerConfigs[0].imageUrl)):this.swipeYesNoService.answerList.length>=1?(this.signalLeftAnswerKey.set(this.swipeYesNoService.answerList[0].answerKey),this.swipeYesNoService.answerList[0].imageUrl&&this.signalLeftAnswerImageUrl.set(this.swipeYesNoService.answerList[0].imageUrl)):(this.signalLeftAnswerKey.set(null),this.signalLeftAnswerImageUrl.set(null)),e.answerConfigs.length>=2?(this.signalRightAnswerKey.set(e.answerConfigs[1].answerKey),e.answerConfigs[1].imageUrl&&this.signalRightAnswerImageUrl.set(e.answerConfigs[1].imageUrl)):this.swipeYesNoService.answerList.length>=2?(this.signalRightAnswerKey.set(this.swipeYesNoService.answerList[1].answerKey),this.swipeYesNoService.answerList[1].imageUrl&&this.signalRightAnswerImageUrl.set(this.swipeYesNoService.answerList[1].imageUrl)):(this.signalRightAnswerKey.set(null),this.signalRightAnswerImageUrl.set(null)),this.globalGameService.currentQuestionIndex++,g.isDebugConsole&&console.log("currentQuestionIndex",this.globalGameService.currentQuestionIndex),this.swipeYesNoService.updateCurrentQuestionNumber(e.id),this.swipeYesNoService.updateQuestionConfigValues(e,e.id),e.backgroundImageUrl?this.backgroundImageService.setBackgroundImageUrl(e.backgroundImageUrl):this.swipeYesNoService.backgroundImageUrl?this.backgroundImageService.setBackgroundImageUrl(this.swipeYesNoService.backgroundImageUrl):this.backgroundImageService.setBackgroundImageUrl(null),e.backgroundColorsDuration?this.backgroundGradientService.signalBackgroundColorsDuration.set(e.backgroundColorsDuration):this.swipeYesNoService.backgroundColorsDuration&&this.backgroundGradientService.signalBackgroundColorsDuration.set(this.swipeYesNoService.backgroundColorsDuration),e.backgroundColors?this.backgroundGradientService.setBackgroundColors(e.backgroundColors):this.swipeYesNoService.backgroundColors?this.backgroundGradientService.setBackgroundColors(this.swipeYesNoService.backgroundColors):this.backgroundGradientService.update(),e.backgroundAnimationImageUrls?this.backgroundAnimationService.setImageUrls(e.backgroundAnimationImageUrls,e.backgroundAnimationType):this.swipeYesNoService.backgroundAnimationImageUrls?this.backgroundAnimationService.setImageUrls(this.swipeYesNoService.backgroundAnimationImageUrls,this.swipeYesNoService.backgroundAnimationType):this.backgroundAnimationService.init()}addQuestionCard(){if(!this.currentQuestionId){this.callFinishGame();return}let e=this.swipeYesNoService.getQuestion(this.currentQuestionId);if(!e){this.callFinishGame();return}this.gameState=He.addCard,this.soundService.playSound(V.cardFadeIn,!0);let i=360;this.currentQuestion=new vh(this.gameService,130,i,820,600,e),this.currentQuestion.textKey="quiz-"+(this.swipeYesNoService.categoryKey?this.swipeYesNoService.categoryKey+"-question-":"")+e.id,this.currentQuestion.textFeedbackKey="quiz-"+(this.swipeYesNoService.categoryKey?this.swipeYesNoService.categoryKey+"-feedback-":"")+e.id,K.setTimeout(()=>{this.currentQuestion.targetPos={x:this.currentQuestion.x+this.currentQuestion.width*.5,y:i+this.currentQuestion.height*.5},this.currentQuestion.scale=1,this.currentQuestionCardRef&&this.signalAnswerTimerPosY.set(this.currentQuestionCardRef.nativeElement.offsetTop+this.currentQuestionCardRef.nativeElement.offsetHeight)},300)}removeQuestionCard(){this.gameState=He.removeCard,this.soundService.playSound(V.cardFadeOut,!0),this.currentQuestion&&(this.currentQuestion.targetPos={x:this.currentQuestion.x+this.currentQuestion.width*.5,y:1920+this.currentQuestion.height*.5})}onMouseDown(e){e.stopImmediatePropagation(),this.resetTouch(),this.gameState===He.running&&(e.preventDefault(),this.isTouchDown=!0,this.startX=e.clientX,this.startY=e.clientY)}onMouseMove(e){if(e.stopImmediatePropagation(),e.preventDefault(),!!this.isTouchDown){if(this.gameState!==He.running){this.resetTouch();return}this.distX=e.clientX-this.startX,this.distY=e.clientY-this.startY,this.currentQuestion&&(this.currentQuestion.swipeAngleX=this.distX/360,this.currentQuestion.swipeAngleX=Math.max(this.currentQuestion.swipeAngleX,-Math.PI*.35),this.currentQuestion.swipeAngleX=Math.min(this.currentQuestion.swipeAngleX,Math.PI*.35))}}onMouseUp(e){if(e.stopImmediatePropagation(),e.preventDefault(),!this.isTouchDown)return;if(this.isTouchDown=!1,this.gameState!==He.running){this.resetTouch();return}if(this.distX=e.clientX-this.startX,this.distY=e.clientY-this.startY,Math.abs(this.distX)<30){this.resetTouch();return}let i=this.distX<0;this.resetTouch(),this.selectAnswer(i)}onTouchStart(e){if(e.stopImmediatePropagation(),this.resetTouch(),e.touches.length<=0||this.gameState!==He.running)return;e.preventDefault(),this.isTouchDown=!0;let i=e.changedTouches[0];this.startX=i.clientX,this.startY=i.clientY}onTouchMove(e){if(e.stopImmediatePropagation(),e.preventDefault(),!this.isTouchDown||e.changedTouches.length<=0)return;if(this.gameState!==He.running){this.resetTouch();return}let i=e.changedTouches[0];this.distX=i.clientX-this.startX,this.distY=i.clientY-this.startY,this.currentQuestion&&(this.currentQuestion.swipeAngleX=this.distX/360,this.currentQuestion.swipeAngleX=Math.max(this.currentQuestion.swipeAngleX,-Math.PI*.35),this.currentQuestion.swipeAngleX=Math.min(this.currentQuestion.swipeAngleX,Math.PI*.35))}onTouchEnd(e){if(e.stopImmediatePropagation(),e.preventDefault(),!this.isTouchDown||(this.isTouchDown=!1,e.changedTouches.length<=0))return;if(this.gameState!==He.running){this.resetTouch();return}let i=e.changedTouches[0];if(this.distX=i.clientX-this.startX,this.distY=i.clientY-this.startY,Math.abs(this.distX)<30){this.resetTouch();return}let o=this.distX<0;this.resetTouch(),this.selectAnswer(o)}onTouchCancel(e){e.stopImmediatePropagation(),this.resetTouch()}onClickSelectAnswer(e){this.gameState===He.running&&(this.soundService.playSound(V.click,!0),this.selectAnswer(e))}onClickShowAnswerDialog(){this.soundService.playSound(V.click,!0),this.soundService.playSound(V.modalFadeIn,!0),this.gameState=He.showAnswer,this.appIntervalService.reset()}onClickIncorrectDialogOk(){this.soundService.playSound(V.click,!0),this.soundService.playSound(V.modalFadeOut,!0),this.initQuestionCard(),this.addQuestionCard()}onAnimationDialogEnd(e){e.animationName==="dialogContainerFadeIn"&&this.gameState===He.incorrect&&this.dialogIncorrectComponent?.shake()}selectAnswer(e){if(!this.currentQuestion){console.error("There is no current question.");return}this.gameState=He.removeCard,this.swipeYesNoService.stopTimer();let i;if(this.currentQuestion.questionConfig.answerConfigs.length>=2){let h=e?0:1;i=this.currentQuestion.questionConfig.answerConfigs[h].isCorrect}else i=e===this.currentQuestion.questionConfig.leftCorrect;this.swipeYesNoService.signalAnswerSelectedCorrect.set(i),this.swipeYesNoService.signalHasSwiped.set(!0),this.soundService.playSound(V.cardFadeOut,!0);let o=30;this.currentQuestion.targetPos={x:e?-this.currentQuestion.halfWidth-o:this.board.nativeElement.clientWidth+this.currentQuestion.halfWidth+o,y:this.currentQuestion.y+this.currentQuestion.halfHeight},i&&(this.gameState=He.correct,this.soundService.playSound(V.answerRight,!0),this.currentQuestion.questionConfig.hasAutomaticAnswer?this.appIntervalService.startIntervalFunction(1500,0,()=>{},()=>{this.soundService.playSound(V.modalFadeIn,!0),this.gameState=He.showAnswer,this.appIntervalService.reset()}):this.appIntervalService.startIntervalFunction(1500,0,()=>{},()=>{this.initQuestionCard(),this.addQuestionCard()}));let r={x:0,y:0};this.btnLeftRef&&e?r=this.getPositionOnScreen(this.btnLeftRef.nativeElement,"center"):this.btnRightRef&&(r=this.getPositionOnScreen(this.btnRightRef.nativeElement,"center")),this.changeDetectorRef.detectChanges();let s=null,a=null;i&&this.dialogCorrectComponent&&(this.dialogCorrectComponent.comboContainerRef&&(s=this.getPositionOnScreen(this.dialogCorrectComponent.comboContainerRef.nativeElement,"right")),this.dialogCorrectComponent.superfastContainerRef&&(a=this.getPositionOnScreen(this.dialogCorrectComponent.superfastContainerRef.nativeElement,"right")));let l="quiz-"+(this.swipeYesNoService.categoryKey??""),c=this.getAnswerKey(!0),u=this.getAnswerKey(!1),d=new bu(this.currentQuestion.questionConfig.id,this.currentQuestion.questionConfig.leftCorrect,e,i,this.swipeYesNoService.signalAnswerTimerFactor(),this.swipeYesNoService.signalRemainingTimeRank(),r,s,a,l,this.currentQuestion.textKey??"",this.currentQuestion.textFeedbackKey??"",c,u);this.selectAnswerEvent.emit(d)}getAnswerKey(e){let i=e?0:1,o=i===0?"not-correct":"correct";return this.currentQuestion&&this.currentQuestion.questionConfig.answerConfigs.length>=i+1?o=this.currentQuestion.questionConfig.answerConfigs[i].answerKey||"":this.swipeYesNoService.answerList.length>=i+1&&(o=this.swipeYesNoService.answerList[i].answerKey),o}getPositionOnScreen(e,i){let o=this.board.nativeElement.getBoundingClientRect(),r=e.getBoundingClientRect(),s=o.width/this.board.nativeElement.clientWidth,a=i==="left"?0:i==="right"?r.width:r.width*.5;return{x:(r.left+a-o.left)/s,y:(r.top+r.height*.5)/s}}resetTouch(){this.startX=0,this.startY=0,this.distX=0,this.distY=0,this.isTouchDown=!1,this.currentQuestion&&(this.currentQuestion.swipeAngleX=0)}update(e){if(this.appIntervalService.update(e),this.swipeYesNoService.update(e),this.currentQuestion)if(this.currentQuestion.update(e),this.gameState===He.addCard)this.currentQuestion.isAtTargetPosition&&(this.gameState=He.running,this.swipeYesNoService.startTimer());else if(this.gameState===He.running){if(this.swipeYesNoService.signalAnswerTimerMSec()<=0){this.swipeYesNoService.signalAnswerSelectedCorrect.set(null),this.swipeYesNoService.stopTimer();let i="quiz-"+(this.swipeYesNoService.categoryKey??""),o=this.getAnswerKey(!0),r=this.getAnswerKey(!1),s=new bu(this.currentQuestion.questionConfig.id,this.currentQuestion.questionConfig.leftCorrect,null,!1,this.swipeYesNoService.signalAnswerTimerFactor(),this.swipeYesNoService.signalRemainingTimeRank(),{x:0,y:0},null,null,i,this.currentQuestion.textKey??"",this.currentQuestion.textFeedbackKey??"",o,r);this.selectAnswerEvent.emit(s),this.removeQuestionCard()}}else this.gameState===He.removeCard&&this.currentQuestion.isAtTargetPosition&&(this.swipeYesNoService.signalAnswerSelectedCorrect()===!1||this.swipeYesNoService.signalAnswerSelectedCorrect()===null)&&(this.gameState=He.incorrect,this.soundService.playSound(V.answerWrong,!0),this.soundService.playSound(V.modalFadeIn,!0));this.changeDetectorRef.detectChanges()}callFinishGame(){this.gameState=He.finish,this.appLoopService.stop(),this.removeEventListeners();let e=Math.floor(this.appLoopService.signalRuntime()/1e3);this.finishGame.emit({isSuccess:!0,runtime:e})}loop(e){this.update(e),this.changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-swipe-yes-no"]],viewQuery:function(i,o){if(i&1&&(ie(N3,5),ie(B3,5),ie(F3,5),ie(L3,5),ie(G3,5),ie(V3,5),ie(z3,5)),i&2){let r;ee(r=te())&&(o.dialogCorrectComponent=r.first),ee(r=te())&&(o.dialogIncorrectComponent=r.first),ee(r=te())&&(o.gameRef=r.first),ee(r=te())&&(o.board=r.first),ee(r=te())&&(o.currentQuestionCardRef=r.first),ee(r=te())&&(o.btnLeftRef=r.first),ee(r=te())&&(o.btnRightRef=r.first)}},inputs:{gameConfigUrl:"gameConfigUrl",currentQuestionId:"currentQuestionId",correctComboCount:"correctComboCount",maxQuizQuestionCount:"maxQuizQuestionCount"},outputs:{selectAnswerEvent:"selectAnswerEvent",finishGame:"finishGame"},standalone:!1,decls:29,vars:51,consts:[["game",""],["board",""],["dialogCorrectComponent",""],["dialogIncorrectComponent",""],["currentQuestionCard",""],["btnLeft",""],["btnRight",""],[1,"game"],[1,"correct-or-not"],[1,"question-counter"],[1,"board"],[1,"timer-container"],[1,"timer-border"],[1,"timer-bar"],[1,"timer-border","timer-border-ranks"],[1,"time-ranks"],[1,"time-rank"],[1,"line"],[1,"star-image"],[1,"swipe-left-right"],["alt","Swipe left or right","width","448","height","161",1,"swipe-left-right-img",3,"src"],[1,"button-container",3,"visible"],[2,"animation-duration","300ms"],[1,"dialog-animation-container"],[3,"clickShowAnswer","gameState","currentQuestion","correctComboCount"],[1,"dialog-animation-container",3,"animationend"],[3,"cancelDialog","gameState","currentQuestion"],[1,"question-count"],[1,"between-line",3,"background-color"],[1,"played","correct",3,"background-color"],[1,"played","not-correct",3,"background-color"],[1,"played","correct"],[1,"played-icon"],[1,"played","not-correct"],[1,"between-line"],[1,"current-question-card","container-golden",3,"scale-transition","left","top","width","min-height","scale","transform","background-color","border-radius","border-width","border-color","background-image"],[1,"current-question-card",3,"scale-transition","left","top","width","min-height","scale","transform","background-color","border-radius","border-width","border-color"],[1,"current-question-card","container-golden"],[1,"text-golden",3,"innerHTML"],[1,"current-question-card"],[3,"innerHTML"],[1,"button-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentHeight","btnContentPadding","btnRadius"],[1,"rectangle",3,"image-container"],[1,"circle"],[1,"rectangle"],[1,"image"],["appAutoFitFont","",1,"text",3,"heightPx","maxFontSize","minFontSize","innerHTML"],["alt","Not correct",1,"answer1",3,"src"],[1,"image","defined"],["alt","Not correct",1,"not-correct",3,"src"],["alt","correct",1,"answer1",3,"src"],["alt","correct",1,"correct",3,"src"]],template:function(i,o){i&1&&(C(0,"div",7,0),P(2,$3,2,2),C(3,"div",8)(4,"div",9),ct(5,X3,3,6,null,null,H3),v(),C(7,"p"),M(8),v()(),C(9,"div",10,1),P(11,tV,2,1),v(),C(12,"div",11)(13,"div",12),D(14,"div",13),v(),C(15,"div",14)(16,"div",15)(17,"div",16),D(18,"div",17)(19,"div",18),v(),C(20,"div",16),D(21,"div",17)(22,"div",18),v(),C(23,"div",16),D(24,"div",17)(25,"div",18),v()()()(),C(26,"div",19),D(27,"img",20),v(),P(28,lV,7,16,"div",21),v()),i&2&&(f(2),k(o.currentQuestion?2:-1),f(),se("visible",o.gameState!==o.GameStateEnum.init&&o.gameState!==o.GameStateEnum.incorrect&&o.gameState!==o.GameStateEnum.showAnswer&&!o.swipeYesNoService.signalIsEditorShowingCorrectScreen()),f(2),ut(o.swipeYesNoService.questionList),f(2),x("color",o.swipeYesNoService.signalQuestionColor()),f(),ae(o.swipeYesNoService.signalQuestionText()),f(3),k(o.currentQuestion&&!o.swipeYesNoService.signalIsEditorShowingCorrectScreen()?11:-1),f(),x("top",o.signalAnswerTimerPosY(),"px"),se("visible",o.swipeYesNoService.signalIsAnswerTimerRunning()&&!o.swipeYesNoService.signalIsEditorShowingCorrectScreen()),f(),x("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.colorBg:void 0)("border-radius",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.radius:void 0,"px")("border-width",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.border:void 0,"px")("border-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.borderColor:void 0),f(),x("width",o.swipeYesNoService.signalAnswerTimerFactor()*100,"%")("background-color",o.swipeYesNoService.signalTimeBarColor()),f(3),se("disabled",o.swipeYesNoService.signalRemainingTimeRank()<1&&o.swipeYesNoService.signalIsAnswerTimerRunning()),f(),x("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.fontColor:void 0),f(),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.fontColor:void 0),f(),se("disabled",o.swipeYesNoService.signalRemainingTimeRank()<2&&o.swipeYesNoService.signalIsAnswerTimerRunning()),f(),x("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.fontColor:void 0),f(),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.fontColor:void 0),f(),se("disabled",o.swipeYesNoService.signalRemainingTimeRank()<3&&o.swipeYesNoService.signalIsAnswerTimerRunning()),f(),x("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.fontColor:void 0),f(),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.timeBar.fontColor:void 0),f(),se("visible",o.swipeYesNoService.signalIsShowingSwipeImage()&&!o.swipeYesNoService.signalIsEditorShowingCorrectScreen()),f(),I("src",o.signalSwipeLeftRightImageUrl(),oi),f(),k(o.currentQuestion?28:-1))},dependencies:[Do,Ee,FD,LD,Oc,ge],styles:[".game[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;touch-action:none;pointer-events:none}.game[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;padding:60px 50px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center}.game[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:350px}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]{padding:30px 40px 0;text-align:center;font-size:.9em;opacity:0;transition:opacity .3s}.game[_ngcontent-%COMP%]   .correct-or-not.visible[_ngcontent-%COMP%]{opacity:.9}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;margin-bottom:35px}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count[_ngcontent-%COMP%]{border:3px #fff solid;border-radius:50%;width:35px;height:35px}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count.currently[_ngcontent-%COMP%]{border:6px #fff solid}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count[_ngcontent-%COMP%]   .played[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:50%;animation:_ngcontent-%COMP%_appear 2s ease;animation-iteration-count:1}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count[_ngcontent-%COMP%]   .played[_ngcontent-%COMP%]   .played-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-image:none;mask-image:none;-webkit-mask-size:60%;mask-size:60%}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count[_ngcontent-%COMP%]   .played.correct[_ngcontent-%COMP%]{background-color:#258f50db;-webkit-mask-size:72%;mask-size:72%}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count[_ngcontent-%COMP%]   .played.not-correct[_ngcontent-%COMP%]{background-color:#ba2727d1}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .question-count[_ngcontent-%COMP%]   .played.not-correct[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:60%;height:auto}@keyframes _ngcontent-%COMP%_appear{0%{scale:2;opacity:0;border:3px #fff solid}to{scale:1;opacity:1;border:0 #fff solid}}.game[_ngcontent-%COMP%]   .correct-or-not[_ngcontent-%COMP%]   .question-counter[_ngcontent-%COMP%]   .between-line[_ngcontent-%COMP%]{background-color:#fff;height:3px;width:15px}.game[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;width:100%;height:100%;pointer-events:auto}.game[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .current-question-card[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;pointer-events:none;font-size:.9em;padding:55px;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center;justify-content:center;transition:transform .1s;transform-style:preserve-3d;scale:0;will-change:left,top,scale;border-style:solid;border-radius:0;border-width:0}.game[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .current-question-card.scale-transition[_ngcontent-%COMP%]{transition:transform .1s,scale .35s}.game[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .current-question-card.show[_ngcontent-%COMP%]{scale:1}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]{position:absolute;left:0;top:913px;width:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center;pointer-events:none;opacity:0;transition:opacity .2s}.game[_ngcontent-%COMP%]   .timer-container.visible[_ngcontent-%COMP%]{opacity:1}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]{position:relative;width:820px;height:40px;margin:0 auto;background-color:#2b2b2b;border-style:solid;border-radius:0;border-width:0;overflow:hidden}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border.timer-border-ranks[_ngcontent-%COMP%]{background-color:transparent;top:-40px;overflow:visible}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .timer-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:40px;will-change:width,background-color;background-color:#fff4;background-repeat:no-repeat;background-position:center;background-size:cover}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .time-ranks[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:40px;line-height:1}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .time-ranks[_ngcontent-%COMP%]   .time-rank[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-left:205px}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .time-ranks[_ngcontent-%COMP%]   .time-rank.disabled[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{opacity:0}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .time-ranks[_ngcontent-%COMP%]   .time-rank.disabled[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]{opacity:0;scale:2}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .time-ranks[_ngcontent-%COMP%]   .time-rank[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:1px;height:40px;background-color:#fff;transition:opacity .3s ease-in-out}.game[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]   .timer-border[_ngcontent-%COMP%]   .time-ranks[_ngcontent-%COMP%]   .time-rank[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]{position:absolute;top:58px;left:-20px;font-size:1em;display:inline-block;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:cover;mask-size:cover;-webkit-mask-position:top;mask-position:top;background-color:#fff;width:40px;height:40px;transform-origin:center;transition:opacity .3s ease-in-out,scale .3s ease-in-out;animation:spin 10s linear infinite}.game[_ngcontent-%COMP%]   .swipe-left-right[_ngcontent-%COMP%]{position:absolute;left:0;bottom:320px;width:100%;text-align:center;opacity:0;transition:opacity .3s}.game[_ngcontent-%COMP%]   .swipe-left-right.visible[_ngcontent-%COMP%]{opacity:1}.game[_ngcontent-%COMP%]   .swipe-left-right[_ngcontent-%COMP%]   .swipe-left-right-img[_ngcontent-%COMP%]{width:auto;height:auto;min-width:100px;max-width:448px}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{position:absolute;left:0;bottom:100px;width:100%;padding:0 60px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start;pointer-events:none;opacity:0;transition:opacity .3s}.game[_ngcontent-%COMP%]   .button-container.visible[_ngcontent-%COMP%]{opacity:1}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:none}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .rectangle.image-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;height:300px}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:300px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:50%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:none;height:100%}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .image.defined[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:130px;max-height:130px}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:200px;max-height:200px;height:auto!important}"]})}}return n})();function uV(n,t){if(n&1&&D(0,"span",24),n&2){let e=y(4);x("mask-image",e.signalBtnCorrectImageUrl())}}function dV(n,t){if(n&1&&D(0,"span",25),n&2){let e=y(4);x("mask-image",e.signalBtnNotCorrectImageUrl())}}function fV(n,t){if(n&1&&P(0,uV,1,2,"span",22)(1,dV,1,2,"span",23),n&2){let e=y().$implicit;k(e.isSelectedCorrect?0:1)}}function gV(n,t){if(n&1&&D(0,"span",24),n&2){let e=y(4);x("mask-image",e.signalBtnCorrectImageUrl())}}function hV(n,t){if(n&1&&D(0,"span",25),n&2){let e=y(4);x("mask-image",e.signalBtnNotCorrectImageUrl())}}function mV(n,t){if(n&1&&P(0,gV,1,2,"span",22)(1,hV,1,2,"span",23),n&2){let e=y().$implicit;k(e.isSelectedCorrect?0:1)}}function pV(n,t){if(n&1&&(C(0,"span",26),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y(2);x("color",i.globalGameService.signalGameConfig()?i.globalGameService.signalGameConfig().screenQuiz.dialogResultScoreColor:void 0),f(),kt("+ ",A(2,4,"combo")," ",e.comboScore.toLocaleString(i.nativeTranslateService.currentLocale??"en-US"))}}function CV(n,t){if(n&1&&(C(0,"span",26),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y(2);x("color",i.globalGameService.signalGameConfig()?i.globalGameService.signalGameConfig().screenQuiz.dialogResultScoreColor:void 0),f(),kt("+ ",A(2,4,"time")," ",e.remainingTimeScore.toLocaleString(i.nativeTranslateService.currentLocale??"en-US")," ")}}function vV(n,t){if(n&1&&(C(0,"tr")(1,"td",16),M(2),C(3,"span",17),M(4),E(5,"nativeTranslate"),v(),C(6,"span",18),M(7),E(8,"nativeTranslate"),P(9,fV,2,1),v(),C(10,"span",18),M(11),E(12,"nativeTranslate"),P(13,mV,2,1),v()(),C(14,"td",19),M(15),P(16,pV,3,6,"span",20),P(17,CV,3,6,"span",20),v(),C(18,"td",21),M(19),v()()),n&2){let e=t.$implicit,i=t.$index,o=y(2);f(),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350-350),f(),z("",(i+1).toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," "),f(2),ae(A(5,28,e.questionLocalisationKey)),f(2),se("correct",e.isSelectedLeft&&e.isSelectedCorrect)("not-correct",e.isSelectedLeft&&!e.isSelectedCorrect),f(),z(" ",A(8,30,e.answerLeftLocalisationKey)," "),f(2),k(e.isSelectedLeft?9:-1),f(),se("correct",!e.isSelectedLeft&&e.isSelectedLeft!==null&&e.isSelectedCorrect)("not-correct",!e.isSelectedLeft&&e.isSelectedLeft!==null&&!e.isSelectedCorrect),f(),z(" ",A(12,32,e.answerRightLocalisationKey)," "),f(2),k(!e.isSelectedLeft&&e.isSelectedLeft!==null?13:-1),f(),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350-250),f(),z(" ",e.score.toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," "),f(),k(e.comboScore>0?16:-1),f(),k(e.remainingTimeScore>0?17:-1),f(),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350)("startCallback",o.onScoreArrive),f(),z("",e.totalScore.toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," ")}}function yV(n,t){if(n&1&&(C(0,"table",8)(1,"tr")(2,"th",13),M(3),E(4,"nativeTranslate"),v(),C(5,"th",14),M(6),E(7,"nativeTranslate"),v(),C(8,"th",15),M(9),E(10,"nativeTranslate"),v()(),ct(11,vV,20,34,"tr",null,Fn),v()),n&2){let e=y();f(3),ae(A(4,3,"question")),f(3),z("",A(7,5,"score")," "),f(3),ae(A(10,7,"total")),f(2),ut(e.topicQuestionResultList)}}function _V(n,t){if(n&1&&(C(0,"span",31),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y(2);x("color",i.globalGameService.signalGameConfig()?i.globalGameService.signalGameConfig().screenQuiz.dialogResultScoreColor:void 0),f(),kt("+ ",A(2,4,"combo")," ",e.comboScore.toLocaleString(i.nativeTranslateService.currentLocale??"en-US"))}}function bV(n,t){if(n&1&&(C(0,"span",31),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y(2);x("color",i.globalGameService.signalGameConfig()?i.globalGameService.signalGameConfig().screenQuiz.dialogResultScoreColor:void 0),f(),kt("+ ",A(2,4,"time")," ",e.remainingTimeScore.toLocaleString(i.nativeTranslateService.currentLocale??"en-US")," ")}}function SV(n,t){if(n&1&&(C(0,"tr")(1,"td",29),M(2),v(),C(3,"td",19),M(4),P(5,_V,3,6,"span",30),P(6,bV,3,6,"span",30),v(),C(7,"td",21),M(8),v()()),n&2){let e=t.$implicit,i=t.$index,o=y(2);x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResultScoreColor:void 0),f(),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350-350),f(),z("",(i+1).toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," "),f(),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350-250),f(),z(" ",e.score.toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," "),f(),k(e.comboScore>0?5:-1),f(),k(e.remainingTimeScore>0?6:-1),f(),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350)("startCallback",o.onScoreArrive),f(),z("",e.totalScore.toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," ")}}function wV(n,t){if(n&1&&(C(0,"table",8)(1,"tr")(2,"th",27),M(3),E(4,"nativeTranslate"),v(),C(5,"th",14),M(6),E(7,"nativeTranslate"),v(),C(8,"th",15),M(9),E(10,"nativeTranslate"),v()(),ct(11,SV,9,17,"tr",28,Fn),v()),n&2){let e=y();f(3),ae(A(4,3,"question")),f(3),z("",A(7,5,"score")," "),f(3),ae(A(10,7,"total")),f(2),ut(e.topicQuestionResultList)}}function MV(n,t){if(n&1&&(C(0,"div",32),M(1),v()),n&2){let e=y();x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenQuiz.dialogResultScoreColor:void 0),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",e.topicQuestionResultList.length*350)("startCallback",e.onScoreArrive),f(),z("",e.roundScore.toLocaleString(e.nativeTranslateService.currentLocale??"en-US")," ")}}function xV(n,t){if(n&1&&(M(0),E(1,"nativeTranslate")),n&2){let e=y();z(" ",A(1,1,e.wasLastGame?"end-game":"continue")," ")}}function TV(n,t){if(n&1&&(M(0),E(1,"nativeTranslate")),n&2){let e=y();z(" ",A(1,1,e.wasLastGame?"end-game":"continue")," ")}}var VD=(()=>{class n{constructor(){this.globalGameService=p(ye),this.nativeTranslateService=p(Fe),this.initService=p(de),this.soundService=p(Ce),this.imageLoadService=p(we),this.cancelDialog=new Z,this.signalStarImageUrl=w("none"),this.signalBtnCorrectImageUrl=w("none"),this.signalBtnNotCorrectImageUrl=w("none"),this.onScoreArrive=()=>{this.soundService.playSound(V.scoreArrive,!0)}}ngOnInit(){let e=this.imageLoadService.getImage("starImage");e&&this.signalStarImageUrl.set(`url('${e.src}')`),e=this.imageLoadService.getImage("swipeYesNoBtnCorrectImage"),e&&this.signalBtnCorrectImageUrl.set(`url('${e.src}')`),e=this.imageLoadService.getImage("swipeYesNoBtnNotCorrectImage"),e&&this.signalBtnNotCorrectImageUrl.set(`url('${e.src}')`)}onClickClose(e){this.soundService.playSound(V.click,!0),this.soundService.playSound(V.modalFadeOut,!0),this.cancelDialog.emit(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-task-solved"]],inputs:{runtime:"runtime",topicQuestionResultList:"topicQuestionResultList",roundScore:"roundScore",totalScore:"totalScore",wasLastGame:"wasLastGame",showAllQuizQuestions:"showAllQuizQuestions"},outputs:{cancelDialog:"cancelDialog"},standalone:!1,decls:23,vars:36,consts:[[1,"dialog-container","dialog-task-solved"],[1,"dialog","scrollbar"],[1,"dialog-header"],[1,"dialog-title"],[1,"star-image"],[1,"title"],[1,"dialog-body","font-secondary"],[1,"bonus"],[1,"table"],[1,"result"],[3,"appTimeoutClass","fromClass","timeout","startCallback","color"],[1,"dialog-footer","justify-content-center"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnContentPadding","btnContentFontSize"],[1,"text-start"],[1,"text-start","col-bg",2,"padding-left","20px"],[1,"text-end"],[1,"text-start",3,"appTimeoutClass","fromClass","timeout"],[2,"display","block","font-size","3rem","color","inherit","background-color","inherit"],[1,"question-answer"],[1,"text-start","col-bg",2,"padding-left","20px",3,"appTimeoutClass","fromClass","timeout"],[1,"col-add","d-block",3,"color"],[1,"text-end",3,"appTimeoutClass","fromClass","timeout","startCallback"],[1,"correct",3,"mask-image"],[1,"not-correct",3,"mask-image"],[1,"correct"],[1,"not-correct"],[1,"col-add","d-block"],[1,"text-center"],[3,"color"],[1,"text-center",3,"appTimeoutClass","fromClass","timeout"],[1,"col-add",3,"color"],[1,"col-add"],[3,"appTimeoutClass","fromClass","timeout","startCallback"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),D(4,"div",4),C(5,"div",5)(6,"div"),M(7),E(8,"nativeTranslate"),v()(),D(9,"div",4),v()(),C(10,"div",6)(11,"div",7),P(12,yV,13,9,"table",8)(13,wV,13,9,"table",8),v(),C(14,"div",9)(15,"div"),M(16),E(17,"nativeTranslate"),v(),P(18,MV,2,7,"div",10),v()(),C(19,"div",11)(20,"app-base-button",12),N("clickButton",function(){return o.onClickClose(!0)}),P(21,xV,2,3)(22,TV,2,3),v()()()()),i&2&&(f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResult.fontColor:void 0)("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResult.colorBg:void 0)("border-radius",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResult.radius:void 0,"px")("border-width",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResult.border:void 0,"px")("border-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResult.borderColor:void 0),f(3),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResultStarColor:void 0),f(),x("border-bottom-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResultStarColor:void 0),f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResultTitleColor:void 0),f(),ae(A(8,32,o.roundScore>0?"great":"too-bad")),f(2),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.dialogResultStarColor:void 0),f(3),k(o.showAllQuizQuestions?12:13),f(4),z("",A(17,34,"round-result"),":"),f(2),k(o.topicQuestionResultList.length>0?18:-1),f(2),I("configBtn",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenQuiz.btnDialogResult:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentPadding","15px 10px")("btnContentFontSize","56px"),f(),k(o.totalScore>0?21:22))},dependencies:[Br,Ee,ge],styles:[".dialog-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:auto;z-index:1;background-color:#0000004d;touch-action:none;will-change:scale}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:relative;width:90%;background-color:#0009;padding:70px 15px;margin:0 auto;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center;max-height:1920px;overflow-x:clip;overflow-y:auto}.dialog-container[_ngcontent-%COMP%]   .dialog.shake[_ngcontent-%COMP%]{animation:shake .5s;animation-iteration-count:infinite}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.9em;padding:5% 0 7%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center;width:100%;padding:20px 50px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;font-size:1.5em;text-align:center;border-bottom:2px solid #fff;padding:25px 80px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]{font-size:1em;display:inline-block;background-color:#fff;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;width:80px;height:80px;transform-origin:center;animation:spin 10s linear infinite}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]:last-child{animation-direction:reverse}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .game-time[_ngcontent-%COMP%]{font-size:20px;font-weight:500;display:block;text-align:center}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{overflow-wrap:break-word;font-size:24px;padding:20px 50px;width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]{padding:10px 0;margin-bottom:20px;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:32px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0;text-align:center;position:relative}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]{display:block;font-size:3rem;color:inherit;background-color:inherit}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .not-correct[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .not-correct[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;background-color:red}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .question-answer[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{background-color:green}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .col-add[_ngcontent-%COMP%]{position:relative;white-space:nowrap;top:-5px;left:0;font-size:26px;color:#c2e4e4;background-color:transparent}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{padding:10px 20px;display:flex;justify-content:space-between;align-items:center;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{padding:10px 20px;display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:56px;margin-bottom:20px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{padding:30px 40px;width:100%}.pre-timeout-ani01[_ngcontent-%COMP%]{opacity:0}.timeout-ani01[_ngcontent-%COMP%]{will-change:scale,opacity;animation:_ngcontent-%COMP%_appear 1s ease-in-out}@keyframes _ngcontent-%COMP%_appear{0%{scale:1.6;opacity:0}to{scale:1;opacity:1}}"]})}}return n})();var IV=["splitHalfFirst"];function EV(n,t){n&1&&Mc(0)}function PV(n,t){n&1&&Mc(0)}function kV(n,t){if(n&1){let e=ne();C(0,"button",6),N("click",function(){O(e);let o=y();return R(o.toggle())}),M(1,"Test "),v()}}var yl=(()=>{class n{constructor(){this.backgroundColor="#d4d4d442",this.backgroundImageUrl="none",this.splitScreenAnimationType=Qt.diagonalLeftToRight,this.isDebug=!1,this.aniSplitScreenTitleService=p(Fr),this.changeDetectorRef=p(Ve),this.signalIsOpen=w(!1),this.signalHasTransition=w(!1),this.signalSplitScreenAnimationClass=w(Qt[this.splitScreenAnimationType]),this.transitionEnd=this.onTransitionEnd.bind(this),this.eventSubscription=null,this.restartTimeoutSubscription=null}get isOpen(){return this.signalIsOpen()}ngAfterViewInit(){this.splitHalfFirst.nativeElement.addEventListener("transitionend",this.transitionEnd),this.signalSplitScreenAnimationClass.set(Qt[this.splitScreenAnimationType]),this.eventSubscription=this.aniSplitScreenTitleService.eventEmitter.subscribe(()=>{this.signalHasTransition.set(!1),this.signalIsOpen.set(!1),this.restartTimeoutSubscription?.unsubscribe(),this.changeDetectorRef.detectChanges(),this.restartTimeoutSubscription=K.setTimeout(()=>{this.restartTimeoutSubscription=null,this.toggle()},1e3)})}ngOnChanges(e){"splitScreenAnimationType"in e&&this.signalSplitScreenAnimationClass.set(Qt[e.splitScreenAnimationType.currentValue])}ngOnDestroy(){this.splitHalfFirst&&this.splitHalfFirst.nativeElement.removeEventListener("transitionend",this.transitionEnd),this.eventSubscription&&(this.eventSubscription.unsubscribe(),this.eventSubscription=null),this.restartTimeoutSubscription&&(this.restartTimeoutSubscription.unsubscribe(),this.restartTimeoutSubscription=null)}toggle(){this.signalIsOpen.set(!this.signalIsOpen()),this.signalHasTransition.set(!0)}onTransitionEnd(e){e.propertyName==="transform"&&this.signalHasTransition.set(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-ani-split-screen-title"]],contentQueries:function(i,o,r){if(i&1&&Hf(r,br,5),i&2){let s;ee(s=te())&&(o.contentTemplate=s.first)}},viewQuery:function(i,o){if(i&1&&ie(IV,5),i&2){let r;ee(r=te())&&(o.splitHalfFirst=r.first)}},inputs:{backgroundColor:"backgroundColor",backgroundImageUrl:"backgroundImageUrl",splitScreenAnimationType:"splitScreenAnimationType"},features:[Pe],decls:7,vars:23,consts:[["splitHalfFirst",""],[1,"split-screen-container"],[1,"split-half","first"],[4,"ngTemplateOutlet"],[1,"split-half","second"],["type","button",1,"btn","btn-primary",2,"position","absolute","bottom","10px","left","10px","z-index","1"],["type","button",1,"btn","btn-primary",2,"position","absolute","bottom","10px","left","10px","z-index","1",3,"click"]],template:function(i,o){i&1&&(C(0,"div",1)(1,"div",2,0),Wo(3,EV,1,0,"ng-container",3),v(),C(4,"div",4),Wo(5,PV,1,0,"ng-container",3),v()(),P(6,kV,2,0,"button",5)),i&2&&(f(),Pa(o.signalSplitScreenAnimationClass()),x("background-color",o.backgroundColor)("background-image",o.backgroundImageUrl),se("open",o.signalIsOpen())("has-transition",o.signalHasTransition()),f(2),I("ngTemplateOutlet",o.contentTemplate),f(),Pa(o.signalSplitScreenAnimationClass()),x("background-color",o.backgroundColor)("background-image",o.backgroundImageUrl),se("open",o.signalIsOpen())("has-transition",o.signalHasTransition()),f(),I("ngTemplateOutlet",o.contentTemplate),f(),k(o.isDebug?6:-1))},dependencies:[gi,Rt,uv],styles:[".split-screen-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden;pointer-events:none}.split-screen-container[_ngcontent-%COMP%]   .split-half[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;transform:translate(0);background-color:#d4d4d442;background-image:none;background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center}.split-screen-container[_ngcontent-%COMP%]   .split-half.has-transition[_ngcontent-%COMP%]{transition:transform 1.5s ease-in-out}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalLeftToRight.first.has-transition[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,100% 100%,100% 100%,100% 0)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalLeftToRight.first.open[_ngcontent-%COMP%]{transform:translate(200%,-200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalLeftToRight.second.has-transition[_ngcontent-%COMP%]{clip-path:polygon(0 0,100% 100%,100% 100%,0% 100%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalLeftToRight.second.open[_ngcontent-%COMP%]{transform:translate(-200%,200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalRightToLeft.first.has-transition[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,0% 100%,0% 100%,100% 0)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalRightToLeft.first.open[_ngcontent-%COMP%]{transform:translate(-200%,-200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalRightToLeft.second.has-transition[_ngcontent-%COMP%]{clip-path:polygon(100% 0,100% 100%,100% 100%,0% 100%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.diagonalRightToLeft.second.open[_ngcontent-%COMP%]{transform:translate(200%,200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.horizontal.first.has-transition[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,0% 100%,50% 100%,50% 0)}.split-screen-container[_ngcontent-%COMP%]   .split-half.horizontal.first.open[_ngcontent-%COMP%]{transform:translate(-200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.horizontal.second.has-transition[_ngcontent-%COMP%]{clip-path:polygon(50% 0,100% 0%,100% 100%,50% 100%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.horizontal.second.open[_ngcontent-%COMP%]{transform:translate(200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.vertical.first.has-transition[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,100% 0%,100% 50%,0% 50%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.vertical.first.open[_ngcontent-%COMP%]{transform:translateY(-200%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.vertical.second.has-transition[_ngcontent-%COMP%]{clip-path:polygon(0% 50%,100% 50%,100% 100%,0% 100%)}.split-screen-container[_ngcontent-%COMP%]   .split-half.vertical.second.open[_ngcontent-%COMP%]{transform:translateY(200%)}"]})}}return n})();var OV=["swipeYesNoComponent"],RV=["aniSplitScreenTitleComponent"];function AV(n,t){if(n&1){let e=ne();C(0,"app-swipe-yes-no",5,1),N("selectAnswerEvent",function(o){O(e);let r=y();return R(r.selectAnswerEvent(o))})("finishGame",function(o){O(e);let r=y();return R(r.onFinishGame(o.isSuccess,o.runtime))}),v()}if(n&2){let e=y();I("gameConfigUrl",e.gameService.currentTopic.url)("currentQuestionId",e.currentQuestionId)("correctComboCount",e.signalCorrectComboCount())("maxQuizQuestionCount",e.signalMaxQuizQuestionCount())}}function NV(n,t){if(n&1&&(D(0,"h1",6),E(1,"nativeTranslate")),n&2){let e=y();I("heightPx",390)("maxFontSize",52)("minFontSize",30)("innerHTML",an(1,4,e.signalCategoryKeyName(),null,null,!0),Le)}}function BV(n,t){if(n&1){let e=ne();C(0,"div",4),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-task-solved",7),N("cancelDialog",function(){O(e);let o=y();return R(o.exit())}),v()()}if(n&2){let e=y();f(),I("runtime",e.runtime)("topicQuestionResultList",e.gameService.topicQuestionResultList)("roundScore",e.gameService.getTotalTopicQuestionScore())("totalScore",e.userGameService.signalGameScore().score)("wasLastGame",e.wasLastGame)("showAllQuizQuestions",!1)}}var bh=class n_{constructor(){this.gameService=p(ye),this.userGameService=p(zt),this.initService=p(de),this.userBackendService=p(BD),this.gameCoinsService=p(Pi),this.gameHeaderService=p(Mo),this.aniSplitScreenTitleService=p(Fr),this.soundService=p(Ce),this.imageLoadService=p(we),this.currentQuestionId=null,this.signalCategoryKeyName=w("test"),this.signalCorrectComboCount=w(0),this.signalSplitScreenAnimationType=w(Qt.diagonalLeftToRight),this.signalSplitScreenColorBg=w(g.quizGameDefaultSplitScreenColorBg),this.signalSplitScreenBackgroundImage=w("none"),this.signalIsShowingTaskSolvedDialog=w(!1),this.signalMaxQuizQuestionCount=w(g.maxQuizQuestionCount),this.backgroundSoundTimeoutSubscription=null,this.finishGameTimeoutSubscription=null,this.splitScreenRestartEventSubscription=null,this.runtime=0,this.wasLastGame=!1,this.SplitScreenAnimationTypeEnum=Qt;let t=this.userBackendService;this.currentQuestionId=t.signalUserBackend()&&t.signalUserBackend()?.meta?t.signalUserBackend().meta:null}ngOnInit(){let t=V.mainMusic01;this.gameService.signalGameConfig()&&this.signalMaxQuizQuestionCount.set(this.gameService.signalGameConfig().maxQuizQuestionCount),this.gameService.currentTopic?this.signalCategoryKeyName.set("quiz-"+this.gameService.currentTopic.name):(this.gameService.init(),this.gameService.setCurrentTopic(g.startQuiz)),this.soundService.fadeOutSound(V.introMusic,2e3),this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.playBackgroundSound(t)},1600),this.updateSplitScreenBg("start"),this.splitScreenRestartEventSubscription=this.aniSplitScreenTitleService.eventEmitter.subscribe(e=>{this.updateSplitScreenBg(e)})}ngAfterViewInit(){K.setTimeout(()=>{this.soundService.playSound(V.modalFadeOut,!0),this.aniSplitScreenTitleComponent?.toggle(),this.gameService.setIsGameRunning(!0),this.swipeYesNoComponent?.startGame()},1600)}ngOnDestroy(){this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.finishGameTimeoutSubscription&&(this.finishGameTimeoutSubscription.unsubscribe(),this.finishGameTimeoutSubscription=null),this.splitScreenRestartEventSubscription&&(this.splitScreenRestartEventSubscription.unsubscribe(),this.splitScreenRestartEventSubscription=null)}updateSplitScreenBg(t){let e=null,i=null,o=null;t!=="restart"&&(this.gameService.currentTopic?.categorySplitScreenConfig?.animationType&&(e=this.gameService.currentTopic.categorySplitScreenConfig.animationType),this.gameService.currentTopic?.categorySplitScreenConfig?.backgroundColor&&(i=this.gameService.currentTopic.categorySplitScreenConfig.backgroundColor),this.gameService.currentTopic?.categorySplitScreenConfig?.backgroundImageUrl&&(o=this.imageLoadService.getImage(this.gameService.currentTopic.name+"SplitScreenBgImage"))),e||(e=this.gameService.signalGameConfig()?.splitScreenAnimationType??Qt.diagonalLeftToRight),this.signalSplitScreenAnimationType.set(e),i||(i=this.gameService.signalGameConfig()?.splitScreenColorBg??"#d4d4d442"),this.signalSplitScreenColorBg.set(i),!o&&!this.gameService.currentTopic?.categorySplitScreenConfig&&(o=this.imageLoadService.getImage("splitScreenBgImage")),o?this.signalSplitScreenBackgroundImage.set(`url('${o.src}')`):this.signalSplitScreenBackgroundImage.set("none")}selectAnswerEvent(t){if(g.isDebugConsole&&console.log(t),t.isSelectedCorrect){let i=250,o=10;this.gameService.currentQuestionIndex===this.gameService.goldenQuestionIndex&&(i=500,o=30);let r=i,s=0,a;t.remainingTimeRank===3?(a="superschnell",s=50):t.remainingTimeRank===2?(a="schnell",s=25):t.remainingTimeRank===1?(a="mittel-schnell",s=10):a="langsam",s+=Math.round(150*t.remainingTimeFactor),r+=s,g.isDebugConsole&&console.log(a,"remainingTimeFactor:",t.remainingTimeFactor,"remainingTimeScore:",s,"totalScore",r);let l=new yu(this.gameService.signalQuizNumber(),i,s,0,r,t.remainingTimeFactor,t.isLeftCorrect,t.isSelectedLeft,t.isSelectedCorrect,t.categoryLocalisationKey,t.questionLocalisationKey,t.feedbackLocalisationKey,t.answerLeftLocalisationKey,t.answerRightLocalisationKey);this.gameService.addTopicQuestionScore(l),this.userGameService.addScore(r);let c=784,u=54;t.remainingTimeFactor>2/3&&t.superfastPosition&&this.gameCoinsService.start(t.superfastPosition.x,t.superfastPosition.y,c,u,4,null,null),this.gameHeaderService.prepareGameScore(this.userGameService.signalGameScore().score),this.gameCoinsService.start(t.btnPosition.x,t.btnPosition.y,c,u,o,()=>{this.gameHeaderService.updateGameScore()},()=>{});let d=this.gameService.getCorrectComboCount();if(d>=g.minCorrectComboCount){this.signalCorrectComboCount.set(d);let m;m=100,this.gameService.updateLastTopicQuestionComboScore(m),this.userGameService.addScore(m),t.comboPosition&&(this.gameHeaderService.prepareGameScore(this.userGameService.signalGameScore().score),this.gameCoinsService.start(t.comboPosition.x,t.comboPosition.y,c,u,4,()=>{this.gameHeaderService.updateGameScore()},null))}}else{let i=new yu(this.gameService.signalQuizNumber(),0,0,0,0,t.remainingTimeFactor,t.isLeftCorrect,t.isSelectedLeft,t.isSelectedCorrect,t.categoryLocalisationKey,t.questionLocalisationKey,t.feedbackLocalisationKey,t.answerLeftLocalisationKey,t.answerRightLocalisationKey);this.gameService.addTopicQuestionScore(i),this.signalCorrectComboCount.set(0)}let e=this.gameService.getCorrectGameQuestionsRate();this.userGameService.setCorrectRate(e)}onFinishGame(t,e){g.isDebugConsole&&console.log("onFinishGame quiz:",this.gameService.signalQuizNumber(),"isSuccess:",t);let i=this.gameService.signalGameConfig()?this.gameService.signalGameConfig().maxQuizRoundCount:g.maxQuizRoundCount,o=this.gameService.signalQuizNumber()>=i;this.finishGameTimeoutSubscription=K.setTimeout(()=>{this.finishGameTimeoutSubscription=null,this.gameService.setIsGameRunning(!1),this.runtime=e,this.wasLastGame=o,this.signalIsShowingTaskSolvedDialog.set(!0),this.soundService.playSound("modalFadeIn",!0)},100)}exit(){this.signalIsShowingTaskSolvedDialog.set(!1),this.soundService.playSound("modalFadeOut",!0),K.setTimeout(()=>{(!g.areMultiplierGames||this.userGameService.signalGameScore().score>0)&&g.areMiniGamesEnabled&&(!this.gameService.signalGameConfig()||this.gameService.signalGameConfig().activeMiniGames.length>0)?(this.gameService.setNextMultiplierGame(),this.initService.navigateToRoute(G.gameMultiplier).then()):this.wasLastGame?this.gameService.finishGameFully():(this.gameService.setQuizNumber(this.gameService.signalQuizNumber()+1),this.initService.navigateToRoute(G.gameTopic).then())},500)}static{this.\u0275fac=function(e){return new(e||n_)}}static{this.\u0275cmp=W({type:n_,selectors:[["app-game-page"]],viewQuery:function(e,i){if(e&1&&(ie(OV,5),ie(RV,5)),e&2){let o;ee(o=te())&&(i.swipeYesNoComponent=o.first),ee(o=te())&&(i.aniSplitScreenTitleComponent=o.first)}},standalone:!1,decls:5,vars:5,consts:[["aniSplitScreenTitleComponent",""],["swipeYesNoComponent",""],[3,"gameConfigUrl","currentQuestionId","correctComboCount","maxQuizQuestionCount"],[3,"backgroundColor","backgroundImageUrl","splitScreenAnimationType"],[1,"dialog-animation-container"],[3,"selectAnswerEvent","finishGame","gameConfigUrl","currentQuestionId","correctComboCount","maxQuizQuestionCount"],["appAutoFitFont","",1,"split-screen-title",3,"heightPx","maxFontSize","minFontSize","innerHTML"],[3,"cancelDialog","runtime","topicQuestionResultList","roundScore","totalScore","wasLastGame","showAllQuizQuestions"]],template:function(e,i){e&1&&(P(0,AV,2,4,"app-swipe-yes-no",2),C(1,"app-ani-split-screen-title",3,0),Wo(3,NV,2,9,"ng-template"),v(),P(4,BV,2,6,"div",4)),e&2&&(k(i.gameService.currentTopic?0:-1),f(),I("backgroundColor",i.signalSplitScreenColorBg())("backgroundImageUrl",i.signalSplitScreenBackgroundImage())("splitScreenAnimationType",i.signalSplitScreenAnimationType()),f(3),k(i.signalIsShowingTaskSolvedDialog()?4:-1))},dependencies:[GD,VD,Do,yl,ge],styles:[".split-screen-title[_ngcontent-%COMP%]{padding:12px 35px;width:450px;height:450px;scale:2.5;text-align:center;line-height:1.5;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;margin-bottom:215px;margin-right:21px}"],changeDetection:0})}};bh=Kt([nn()],bh);var FV=["board"],LV=["betLine"],GV=["betPoint"],HD=(()=>{class n{constructor(){this.score=0,this.changeBetScore=new Z,this.signalBetPosX=w(0),this.signalBetFactor=w(0),this.signalBetScore=w(0),this.dragStartX=0,this.mouseDown=this.onMouseDown.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseMove=this.onMouseMove.bind(this),this.touchElementTouchStart=this.onTouchElementTouchStart.bind(this),this.touchStart=this.onTouchStart.bind(this),this.touchMove=this.onTouchMove.bind(this),this.touchEnd=this.onTouchEnd.bind(this),this.touchCancel=this.onTouchCancel.bind(this)}ngAfterViewInit(){this.init()}ngOnDestroy(){this.removeEventListeners()}addEventListeners(){this.betPoint.nativeElement.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousemove",this.mouseMove),this.touchElement.addEventListener("touchstart",this.touchElementTouchStart,{passive:!1}),this.betPoint.nativeElement.addEventListener("touchstart",this.touchStart),window.addEventListener("touchmove",this.touchMove),window.addEventListener("touchend",this.touchEnd),window.addEventListener("touchcancel",this.touchCancel)}removeEventListeners(){this.betPoint?.nativeElement.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("mousemove",this.mouseMove),this.touchElement?.removeEventListener("touchstart",this.touchElementTouchStart),this.betPoint?.nativeElement.removeEventListener("touchstart",this.touchStart),window.removeEventListener("touchmove",this.touchMove),window.removeEventListener("touchend",this.touchEnd),window.removeEventListener("touchcancel",this.touchCancel)}init(){this.touchElement=this.board.nativeElement,this.addEventListeners()}onClickChangeBet(e){e?this.signalBetScore()<this.score&&this.signalBetScore.set(this.signalBetScore()+1):this.signalBetScore()>0&&this.signalBetScore.set(this.signalBetScore()-1),this.signalBetFactor.set(this.signalBetScore()/this.score);let i=this.betLine.nativeElement.clientWidth;this.signalBetPosX.set(this.signalBetFactor()*i),this.changeBetScore.emit(this.signalBetScore())}onTouchElementTouchStart(e){e.preventDefault()}onMouseDown(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onDown(i)}onTouchStart(e){if(e.stopImmediatePropagation(),e.preventDefault(),e.touches.length<=0)return;let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onDown(o)}onDown(e){this.dragStartX=e.x-this.signalBetPosX()*this.getScale()}onMouseUp(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onUp(i)}onTouchEnd(e){e.stopImmediatePropagation();let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onUp(o)}onTouchCancel(e){e.stopImmediatePropagation(),e.preventDefault(),this.dragStartX=null}onUp(e){this.dragStartX=null}onMouseMove(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onMove(i)}onTouchMove(e){e.stopImmediatePropagation(),e.preventDefault();let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onMove(o)}onMove(e){if(this.dragStartX){let i=this.betLine.nativeElement.clientWidth,o=(e.x-this.dragStartX)/this.getScale();o=Math.max(0,o),o=Math.min(i,o),this.signalBetPosX.set(o),this.signalBetFactor.set(o/i),this.signalBetScore.set(Math.round(this.signalBetFactor()*this.score)),this.changeBetScore.emit(this.signalBetScore())}}getMousePos(e,i){let o=null,r=null;if(e instanceof MouseEvent)o=e.clientX,r=e.clientY;else if(e instanceof TouchEvent){let s=Array.from(e.changedTouches);for(let a of s)a.identifier===i&&(o=a.clientX,r=a.clientY)}return o&&r?{x:o,y:r}:null}getScale(){return this.board.nativeElement.getBoundingClientRect().width/this.board.nativeElement.clientWidth}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-betting"]],viewQuery:function(i,o){if(i&1&&(ie(FV,5),ie(LV,5),ie(GV,5)),i&2){let r;ee(r=te())&&(o.board=r.first),ee(r=te())&&(o.betLine=r.first),ee(r=te())&&(o.betPoint=r.first)}},inputs:{score:"score"},outputs:{changeBetScore:"changeBetScore"},standalone:!1,decls:11,vars:4,consts:[["board",""],["betLine",""],["betPoint",""],[1,"board"],[1,"bet-line"],[1,"bet-point"],[1,"btn-container"],["type","button",1,"btn","btn-minus",3,"click","disabled"],["type","button",1,"btn","btn-plus",3,"click","disabled"]],template:function(i,o){if(i&1){let r=ne();C(0,"div",3,0)(2,"div",4,1),D(4,"div",5,2),v(),C(6,"div",6)(7,"button",7),N("click",function(){return O(r),R(o.onClickChangeBet(!1))}),M(8,"- "),v(),C(9,"button",8),N("click",function(){return O(r),R(o.onClickChangeBet(!0))}),M(10,"+ "),v()()()}i&2&&(f(4),x("left",o.signalBetPosX(),"px"),f(3),I("disabled",o.signalBetScore()<=0),f(2),I("disabled",o.signalBetScore()>=o.score))},styles:[".board[_ngcontent-%COMP%]{width:100%}.board[_ngcontent-%COMP%]   .bet-line[_ngcontent-%COMP%]{position:relative;margin:50px auto;width:80%;height:10px;background-color:#ffffff63}.board[_ngcontent-%COMP%]   .bet-line[_ngcontent-%COMP%]   .bet-point[_ngcontent-%COMP%]{position:absolute;width:35px;height:35px;background-color:#fff;border-radius:50%;top:0;left:0;transform:translate(-50%,-10px);cursor:pointer;pointer-events:auto;touch-action:auto}.board[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-around;align-items:center}.board[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn-plus[_ngcontent-%COMP%], .board[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn-minus[_ngcontent-%COMP%]{color:#fff;width:100px;height:100px;border:1px solid #fff;font-size:100px;line-height:1;padding:0}.board[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn-plus[_ngcontent-%COMP%]:disabled, .board[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .btn-minus[_ngcontent-%COMP%]:disabled{opacity:.5}"]})}}return n})();var UD=(()=>{class n{constructor(){this.gameService=p(ye),this.userGameService=p(zt),this.initService=p(de),this.score=0,this.signalBetScore=w(0),this.score=this.userGameService.signalGameScore().score||100}onChangeBetScore(e){this.signalBetScore.set(e)}onClickContinue(){this.gameService.setNextMultiplierGame(),this.initService.navigateToRoute(G.gameMultiplier).then()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-betting-page"]],standalone:!1,decls:9,vars:6,consts:[[3,"changeBetScore","score"],["type","button",3,"click"]],template:function(i,o){i&1&&(C(0,"div"),M(1),v(),C(2,"app-game-betting",0),N("changeBetScore",function(s){return o.onChangeBetScore(s)}),v(),C(3,"div"),M(4),v(),C(5,"div")(6,"button",1),N("click",function(){return o.onClickContinue()}),M(7),E(8,"nativeTranslate"),v()()),i&2&&(f(),z("Score: ",o.score),f(),I("score",o.score),f(2),z("Bet score: ",o.signalBetScore()),f(3),z(" ",A(8,4,"start-multiplier")," "))},dependencies:[HD,ge],encapsulation:2})}}return n})();var le=(()=>{class n{static{this.sizeFactor=2.85}static{this.maxPressTime=0}static{this.isAutomaticLeftRightMovement=!0}static{this.isUsingImages=!1}}return n})();var Sh=class{constructor(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o,this.isOpen=!1,this.openTime=0,this.isDragging=!1,this.dragPosX=0,this.isMovingLeft=!1,this.oldX=t,this.oldY=e}open(t=300){this.isOpen=!0,this.openTime=t}update(t){this.openTime>0&&(this.openTime-=t,this.openTime<=0&&(this.isOpen=!1,this.openTime=0)),le.isAutomaticLeftRightMovement&&(this.isMovingLeft?(this.x-=.3*t,this.x<=135&&(this.isMovingLeft=!1)):(this.x+=.3*t,this.x>=840&&(this.isMovingLeft=!0)))}};var wh=class{constructor(t,e,i,o,r,s){this.x=t,this.y=e,this.dx=i,this.dy=o,this.radius=r,this.angle=s,this.isColLeft=!1,this.isColRight=!1,this.isReleased=!1,this.diffX=0,this.oldX=t,this.oldY=e}update(t){this.oldX=this.x,this.oldY=this.y,this.dx>0?(this.dx-=.02*le.sizeFactor,this.dx=Math.max(0,this.dx)):this.dx<0&&(this.dx+=.02*le.sizeFactor,this.dx=Math.min(0,this.dx)),this.dy+=.1*le.sizeFactor,this.dy<0&&(this.dy+=.1*le.sizeFactor,this.dy=Math.min(0,this.dy)),this.x+=this.dx*t*.1*le.sizeFactor,this.y+=this.dy*t*.1*le.sizeFactor,this.angle+=this.dx*this.dy*t*.01*le.sizeFactor}};var Mh=class{constructor(t,e,i,o,r,s,a,l,c){this.x=t,this.y=e,this.width=i,this.height=o,this.points=r,this.isColLeft=s,this.isColRight=a,this.collisionTime=l,this.finishTime=c,this.isTestingCollision=!1}update(t){this.collisionTime>0&&(this.collisionTime-=t,this.collisionTime=Math.max(0,this.collisionTime)),this.finishTime>0&&(this.finishTime-=t,this.finishTime=Math.max(0,this.finishTime))}};var xh=class{constructor(t,e,i,o,r){this.x=t,this.y=e,this.radius=i,this.stutterX=o,this.stutterY=r}updateStuttering(t){this.stutterX>0?(this.stutterX-=.01*t*le.sizeFactor,this.stutterX=Math.max(0,this.stutterX)):this.stutterX<0&&(this.stutterX+=.01*t*le.sizeFactor,this.stutterX=Math.min(0,this.stutterX)),this.stutterY>0?(this.stutterY-=.01*t*le.sizeFactor,this.stutterY=Math.max(0,this.stutterY)):this.stutterY<0&&(this.stutterY+=.01*t*le.sizeFactor,this.stutterY=Math.min(0,this.stutterY))}};var Th=class{constructor(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o,this.isPressed=!1,this.pressFactor=0,this.currentPressTime=0}update(t){this.isPressed?(this.currentPressTime+=t,this.currentPressTime=Math.min(le.maxPressTime,this.currentPressTime),this.pressFactor=this.currentPressTime/le.maxPressTime):this.currentPressTime>0&&(this.currentPressTime=0,this.pressFactor=0)}};var zV=["pachinkoGame"],HV=["background"],UV=["canvas"],qV=n=>({show:n});function $V(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"span",7),M(2),E(3,"nativeTranslate"),v(),C(4,"button",8),N("mousedown",function(o){O(e);let r=y();return R(r.onMouseDown(o))})("mousemove",function(o){O(e);let r=y();return R(r.onMouseMove(o))})("mouseup",function(o){O(e);let r=y();return R(r.onMouseUp(o))})("mouseleave",function(){O(e);let o=y();return R(o.onButtonMouseLeave())})("touchstart",function(o){O(e);let r=y();return R(r.onTouchStart(o))})("touchend",function(o){O(e);let r=y();return R(r.onTouchEnd(o))})("touchcancel",function(o){O(e);let r=y();return R(r.onTouchCancel(o))})("touchmove",function(o){O(e);let r=y();return R(r.onTouchMove(o))}),D(5,"span",9),C(6,"span",10),D(7,"span",11)(8,"span",11),v()()()}if(n&2){let e=y();x("top",e.releaseButton.y+e.signalTopOffsetY(),"px")("color",e.fontColor),f(2),ae(A(3,19,"pachinko-press")),f(2),x("width",e.releaseButton.width,"px")("height",e.releaseButton.height,"px")("border-color",e.buttonColor),f(),x("width",e.releaseButton.pressFactor*240,"px")("height",e.releaseButton.pressFactor*240,"px"),f(2),x("background-color",e.buttonColor),f(),x("background-color",e.buttonColor)}}var qD=(()=>{class n{constructor(){this.changeDetectorRef=p(Ve),this.imageLoadService=p(we),this.soundService=p(Ce),this.nativeTranslateService=p(Fe),this.ngZone=p(Oe),this.ballCount=3,this.columnPoints=[1.1,1.5,2,1.5,1.1],this.borderColor=g.quizGameDefaultMinigameMainColor,this.fontColor=g.quizGameDefaultMinigameFontColor,this.fontColorTgt=g.quizGameDefaultMinigameFontColor,this.colorBg1=g.quizGameDefaultMinigameBackgroundColor1,this.colorBg2=g.quizGameDefaultMinigameBackgroundColor2,this.buttonColor=g.quizGameDefaultMinigameMainColor,this.ballColor=g.quizGameDefaultMinigameBallColor,this.ballHoldColor=g.quizGameDefaultMinigameMainColor,this.ballHoldColor2=g.quizGameDefaultMinigameMainColor,this.tgtOutColor=g.quizGameDefaultMinigameOutlineColor,this.tgtBgColor=g.quizGameDefaultMinigameTargetBackgroundColor,this.tgtBgActColor=g.quizGameDefaultMinigameBallColor,this.nailColor=g.quizGameDefaultMinigameMainColor,this.startBall=new Z,this.finishBall=new Z,this.finishGame=new Z,this.signalGameScale=w(window.innerWidth/3840),this.signalTopOffsetY=w(0),this.isDebug=!1,this.signalIsReady=w(!1),this.boardWidth=0,this.boardHeight=0,this.diffBoardX=0,this.diffBoardY=0,this.ballRadius=16,this.balls=[],this.columns=[],this.nails=[],this.releaseButton=null,this.ballHolderColorRGB05=At.getRGBAColorFromHexColor(this.ballHoldColor,.5),this.ballHolderColor2RGB05=At.getRGBAColorFromHexColor(this.ballHoldColor2,.5),this.ballImage=new Image,this.ballHolderImage=new Image,this.ballHolderOpenImage=new Image,this.nailImage=new Image,this.nailActiveImage=new Image,this.borderImage=new Image,this.appLoopService=new hi(this.loop.bind(this)),this.mouseDown=this.onMouseDown.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseMove=this.onMouseMove.bind(this),this.touchElementTouchStart=this.onTouchElementTouchStart.bind(this),this.touchStart=this.onTouchStart.bind(this),this.touchMove=this.onTouchMove.bind(this),this.touchEnd=this.onTouchEnd.bind(this),this.touchCancel=this.onTouchCancel.bind(this),this.appLoopService.stop(),this.appLoopService.setRuntime(0),this.appLoopService.init("PachinkoComponent",this.ngZone),g.areMultiplierGames||(this.columnPoints=[100,200,500,200,100])}ngAfterViewInit(){K.setTimeout(()=>{this.changeDetectorRef.detectChanges(),this.init()},0),K.setTimeout(()=>{this.changeDetectorRef.detectChanges(),this.onResize(),this.changeDetectorRef.detectChanges(),this.onResize()},400),K.setTimeout(()=>{this.onResize()},1e3)}ngOnChanges(e){("ballHoldColor"in e||"ballHoldColor2"in e)&&(this.ballHolderColorRGB05=At.getRGBAColorFromHexColor(this.ballHoldColor,.5),this.ballHolderColor2RGB05=At.getRGBAColorFromHexColor(this.ballHoldColor2,.5))}ngOnDestroy(){this.appLoopService.stop(),this.removeEventListeners()}onResize(){this.signalGameScale.set(window.innerWidth/3840);let e=this.background.nativeElement,i=this.canvas.nativeElement,o=1080,r=1920;i.width=o,i.height=r-100,this.boardWidth=o-100,this.boardHeight=r-70,e.style.width=o-100+"px",e.style.height=r-100+"px",i.style.width=i.width+"px",i.style.height=i.height+"px",this.diffBoardX=i.width*.5-this.boardWidth*.5,this.diffBoardY=i.height*.5-this.boardHeight*.5;let s=this.pachinkoGame.nativeElement.clientWidth,a=this.pachinkoGame.nativeElement.clientHeight,l=s/i.width,c=a/i.height;this.signalGameScale.set(Math.min(l,c)),this.signalTopOffsetY.set(a*.5-i.height*.5)}init(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.touchElement=this.canvas.nativeElement,this.onResize(),le.isUsingImages&&this.initImages();let e=-160,i=57*le.sizeFactor,o=3*le.sizeFactor,r=Math.floor(this.boardWidth/i)+1,s=Math.floor(this.boardHeight/i)-1,a=!1;for(let h=3;h<s-2;h++){for(let m=0;m<r;m++){let b=m*i-(a?i*.5:0)+2,_=h*i*1.1+e;(h%2===1||h%2===0&&m>0&&m<r)&&this.nails.push(new xh(b,_,o,0,0))}a=!a}this.ballHolder=new Sh(this.boardWidth*.5,150,this.ballRadius*2.5*le.sizeFactor,this.ballRadius*2.5*le.sizeFactor);let l=50*le.sizeFactor,c=this.columnPoints,u=c.length,d=this.boardWidth/u;for(let h=0;h<u;h++){let m=d*(h+.5),b=this.boardHeight-l-470,_=c[h];this.columns.push(new Mh(m,b,d,l,_,!1,!1,0,0))}le.isAutomaticLeftRightMovement&&(this.releaseButton=new Th(0,this.boardHeight*.82,240,240),this.releaseButton.x=this.boardWidth*.5-this.releaseButton.width*.5+this.diffBoardX),this.initSounds()}startGame(){this.addEventListeners(),this.signalIsReady.set(!0),this.changeDetectorRef.detectChanges(),this.appLoopService.start(),this.soundService.playSound("pachinkoStart",!0),K.setTimeout(()=>{this.addBall(this.ballHolder.x,0),this.changeDetectorRef.detectChanges()},700)}initImages(){this.setImage("ballImage","assets/games/ball-game/images/ball.png"),this.setImage("ballHolderImage","assets/games/ball-game/images/ball-holder.png"),this.setImage("ballHolderOpenImage","assets/games/ball-game/images/ball-holder-open.png"),this.setImage("nailImage","assets/games/pachinko/images/nail.png"),this.setImage("nailActiveImage","assets/games/pachinko/images/nail-active.png"),this.setImage("borderImage","assets/games/ball-game/images/border.png")}setImage(e,i,o=null){let r=this.imageLoadService.getImage(e);if(r)this[o||e]=r;else{let s=new Image;s.src=i,s.onload=()=>{this[o||e]=s}}}initSounds(){this.soundService.addSound("pachinkoStart","assets/games/pachinko/sounds/start.mp3");for(let e=1;e<=5;e++)this.soundService.addSound("coinTarget0"+e,`assets/games/ball-game/sounds/coin-target0${e}.mp3`);for(let e=1;e<=4;e++)this.soundService.addSound("ballCollision"+e,"assets/games/ball-game/sounds/ball-collision"+(e<10?"0":"")+e+".mp3");for(let e=1;e<=4;e++)this.soundService.addSound("pachinkoNail"+e,"assets/games/pachinko/sounds/nail"+(e<10?"0":"")+e+".mp3")}addEventListeners(){this.touchElement.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),this.touchElement.addEventListener("mousemove",this.mouseMove),this.touchElement.addEventListener("touchstart",this.touchElementTouchStart,{passive:!1}),this.touchElement.addEventListener("touchstart",this.touchStart),this.touchElement.addEventListener("touchmove",this.touchMove),window.addEventListener("touchend",this.touchEnd),window.addEventListener("touchcancel",this.touchCancel)}removeEventListeners(){this.touchElement?.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),this.touchElement?.removeEventListener("mousemove",this.mouseMove),this.touchElement?.removeEventListener("touchstart",this.touchElementTouchStart),this.touchElement?.removeEventListener("touchstart",this.touchStart),this.touchElement?.removeEventListener("touchmove",this.touchMove),window.removeEventListener("touchend",this.touchEnd),window.removeEventListener("touchcancel",this.touchCancel)}onTouchElementTouchStart(e){e.preventDefault()}onMouseDown(e){if(e.stopImmediatePropagation(),e.preventDefault(),!this.ballHolder)return;let i=this.getMousePos(e,0);i&&this.onDown(i)}onTouchStart(e){if(e.stopImmediatePropagation(),e.preventDefault(),e.touches.length!=1)return;let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onDown(o)}onDown(e){le.isAutomaticLeftRightMovement||this.checkCircleRectCollision({x:e.x,y:e.y,radius:this.ballHolder.width*.5*window.devicePixelRatio},{x:this.ballHolder.x-this.ballHolder.width*.5,y:this.ballHolder.y-this.ballHolder.height*.5,width:this.ballHolder.width,height:this.ballHolder.height})&&(this.ballHolder.isDragging=!0,this.ballHolder.dragPosX=this.ballHolder.x),this.releaseButton&&this.isMousePosInsideReleaseButton(e)&&(this.releaseButton.isPressed=!0)}onMouseUp(e){if(e.stopImmediatePropagation(),e.preventDefault(),!this.ballHolder)return;let i=this.getMousePos(e,0);i&&this.onUp(i)}onTouchEnd(e){if(e.stopImmediatePropagation(),!this.ballHolder||e.touches.length>0)return;let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onUp(o)}onTouchCancel(e){e.stopImmediatePropagation(),e.preventDefault(),this.releaseButton&&(this.releaseButton.isPressed=!1)}onUp(e){let i=Math.abs(this.ballHolder.x-this.ballHolder.dragPosX),o=this.checkCircleRectCollision({x:e.x,y:e.y,radius:5},{x:this.ballHolder.x-this.ballHolder.width*.5,y:this.ballHolder.y-this.ballHolder.height*.5,width:this.ballHolder.width,height:this.ballHolder.height});if(!this.ballHolder.isOpen&&i<this.ballHolder.width*.25&&(e.x===0||o)){for(let r of this.balls)r.isReleased=!0;this.startBall.emit(),this.ballHolder.open()}this.ballHolder.isDragging=!1,!(!this.releaseButton||!e)&&this.releaseButton.isPressed&&(this.releaseButton.isPressed=!1,this.ballHolder.isOpen||(this.startBall.emit(),this.ballHolder.open(),this.soundService.stopSound("bowDraw"),this.soundService.playSound("dropIn",!0)))}onMouseMove(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onMove(i)}onTouchMove(e){if(e.stopImmediatePropagation(),!this.ballHolder)return;let i=this.getMousePos(e,e.touches[0].identifier);i&&this.onMove(i)}onMove(e){if(this.ballHolder&&this.ballHolder?.isDragging){this.ballHolder.x=e.x;let i=this.ballHolder.width*.8;this.ballHolder.x<this.ballHolder.width*.5+i?this.ballHolder.x=this.ballHolder.width*.5+i:this.ballHolder.x>this.boardWidth-this.ballHolder.width*.5-i&&(this.ballHolder.x=this.boardWidth-this.ballHolder.width*.5-i)}this.releaseButton&&this.releaseButton.isPressed&&!this.isMousePosInsideReleaseButton(e)&&(this.releaseButton.isPressed=!1,this.startBall.emit(),this.ballHolder.open())}isMousePosInsideReleaseButton(e){return this.releaseButton?e.x>=this.releaseButton.x-this.diffBoardX&&e.x<=this.releaseButton.x+this.releaseButton.width-this.diffBoardX&&e.y>=this.releaseButton.y-this.diffBoardY&&e.y<=this.releaseButton.y+this.releaseButton.height-this.diffBoardY:!1}onButtonMouseLeave(){this.releaseButton?.isPressed&&(this.releaseButton.isPressed=!1,this.startBall.emit(),this.ballHolder.open())}getMousePos(e,i){let o=this.touchElement.getBoundingClientRect(),r=null,s=null;if(e instanceof MouseEvent)r=e.clientX,s=e.clientY;else if(e instanceof TouchEvent){let a=Array.from(e.changedTouches);for(let l of a)l.identifier===i&&(r=l.clientX,s=l.clientY)}return r&&s?{x:-this.diffBoardX+(r-o.x)*this.canvas.nativeElement.width/o.width,y:-this.diffBoardY+(s-o.y)*this.canvas.nativeElement.height/o.height}:null}addBall(e,i){this.ballCount<=0||(this.ballCount--,this.balls.push(new wh(e,i,0,0,this.ballRadius*le.sizeFactor,Math.PI*.5)))}removeBall(e){this.balls.splice(this.balls.indexOf(e),1)}draw(){if(!(!this.ctx||!this.canvas)){if(this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),le.isUsingImages){if(this.nailImage&&this.nailActiveImage)for(let e of this.nails){let o=e.stutterX!==0||e.stutterY!==0?this.nailActiveImage:this.nailImage,r=15*le.sizeFactor;this.ctx.drawImage(o,this.diffBoardX+e.x-e.radius-e.stutterX-r,this.diffBoardY+e.y-e.radius+e.stutterY-r,e.radius*2+r*2,e.radius*2-e.stutterY*.5+r*2)}}else{for(let e of this.nails){let i=e.stutterX!==0||e.stutterY!==0,o=3*le.sizeFactor;this.ctx.beginPath(),this.ctx.fillStyle=i?this.ballColor:this.nailColor,this.ctx.shadowColor=i?this.ballColor:this.nailColor,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=i?30:10,this.ctx.arc(this.diffBoardX+e.x-e.radius-e.stutterX+o,this.diffBoardY+e.y-e.radius+e.stutterY+o,e.radius-(i?2:4),0,2*Math.PI),this.ctx.fill()}this.ctx.shadowBlur=0}if(le.isUsingImages){if(this.ballImage)for(let e of this.balls)this.ctx.drawImage(this.ballImage,this.diffBoardX+e.x-e.radius-15,this.diffBoardY+e.y-e.radius-15,e.radius*2+30,e.radius*2+30),this.isDebug&&(this.ctx.fillText(e.diffX.toString(),this.diffBoardX+e.x-e.radius-15,this.diffBoardY+e.y-e.radius-15),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,5,0,2*Math.PI,!1),this.ctx.fillStyle="#f00",this.ctx.fill(),this.ctx.lineWidth=2,this.ctx.strokeStyle="#fff",this.ctx.stroke())}else{for(let e of this.balls)this.ctx.strokeStyle=this.ballColor,this.ctx.lineWidth=10,this.ctx.beginPath(),this.ctx.shadowColor=this.ballColor,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=8,this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,e.radius-5,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowBlur=0,this.ctx.strokeStyle=this.ballColor,this.ctx.lineWidth=3,this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,e.radius-5,0,2*Math.PI),this.ctx.stroke();this.ctx.shadowBlur=0}if(this.isDebug&&(this.ctx.strokeStyle="#733f01",this.ctx.lineWidth=15,this.ctx.strokeRect(this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.5,this.ballHolder.width,this.ballHolder.height),this.ballHolder.isOpen||(this.ctx.strokeStyle="#da7b06",this.ctx.strokeRect(this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.5+this.ballHolder.height,this.ballHolder.width,5))),le.isUsingImages){if(this.ballHolderImage&&this.ballHolderOpenImage){let e=this.ballRadius*6.5*le.sizeFactor,i=this.ballHolderImage.height*e/this.ballHolderImage.width;this.ctx.drawImage(this.ballHolder.isOpen?this.ballHolderOpenImage:this.ballHolderImage,this.diffBoardX+this.ballHolder.x-e*.5,this.diffBoardY+this.ballHolder.y-i*.38,e,i),this.isDebug&&(this.ctx.fillStyle="#900707",this.ctx.fillRect(this.diffBoardX+this.ballHolder.x-this.ballHolderImage.width,this.diffBoardY+this.ballHolder.y-i*.1,10,10))}}else this.drawBallHolderWing(-1,!1,!1),this.drawBallHolderWing(1,!1,!1),this.drawBallHolderWing(-1,!0,!1),this.drawBallHolderWing(1,!0,!1),this.drawBallHolderWing(-1,!0,!0),this.drawBallHolderWing(1,!0,!0),this.ballHolder.isOpen||this.drawBallHolderClosedLine();this.isDebug&&this.ctx.fillText(this.ballHolder.openTime.toString()+" "+this.ballHolder.isDragging+" "+Math.round(this.ballHolder.dragPosX)+" "+Math.round(this.ballHolder.x),this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.4);for(let e of this.columns)this.ctx.shadowBlur=0,this.ctx.shadowColor="#ffffff",this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.fillStyle=e.finishTime>0?this.tgtBgActColor:this.tgtBgColor,this.ctx.fillRect(this.diffBoardX+e.x-e.width*.5,this.diffBoardY+e.y,e.width,e.height),e.collisionTime>0?(this.ctx.fillStyle=this.ballColor,this.ctx.shadowBlur=20):this.ctx.fillStyle=this.tgtOutColor,this.ctx.fillRect(this.diffBoardX+e.x-e.width*.5,this.diffBoardY+e.y,2*le.sizeFactor,e.height),e.collisionTime>0?this.ctx.fillStyle=this.ballColor:this.ctx.fillStyle=this.tgtOutColor,this.ctx.fillRect(this.diffBoardX+e.x+e.width*.5-2*le.sizeFactor,this.diffBoardY+e.y,2*le.sizeFactor,e.height),this.ctx.fillStyle=this.fontColorTgt,this.ctx.font="bold "+16*le.sizeFactor+"px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(e.points.toLocaleString(this.nativeTranslateService.currentLocale??"en-US"),this.diffBoardX+e.x,this.diffBoardY+e.y+e.height*.5);if(le.isUsingImages)this.borderImage&&this.ctx.drawImage(this.borderImage,0,-200,this.canvas.nativeElement.width,this.canvas.nativeElement.height+320);else{let o=this.canvas.nativeElement.width-90,r=this.canvas.nativeElement.height-10;this.ctx.strokeStyle=this.borderColor,this.ctx.lineWidth=5,this.ctx.beginPath(),this.ctx.moveTo(45,5),this.ctx.lineTo(45,5+r),this.ctx.lineTo(45+o,5+r),this.ctx.lineTo(45+o,5),this.ctx.stroke()}}}drawBallHolderWing(e,i,o){let r=this.diffBoardX+this.ballHolder.x+(o?10*e:0),s=this.diffBoardY+this.ballHolder.y+10,a=60,l=o?20:30,c=o?45:75;this.ctx.save(),i?(this.ctx.shadowColor=o?this.ballHolderColor2RGB05:this.ballHolderColorRGB05,this.ctx.shadowBlur=30,this.ctx.lineWidth=1,this.ctx.strokeStyle=o?this.ballHoldColor2:this.ballHoldColor):(this.ctx.shadowColor=o?this.ballHolderColor2RGB05:this.ballHolderColorRGB05,this.ctx.shadowBlur=6,this.ctx.lineWidth=4,this.ctx.strokeStyle=o?this.ballHoldColor2:this.ballHoldColor),this.ctx.beginPath();let u=r+e*a,d=s,h=5;this.ctx.moveTo(u-e*h,d-l),this.ctx.lineTo(u,d),this.ctx.lineTo(u-e*h,d+l),this.ctx.lineTo(u+c*.25*e,d+l),this.ctx.lineTo(u+c*e,d),this.ctx.lineTo(u+c*.25*e,d-l),this.ctx.lineTo(u-e*h,d-l),this.ctx.stroke(),this.ctx.restore()}drawBallHolderClosedLine(){let e=this.diffBoardX+this.ballHolder.x,i=this.diffBoardY+this.ballHolder.y+10,o=100,r=40;this.ctx.save(),this.ctx.shadowColor=this.ballHoldColor2,this.ctx.shadowBlur=10,this.ctx.lineWidth=4,this.ctx.lineWidth=10,this.ctx.strokeStyle=this.ballHoldColor2,this.ctx.beginPath(),this.ctx.moveTo(e-o*.5,i+r),this.ctx.lineTo(e+o*.5,i+r),this.ctx.stroke(),this.ctx.restore()}update(e){let i=this.ballHolder.isOpen;this.ballHolder.update(e),this.releaseButton&&this.releaseButton.update(e),i&&!this.ballHolder.isOpen&&this.addBall(this.ballHolder.x,0);for(let o of this.nails)o.updateStuttering(e);for(let o of this.columns)o.update(e);for(let o of this.balls){o.update(e),this.checkCollisionBallWallBorder(o);let r=this.columns[0].y+this.columns[0].height*.5;if(o.y-o.radius>r){let l=this.checkAndGetPoints(o),c={};c[this.columnPoints[2]]="coinTarget05",c[this.columnPoints[1]]="coinTarget03",c[this.columnPoints[0]]="coinTarget01",l in c?this.soundService.playSound(c[l],!0):this.soundService.playSound("coinTarget01",!0);let u={x:o.x,y:o.y};this.removeBall(o),this.finishBall.emit({score:l,position:u}),this.balls.length<=0&&(this.finishGame.emit(!0),K.setTimeout(()=>{this.signalIsReady.set(!1)},1100))}o.isReleased||this.checkCollisionBallHolder(o);for(let l of this.nails)this.checkCollisionBallNail(e,o,l);let s,a;for(let l=0,c=this.columns.length;l<c;++l)s=this.columns[l],a=l<c-1?this.columns[l+1]:null,this.checkCollisionColumn(o,s,a)}}checkCollisionBallWallBorder(e){(e.x-e.radius<0||e.x+e.radius>this.boardWidth)&&(e.dx=-e.dx,e.x-e.radius<0?e.x=e.radius*.9:e.x=this.boardWidth-e.radius*.9)}checkCollisionBallNail(e,i,o){if(Math.sqrt((i.x-o.x)**2+(i.y-o.y)**2)<i.radius*.7+o.radius){i.x=i.oldX,i.y=i.oldY-.1;let s=Math.abs(i.x-o.x),a=Math.abs(i.y-o.y);i.diffX=s,s<.12*le.sizeFactor&&(s*=1.5*le.sizeFactor);let l=.004;a>o.radius?(i.x<o.x?(i.dx-=Math.random()*s*l*e*le.sizeFactor,o.stutterX=-2*le.sizeFactor):(i.dx+=Math.random()*s*l*e*le.sizeFactor,o.stutterX=2*le.sizeFactor),i.y=o.y-o.radius*1.7*le.sizeFactor,i.dy=-i.dy*.7,i.dy<-.1*le.sizeFactor&&i.dx<.1*le.sizeFactor&&i.dx>-.1*le.sizeFactor&&(i.dy=-.3*le.sizeFactor,i.dx-=Math.random()*s*.02*e*le.sizeFactor)):(i.x<o.x?i.dx-=Math.random()*s*.002*e*le.sizeFactor:i.dx+=Math.random()*s*.002*e*le.sizeFactor,i.dy=-i.dy*.0175*le.sizeFactor),s<.0526*le.sizeFactor&&(i.dx=(-1+Math.random())*2*.02*e*le.sizeFactor),o.stutterY=2*le.sizeFactor;let c=Math.max(.1,Math.min(1,Math.abs(i.dy*.4)));this.playNailSound(c)}}checkCollisionBallHolder(e){if(!this.ballHolder)return;let i=this.checkCircleRectCollision(e,{x:0,y:this.ballHolder.y-this.ballHolder.height*.5,width:this.ballHolder.x-this.ballHolder.width*.5,height:this.ballHolder.height}),o=this.checkCircleRectCollision(e,{x:this.ballHolder.x+this.ballHolder.width*.5,y:this.ballHolder.y-this.ballHolder.height*.5,width:this.boardWidth,height:this.ballHolder.height}),r=!this.ballHolder.isOpen&&this.checkCircleRectCollision(e,{x:this.ballHolder.x-this.ballHolder.width*.5,y:this.ballHolder.y+this.ballHolder.height*.5-10,width:this.ballHolder.width,height:2*le.sizeFactor}),s=Math.abs(e.y-e.oldY);if(r&&(e.dy*=-.9,e.y=e.oldY),i){if(le.isAutomaticLeftRightMovement||(e.dy*=-.9,e.y=e.oldY),e.x=this.ballHolder.x-this.ballHolder.width*.5+e.radius+2,e.dx=.5,!e.isColLeft){e.isColLeft=!0,e.isColRight=!1;let a=Math.max(.1,Math.min(1,Math.abs(e.dx*.1)));this.playBallCollisionSound(a)}}else if(o){if(le.isAutomaticLeftRightMovement||(e.dy*=-.9,e.y=e.oldY),e.x=this.ballHolder.x+this.ballHolder.width*.5-e.radius+.1,e.dx=-.5,!e.isColRight){e.isColRight=!0,e.isColLeft=!1;let a=Math.max(.1,Math.min(1,Math.abs(e.dx*.1)));this.playBallCollisionSound(a)}}else if(r&&s>=1.6&&(!e.isColRight||!e.isColLeft)){let a=Math.max(.1,Math.min(1,Math.abs(e.dy*.4)));this.playBallCollisionSound(a)}}checkCollisionColumn(e,i,o=null){if(i.isColLeft=!1,i.isColRight=!1,o?(o.isTestingCollision=!0,o.isColLeft=this.checkCircleRectCollision(e,{x:o.x-o.width*.5,y:o.y,width:2*le.sizeFactor,height:o.height})):i.isTestingCollision?i.isColLeft=this.checkCircleRectCollision(e,{x:i.x-i.width*.5,y:i.y,width:2*le.sizeFactor,height:i.height}):i.isTestingCollision=!0,i.isColRight=this.checkCircleRectCollision(e,{x:i.x+i.width*.5-2*le.sizeFactor,y:i.y,width:2*le.sizeFactor,height:i.height}),o&&o.isColLeft&&i.isColRight&&(o.isTestingCollision=!1,e.x+e.radius+this.diffBoardX<o.x?(o.isColLeft=!1,e.y-=1):(o.isColRight=!1,e.y-=1)),i.isColLeft||i.isColRight||o&&o.isColLeft){e.dy*=-.9,e.y=e.oldY,o&&o.isColLeft?o.collisionTime=300:i.collisionTime=300,i.isColLeft||o&&o.isColLeft?(e.x=e.oldX+.1,e.dy<.01?(e.dy=-3,e.dx=1+Math.random()*2):e.dx=.9+Math.random()*.2):i.isColRight&&(e.x=e.oldX-.1,e.dy<.01?(e.dy=-3,e.dx=-1-Math.random()*2):e.dx=-.9-Math.random()*.2);let r=Math.max(.1,Math.min(1,Math.abs(e.dy*.4)));this.playBallCollisionSound(r)}}playNailSound(e=1){let i=Math.floor(Math.random()*4+1);this.soundService.playSound("pachinkoNail"+i,!0,e)}playBallCollisionSound(e=1){let i=Math.floor(Math.random()*4+1);this.soundService.playSound("ballCollision"+i,!0,e)}checkCircleRectCollision(e,i){let o=Math.abs(e.x-i.x-i.width*.5),r=Math.abs(e.y-i.y-i.height*.5);if(o>i.width*.5+e.radius||r>i.height*.5+e.radius)return!1;if(o<=i.width*.5||r<=i.height*.5)return!0;let s=o-i.width*.5,a=r-i.height*.5;return s*s+a*a<=e.radius*e.radius}checkAndGetPoints(e){let i=null;for(let o of this.columns)if(e.x>=o.x-o.width*.5&&e.x<=o.x+o.width*.5){i=o;break}return i||(e.x<this.boardWidth*.5?i=this.columns[0]:i=this.columns[this.columns.length-1]),i.finishTime=2e3,i.points}loop(e){e=Math.min(17,e),this.update(e),this.draw()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-pachinko"]],viewQuery:function(i,o){if(i&1&&(ie(zV,5),ie(HV,5),ie(UV,5)),i&2){let r;ee(r=te())&&(o.pachinkoGame=r.first),ee(r=te())&&(o.background=r.first),ee(r=te())&&(o.canvas=r.first)}},hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{ballCount:"ballCount",columnPoints:"columnPoints",borderColor:"borderColor",fontColor:"fontColor",fontColorTgt:"fontColorTgt",colorBg1:"colorBg1",colorBg2:"colorBg2",buttonColor:"buttonColor",ballColor:"ballColor",ballHoldColor:"ballHoldColor",ballHoldColor2:"ballHoldColor2",tgtOutColor:"tgtOutColor",tgtBgColor:"tgtBgColor",tgtBgActColor:"tgtBgActColor",nailColor:"nailColor"},outputs:{startBall:"startBall",finishBall:"finishBall",finishGame:"finishGame"},standalone:!1,features:[Pe],decls:7,vars:6,consts:[["pachinkoGame",""],["background",""],["canvas",""],[1,"pachinko-game",3,"ngClass"],[1,"background"],[1,"button-container",3,"top","color"],[1,"button-container"],[1,"text"],["type","button",1,"btn",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchend","touchcancel","touchmove"],[1,"pressed"],[1,"loader2"],[1,"anim"]],template:function(i,o){i&1&&(C(0,"div",3,0),D(2,"div",4,1)(4,"canvas",null,2),P(6,$V,9,21,"div",5),v()),i&2&&(I("ngClass",ot(4,qV,o.signalIsReady())),f(2),x("background",`linear-gradient(${o.colorBg1}, ${o.colorBg2})`),f(4),k(o.releaseButton?6:-1))},dependencies:[si,ge],styles:[".pachinko-game[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;scale:0;overflow:hidden;transition:scale 1s}.pachinko-game.show[_ngcontent-%COMP%]{scale:1}.pachinko-game[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;transform:scale(1);transform-origin:center center;inset:auto;background:linear-gradient(#00000080,#000)}.pachinko-game[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute;transform:scale(1);transform-origin:center center;inset:auto;z-index:100}.pachinko-game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{position:absolute;color:#fff;z-index:100;width:100%;pointer-events:none;text-align:center}.pachinko-game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:46px;position:absolute;top:-130px;left:50%;transform:translate(-50%);width:100%;text-align:center;padding:30px 80px}.pachinko-game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{pointer-events:all;position:relative;border:1px solid #ba83d6;color:#fff;cursor:pointer;width:240px;height:240px;border-radius:50%;overflow:hidden}.pachinko-game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.7}.pachinko-game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .pressed[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:250px;height:250px;background-color:#fff;opacity:.3;border-radius:50%}.loader2[_ngcontent-%COMP%]{width:98px;height:98px;display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}.loader2[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{width:98px;height:98px;border-radius:50%;background:#fff;position:absolute;left:0;top:0;box-sizing:border-box;opacity:0;animation:_ngcontent-%COMP%_animLoader 4s ease-in-out infinite}.loader2[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]:nth-child(2n){animation-delay:1s}@keyframes _ngcontent-%COMP%_animLoader{0%,to{transform:scale(0);opacity:1}50%{transform:scale(1);opacity:0}}"],changeDetection:0})}}return n})();var Dh=class{constructor(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o,this.isOpen=!1,this.openTime=0,this.isDragging=!1,this.dragPosX=0,this.oldX=t,this.oldY=e}open(t=300){this.isOpen=!0,this.openTime=t}update(t){this.openTime>0&&(this.openTime-=t,this.openTime<=0&&(this.isOpen=!1,this.openTime=0))}};var kn=(()=>{class n{static{this.sizeFactor=1}static{this.maxPressTime=1500}static{this.isUsingImages=!1}}return n})();var Ih=class{constructor(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o,this.isPressed=!1,this.pressFactor=0,this.currentPressTime=0}update(t){this.isPressed?(this.currentPressTime+=t,this.currentPressTime=Math.min(kn.maxPressTime,this.currentPressTime),this.pressFactor=this.currentPressTime/kn.maxPressTime):this.currentPressTime>0&&(this.currentPressTime=0,this.pressFactor=0)}};var $D=(()=>{class n{static{this.maxSpanFactor=1.9}constructor(e,i,o,r){this.x=e,this.y=i,this.width=o,this.height=r,this.isWiggling=!1,this.angle=0,this.startY=0,this.maxY=0,this.wiggleFactor=0,this.startY=i,this.maxY=this.startY+this.height-this.getSpanFactor(1)*this.height}update(e,i,o){this.x=o-this.width*.5,this.y=this.startY+this.height-this.getSpanFactor(i)*this.height,this.y=Math.min(this.maxY,this.y),this.y=Math.max(this.startY,this.y),this.isWiggling=i>0&&i<.2||i>=1,this.isWiggling?(this.wiggleFactor+=e*.06,this.angle=Math.cos(this.wiggleFactor)*Math.PI*.02):(this.wiggleFactor=0,this.angle=0)}getSpanFactor(e){return 1-Math.sqrt(e)*n.maxSpanFactor}}return n})();var Eh=class{constructor(t,e,i,o,r,s){this.x=t,this.y=e,this.dx=i,this.dy=o,this.radius=r,this.angle=s,this.speed=0,this.viewAngle=0,this.isColLeft=!1,this.isColRight=!1,this.isReleased=!1,this.isTargetLocked=!1,this.lockedTarget=null,this.targetPos=null,this.diffX=0,this.scale=1,this.oldX=t,this.oldY=e}update(t){this.oldX=this.x,this.oldY=this.y,this.isReleased||(this.dx>0?(this.dx-=.02,this.dx=Math.max(0,this.dx)):this.dx<0&&(this.dx+=.02,this.dx=Math.min(0,this.dx)),this.dy+=.1,this.dy<0&&(this.dy+=.1,this.dy=Math.min(0,this.dy)),this.x+=this.dx*t*.1,this.y+=this.dy*t*.1,this.angle+=this.dx*this.dy*t*.01),this.speed=Math.max(this.speed,3)}};var Ph=class{constructor(t,e,i,o,r,s,a,l,c,u,d){this.index=t,this.x=e,this.y=i,this.width=o,this.height=r,this.angle=s,this.minX=a,this.minY=l,this.maxX=c,this.maxY=u,this.points=d,this.waitTime=0,this.hasDirectionChanged=!1,this.isHit=!1}update(t){if(this.waitTime>0){this.waitTime-=t;return}else t-=this.waitTime,this.waitTime=0;let e=.1;(this.angle===Math.PI*.5||this.angle===-Math.PI*.5)&&(e/=1.5654545454545454),this.x+=Math.cos(this.angle)*e*t,this.y+=Math.sin(this.angle)*e*t,this.angle===0&&this.x>=this.maxX?(this.angle=Math.PI*.5,this.hasDirectionChanged=!0):this.angle===Math.PI*.5&&this.y>=this.maxY?(this.angle=Math.PI,this.hasDirectionChanged=!0):this.angle===Math.PI&&this.x<=this.minX?(this.angle=-Math.PI*.5,this.hasDirectionChanged=!0):this.angle===-Math.PI*.5&&this.y<this.minY&&(this.angle=0,this.hasDirectionChanged=!0)}};var kh=class{constructor(t,e,i,o,r,s,a,l,c){this.x=t,this.y=e,this.width=i,this.height=o,this.minX=r,this.maxX=s,this.speed=a,this.breakValue=l,this.isMovingLeft=c,this.isBallCollision=!1}update(t){this.isMovingLeft?this.x-=this.speed*t:this.x+=this.speed*t,this.x>this.maxX?this.isMovingLeft=!0:this.x<this.minX&&(this.isMovingLeft=!1)}};var rr=class{static isCircleInRectangle(t,e,i,o,r,s,a){let l=Math.abs(t-o-s*.5),c=Math.abs(e-r-a*.5);if(l>s*.5+i||c>a*.5+i)return!1;if(l<=s*.5||c<=a*.5)return!0;let u=l-s*.5,d=c-a*.5;return u*u+d*d<=i*i}};var WV=["game"],QV=["background"],YV=["canvas"],XV=n=>({show:n});function KV(n,t){if(n&1){let e=ne();C(0,"div",7)(1,"span",8),M(2),E(3,"nativeTranslate"),v(),C(4,"button",9),N("mousedown",function(o){O(e);let r=y();return R(r.onMouseDown(o))})("mousemove",function(o){O(e);let r=y();return R(r.onMouseMove(o))})("mouseup",function(o){O(e);let r=y();return R(r.onMouseUp(o))})("mouseleave",function(){O(e);let o=y();return R(o.onButtonMouseLeave())})("touchstart",function(o){O(e);let r=y();return R(r.onTouchStart(o))})("touchend",function(o){O(e);let r=y();return R(r.onTouchEnd(o))})("touchcancel",function(o){O(e);let r=y();return R(r.onTouchCancel(o))})("touchmove",function(o){O(e);let r=y();return R(r.onTouchMove(o))}),D(5,"span",10),C(6,"span",11),D(7,"span",12)(8,"span",12),v()()()}if(n&2){let e=y();x("top",e.releaseButton.y+e.signalTopOffsetY(),"px")("color",e.fontColor),f(2),ae(A(3,19,"wheel-press-and-release")),f(2),x("width",e.releaseButton.width,"px")("height",e.releaseButton.height,"px")("border-color",e.buttonColor),f(),x("width",e.releaseButton.pressFactor*240,"px")("height",e.releaseButton.pressFactor*240,"px"),f(2),x("background-color",e.buttonColor),f(),x("background-color",e.buttonColor)}}function ZV(n,t){if(n&1&&(M(0),D(1,"br"),M(2)),n&2){let e=y(2);z(" ball.angle ",e.Math.round(e.MathAngleUtil.radiansToDegrees(e.balls[0].angle))),f(2),z(" ball.currentWheelAngle ",e.balls[0].lockedTarget==null?null:e.balls[0].lockedTarget.index," ")}}function JV(n,t){if(n&1&&(C(0,"div",6),P(1,ZV,3,2),v()),n&2){let e=y();f(),k(e.balls.length>0?1:-1)}}var jD=(()=>{class n{constructor(){this.changeDetectorRef=p(Ve),this.imageLoadService=p(we),this.soundService=p(Ce),this.nativeTranslateService=p(Fe),this.ngZone=p(Oe),this.ballCount=3,this.targetPoints=[1.1,1.3,1.5,2,1.1,1.3,1.5,2,1.1,1.3,1.5,2],this.borderColor=g.quizGameDefaultMinigameMainColor,this.fontColor=g.quizGameDefaultMinigameFontColor,this.fontColorTgt=g.quizGameDefaultMinigameFontColor,this.colorBg1=g.quizGameDefaultMinigameBackgroundColor1,this.colorBg2=g.quizGameDefaultMinigameBackgroundColor2,this.buttonColor=g.quizGameDefaultMinigameMainColor,this.ballColor=g.quizGameDefaultMinigameBallColor,this.ballHoldColor=g.quizGameDefaultMinigameMainColor,this.ballHoldColor2=g.quizGameDefaultMinigameMainColor,this.ballHoldGumColor=g.quizGameDefaultMinigameMainColor,this.ballHoldShotColor=g.quizGameDefaultMinigameBallHolderShotColor,this.tgtOutColor=g.quizGameDefaultMinigameTargetBackgroundColor2,this.tgtBgColor=g.quizGameDefaultMinigameTargetBackgroundColor2,this.tgtBgHoleColor=g.quizGameDefaultMinigameTargetHoleBackgroundColor,this.obstArrowColor=g.quizGameDefaultMinigameMainColor,this.obstOutColor=g.quizGameDefaultMinigameMainColor,this.obstBgColor=g.quizGameDefaultMinigameObstacleBackgroundColor,this.obstBgActiveColor=g.quizGameDefaultMinigameBallLightColor,this.startBall=new Z,this.finishBall=new Z,this.finishGame=new Z,this.signalGameScale=w(window.innerWidth/3840),this.signalTopOffsetY=w(0),this.isDebug=!1,this.signalIsReady=w(!1),this.boardWidth=0,this.boardHeight=0,this.diffBoardX=0,this.diffBoardY=0,this.ballRadius=46,this.targets=[],this.targetsTop=[],this.targetsBottom=[],this.targetsLeft=[],this.targetsRight=[],this.breakPads=[],this.balls=[],this.ballHolderColorRGB05=At.getRGBAColorFromHexColor(this.ballHoldColor,.5),this.ballHolderColor2RGB05=At.getRGBAColorFromHexColor(this.ballHoldColor2,.5),this.ballHoldGumColorRGB07=At.getRGBAColorFromHexColor(this.ballHoldGumColor,.7),this.ballImage=new Image,this.ballHolderImage=new Image,this.ballHolderOpenImage=new Image,this.borderImage=new Image,this.slingshotImage=new Image,this.targetImage=new Image,this.targetOverlayImage=new Image,this.targetHitImage=new Image,this.target2Image=new Image,this.target2OverlayImage=new Image,this.target2HitImage=new Image,this.pointShooterBreakPadLeftImage=new Image,this.pointShooterBreakPadRightImage=new Image,this.MathAngleUtil=Pt,this.Math=Math,this.appLoopService=new hi(this.loop.bind(this)),this.mouseDown=this.onMouseDown.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseMove=this.onMouseMove.bind(this),this.touchElementTouchStart=this.onTouchElementTouchStart.bind(this),this.touchStart=this.onTouchStart.bind(this),this.touchMove=this.onTouchMove.bind(this),this.touchEnd=this.onTouchEnd.bind(this),this.touchCancel=this.onTouchCancel.bind(this),this.appLoopService.stop(),this.appLoopService.setRuntime(0),this.appLoopService.init("PointShooterComponent",this.ngZone),g.areMultiplierGames||(this.targetPoints=[100,200,300,500,100,200,300,500,100,200,300,500])}ngAfterViewInit(){K.setTimeout(()=>{this.changeDetectorRef.detectChanges(),this.init()},0),K.setTimeout(()=>{this.changeDetectorRef.detectChanges(),this.onResize(),this.changeDetectorRef.detectChanges(),this.onResize()},400),K.setTimeout(()=>{this.onResize()},1e3)}ngOnChanges(e){("ballHoldColor"in e||"ballHoldColor2"in e||"ballHoldGumColor"in e)&&(this.ballHolderColorRGB05=At.getRGBAColorFromHexColor(this.ballHoldColor,.5),this.ballHolderColor2RGB05=At.getRGBAColorFromHexColor(this.ballHoldColor2,.5),this.ballHoldGumColorRGB07=At.getRGBAColorFromHexColor(this.ballHoldGumColor,1,.7))}ngOnDestroy(){this.appLoopService.stop(),this.removeEventListeners()}onResize(){this.signalGameScale.set(window.innerWidth/3840);let e=this.background.nativeElement,i=this.canvas.nativeElement,o=1080,r=1920;i.width=o,i.height=r-100,this.boardWidth=o-100,this.boardHeight=r-70,e.style.width=o-100+"px",e.style.height=r-100+"px",i.style.width=i.width+"px",i.style.height=i.height+"px",this.diffBoardX=i.width*.5-this.boardWidth*.5,this.diffBoardY=i.height*.5-this.boardHeight*.5;let s=this.game.nativeElement.clientWidth,a=this.game.nativeElement.clientHeight,l=s/i.width,c=a/i.height;this.signalGameScale.set(Math.min(l,c)),this.signalTopOffsetY.set(a*.5-i.height*.5)}init(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.touchElement=this.canvas.nativeElement,this.onResize(),kn.isUsingImages&&this.initImages();let e=160,i=100,o=10,r,s=0,a=50,l=0,c=0,u=5*e+4*o,d=3*i+2*o,h=this.boardWidth*.5-u*.5,m=h,b=a,_=m+u-e,S=b+d-i,T;for(let F=0,Y=this.targetPoints.length;F<Y;++F)r=this.targetPoints[F],F>0&&F<5?s+=e+o:F===5||F===6?a+=i+o:F===11||F==12?a-=i+o:F>6&&(s-=e+o),c=0,F<=3?l=0:F<=5?l=Math.PI*.5:F<=9?l=Math.PI:l=-Math.PI*.5,T=new Ph(F,s+h,a,e,i,l,m,b,_,S,r),T.waitTime=c,F>=4&&F<=6,this.targets.push(T);this.updateDrawTargets();let B,H=180,U=100;for(let F=0;F<3;++F)B=new kh(Math.random()*this.boardWidth-H,F*260+400,H,U,0,this.boardWidth-H,.2+F*.1,1e-4,Math.round(Math.random())===1),this.breakPads.push(B);this.ballHolder=new Dh(this.boardWidth*.5,1200,this.ballRadius*2.5,this.ballRadius*2.5),this.releaseButton=new Ih(0,this.boardHeight*.82,240,240),this.releaseButton.x=this.boardWidth*.5-this.releaseButton.width*.5+this.diffBoardX,this.springArrow=new $D(this.ballHolder.x,this.ballHolder.y+this.ballRadius,this.ballRadius*2,this.ballRadius),this.initSounds()}startGame(){this.addEventListeners(),this.signalIsReady.set(!0),this.changeDetectorRef.detectChanges(),this.appLoopService.start(),this.soundService.playSound("pointShooterStart",!0),K.setTimeout(()=>{this.addBall(this.ballHolder.x,this.ballHolder.y-70),this.changeDetectorRef.detectChanges()},700)}initImages(){this.setImage("ballImage","assets/games/ball-game/images/ball.png"),this.setImage("ballHolderImage","assets/games/ball-game/images/ball-holder.png"),this.setImage("ballHolderOpenImage","assets/games/ball-game/images/ball-holder-open.png"),this.setImage("borderImage","assets/games/ball-game/images/border.png"),this.setImage("pointShooterSlingshotImage","assets/games/point-shooter/images/slingshot.png","slingshotImage"),this.setImage("pointShooterTargetImage","assets/games/point-shooter/images/ball-target.png","targetImage"),this.setImage("pointShooterTgtOverImg","assets/games/point-shooter/images/ball-target-overlay.png","targetOverlayImage"),this.setImage("pointShooterTargetHitImage","assets/games/point-shooter/images/ball-target-hit.png","targetHitImage"),this.setImage("pointShooterTarget2Image","assets/games/point-shooter/images/ball-target2.png","target2Image"),this.setImage("pointShooterTarget2OverlayImage","assets/games/point-shooter/images/ball-target2-overlay.png","target2OverlayImage"),this.setImage("pointShooterTarget2HitImage","assets/games/point-shooter/images/ball-target2-hit.png","target2HitImage"),this.setImage("pointShooterBreakPadLeftImage","assets/games/point-shooter/images/break-pad-left.png","pointShooterBreakPadLeftImage"),this.setImage("pointShooterBreakPadRightImage","assets/games/point-shooter/images/break-pad-right.png","pointShooterBreakPadRightImage")}setImage(e,i,o=null){let r=this.imageLoadService.getImage(e);if(r)this[o||e]=r;else{let s=new Image;s.src=i,s.onload=()=>{this[o||e]=s}}}initSounds(){this.soundService.addSound("pointShooterStart","assets/games/point-shooter/sounds/start.mp3");for(let e=1;e<=5;e++)this.soundService.addSound("coinTarget0"+e,`assets/games/ball-game/sounds/coin-target0${e}.mp3`);for(let e=1;e<=4;e++)this.soundService.addSound("ballCollision"+e,"assets/games/ball-game/sounds/ball-collision"+(e<10?"0":"")+e+".mp3")}addEventListeners(){this.touchElement.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),this.touchElement.addEventListener("mousemove",this.mouseMove),this.touchElement.addEventListener("touchstart",this.touchElementTouchStart,{passive:!1}),this.touchElement.addEventListener("touchstart",this.touchStart),this.touchElement.addEventListener("touchmove",this.touchMove),window.addEventListener("touchend",this.touchEnd),window.addEventListener("touchcancel",this.touchCancel)}removeEventListeners(){this.touchElement?.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),this.touchElement?.removeEventListener("mousemove",this.mouseMove),this.touchElement?.removeEventListener("touchstart",this.touchElementTouchStart),this.touchElement?.removeEventListener("touchstart",this.touchStart),this.touchElement?.removeEventListener("touchmove",this.touchMove),window.removeEventListener("touchend",this.touchEnd),window.removeEventListener("touchcancel",this.touchCancel)}onTouchElementTouchStart(e){e.preventDefault()}onMouseDown(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onDown(i)}onTouchStart(e){if(e.stopImmediatePropagation(),e.preventDefault(),e.touches.length!=1)return;let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onDown(o)}onDown(e){rr.isCircleInRectangle(e.x,e.y,this.ballHolder.width*.5*window.devicePixelRatio,this.ballHolder.x-this.ballHolder.width*.5,this.ballHolder.y-this.ballHolder.height*.5,this.ballHolder.width,this.ballHolder.height)&&(this.ballHolder.isDragging=!0,this.ballHolder.dragPosX=this.ballHolder.x),this.releaseButton&&this.isMousePosInsideReleaseButton(e)&&(this.soundService.playSound("bowDraw",!0,.7),this.releaseButton.isPressed=!0)}onMouseUp(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onUp(i)}onTouchEnd(e){if(e.stopImmediatePropagation(),e.touches.length>0)return;let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onUp(o)}onTouchCancel(e){e.stopImmediatePropagation(),e.preventDefault(),this.releaseButton&&(this.releaseButton.isPressed=!1)}onUp(e){this.ballHolder.isDragging=!1,!(!this.releaseButton||!e)&&this.releaseButton.isPressed&&(this.releaseButton.isPressed=!1,this.shootBall(this.releaseButton.pressFactor),this.soundService.stopSound("bowDraw"),this.soundService.playSound("dropIn",!0),this.releaseButton.pressFactor=0,this.changeDetectorRef.detectChanges())}onMouseMove(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onMove(i)}onTouchMove(e){e.stopImmediatePropagation();let i=this.getMousePos(e,e.touches[0].identifier);i&&this.onMove(i)}onMove(e){if(this.ballHolder&&this.ballHolder?.isDragging){this.ballHolder.x=e.x;let i=this.ballHolder.width*.8;this.ballHolder.x<this.ballHolder.width*.5+i?this.ballHolder.x=this.ballHolder.width*.5+i:this.ballHolder.x>this.boardWidth-this.ballHolder.width*.5-i&&(this.ballHolder.x=this.boardWidth-this.ballHolder.width*.5-i)}this.releaseButton&&this.releaseButton.isPressed&&!this.isMousePosInsideReleaseButton(e)&&(this.releaseButton.isPressed=!1,this.shootBall(this.releaseButton.pressFactor),this.releaseButton.pressFactor=0,this.changeDetectorRef.detectChanges())}isMousePosInsideReleaseButton(e){return this.releaseButton?e.x>=this.releaseButton.x-this.diffBoardX&&e.x<=this.releaseButton.x+this.releaseButton.width-this.diffBoardX&&e.y>=this.releaseButton.y-this.diffBoardY&&e.y<=this.releaseButton.y+this.releaseButton.height-this.diffBoardY:!1}onButtonMouseLeave(){this.releaseButton?.isPressed&&(this.releaseButton.isPressed=!1,this.shootBall(this.releaseButton.pressFactor),this.releaseButton.pressFactor=0,this.changeDetectorRef.detectChanges())}getMousePos(e,i){let o=this.touchElement.getBoundingClientRect(),r=null,s=null;if(e instanceof MouseEvent)r=e.clientX,s=e.clientY;else if(e instanceof TouchEvent){let a=Array.from(e.changedTouches);for(let l of a)l.identifier===i&&(r=l.clientX,s=l.clientY)}return r&&s?{x:-this.diffBoardX+(r-o.x)*this.canvas.nativeElement.width/o.width,y:-this.diffBoardY+(s-o.y)*this.canvas.nativeElement.height/o.height}:null}addBall(e,i){this.ballCount<=0||(this.ballCount--,this.balls.push(new Eh(e,i,0,0,this.ballRadius,Math.PI*.5)))}shootBall(e){let i=null;for(let r of this.balls)if(!r.isReleased){i=r;break}if(!i)return;let o=e*25;e<.2?o=5+Math.random()*5:e>=1&&(o+=Math.random()),i.speed=o,i.angle=Math.PI*1.5,i.x=this.ballHolder.x,i.y=this.ballHolder.y,i.viewAngle=0,i.isReleased=!0,this.startBall.emit(),this.ballHolder.open(),K.setTimeout(()=>{this.addBall(this.ballHolder.x,this.ballHolder.y-70)},1e3)}removeBall(e){this.balls.splice(this.balls.indexOf(e),1)}draw(){if(!(!this.ctx||!this.canvas)){this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.drawTargets(),this.drawBreakPads();for(let e of this.balls)e.isTargetLocked||this.drawBall(e);if(this.drawTargetTexts(),this.drawSpringArrow(),this.drawBallHolder(),this.isDebug&&this.ctx.fillText(this.ballHolder.openTime.toString()+" "+this.ballHolder.isDragging+" "+Math.round(this.ballHolder.dragPosX)+" "+Math.round(this.ballHolder.x),this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.4),kn.isUsingImages)this.borderImage&&this.ctx.drawImage(this.borderImage,0,-200,this.canvas.nativeElement.width,this.canvas.nativeElement.height+320);else{let o=this.canvas.nativeElement.width-90,r=this.canvas.nativeElement.height-10;this.ctx.strokeStyle=this.borderColor,this.ctx.lineWidth=5,this.ctx.beginPath(),this.ctx.moveTo(45,5),this.ctx.lineTo(45,5+r),this.ctx.lineTo(45+o,5+r),this.ctx.lineTo(45+o,5),this.ctx.stroke()}}}updateBall(e,i){let o,r;if(e.isTargetLocked&&e.lockedTarget&&e.targetPos){e.x=e.lockedTarget.x+e.targetPos.x,e.y=e.lockedTarget.y+e.targetPos.y;let s=(e.lockedTarget.points===2,22),a=e.lockedTarget.x+e.lockedTarget.width*.5-e.x,l=e.lockedTarget.y+e.lockedTarget.height*.5-e.y+s,c=Math.sqrt(a*a+l*l);if(c>3){let u=a/c*.3*i,d=l/c*.3*i;e.targetPos.x+=u,e.targetPos.y+=d}e.scale>.4&&(e.scale-=i*.001*e.scale*2)}if(e.isReleased&&!e.isTargetLocked){e.x+=e.speed*Math.cos(e.angle),e.y+=e.speed*Math.sin(e.angle),e.viewAngle+=e.speed*i*.001,e.speed-=.003*i;for(let s=0,a=this.breakPads.length;s<a;++s)o=this.breakPads[s],rr.isCircleInRectangle(e.x,e.y,e.radius,o.x,o.y,o.width,o.height)&&(e.speed-=i*o.breakValue,o.isMovingLeft?e.angle-=.05*o.speed*i:e.angle+=.05*o.speed*i,e.angle=Math.max(-Math.PI*.8,e.angle),e.angle=Math.min(-Math.PI*.2,e.angle),o.isBallCollision=!0);for(let s=0,a=this.targets.length;s<a;++s)if(r=this.targets[s],rr.isCircleInRectangle(e.x,e.y,e.radius,r.x,r.y,r.width,r.height*.2)){this.finishBallMovement(e,r);break}e.angle=Pt.normalizeAngle(e.angle)}}updateTargets(e){let i=!1,o;for(let r=0,s=this.targets.length;r<s;++r)if(o=this.targets[r],o.update(e),o.hasDirectionChanged&&(i=!0,o.hasDirectionChanged=!1,o.angle===Math.PI)){let a;o.index<this.targets.length-1?a=this.targets[o.index+1]:a=this.targets[0],o.x=a.x+a.width+10}i&&this.updateDrawTargets()}updateBreakPads(e){let i;for(let o=0,r=this.breakPads.length;o<r;++o)i=this.breakPads[o],i.update(e)}finishBallMovement(e,i){let o=0;e.isTargetLocked=!0,i&&(i.isHit=!0,o=i.points,e.lockedTarget=i,e.targetPos={x:e.x-i.x,y:e.y-i.y-20});let r={};r[this.targetPoints[3]]="coinTarget05",r[this.targetPoints[2]]="coinTarget03",r[this.targetPoints[1]]="coinTarget02",r[this.targetPoints[0]]="coinTarget01",o in r?this.soundService.playSound(r[o],!0):this.soundService.playSound("coinTarget01",!0);let s={x:e.x,y:e.y};if(this.finishBall.emit({score:o,position:s}),this.ballCount<=0){let a=!0;for(let l of this.balls)l.isTargetLocked||(a=!1);a&&(this.finishGame.emit(!0),K.setTimeout(()=>{this.signalIsReady.set(!1)},1100))}}drawBall(e){this.ctx.save(),this.ctx.translate(this.diffBoardX+e.x,this.diffBoardY+e.y),this.ctx.rotate(e.angle+Math.PI*.5+e.viewAngle);let i=(this.ballRadius*2+30)*e.scale,o=i*.5;kn.isUsingImages?this.ctx.drawImage(this.ballImage,-o,-o,i,i):(this.ctx.strokeStyle=this.ballColor,this.ctx.lineWidth=10,this.ctx.beginPath(),this.ctx.shadowColor=this.ballColor,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=8,this.ctx.arc(0,0,o*.55,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowBlur=0,this.ctx.strokeStyle=this.ballColor,this.ctx.lineWidth=3,this.ctx.arc(0,0,o*.55-5,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowBlur=0),this.isDebug&&(this.ctx.beginPath(),this.ctx.moveTo(0,-o*.75),this.ctx.lineTo(-3,0),this.ctx.lineTo(3,0),this.ctx.closePath(),this.ctx.fillStyle="#fff",this.ctx.fill()),this.ctx.restore(),this.isDebug&&(this.ctx.fillText(e.diffX.toString(),this.diffBoardX+e.x-e.radius-15,this.diffBoardY+e.y-e.radius-15),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,5,0,2*Math.PI,!1),this.ctx.fillStyle="#f00",this.ctx.fill(),this.ctx.lineWidth=2,this.ctx.strokeStyle="#fff",this.ctx.stroke())}drawSpringArrow(){this.ctx.save(),this.ctx.translate(this.diffBoardX+this.springArrow.x+this.springArrow.width*.5,this.diffBoardY+this.springArrow.y+this.springArrow.height*.5),this.ctx.rotate(this.springArrow.angle),kn.isUsingImages?this.ctx.drawImage(this.slingshotImage,-this.springArrow.width*.5,-this.springArrow.height*.5,this.springArrow.width,this.springArrow.height):(this.ctx.beginPath(),this.ctx.fillStyle=this.ballHoldShotColor,this.ctx.rect(-this.springArrow.width*.5,-this.springArrow.height*.5,this.springArrow.width,this.springArrow.height*.6),this.ctx.fill()),this.ctx.restore(),this.ctx.strokeStyle=this.ballHoldGumColorRGB07,this.ctx.beginPath(),this.ctx.moveTo(this.diffBoardX+this.springArrow.x-20,this.diffBoardY+this.springArrow.startY),this.ctx.lineTo(this.diffBoardX+this.springArrow.x+3,this.diffBoardY+this.springArrow.y+this.springArrow.height*.5),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.diffBoardX+this.springArrow.x+this.springArrow.width+20,this.diffBoardY+this.springArrow.startY),this.ctx.lineTo(this.diffBoardX+this.springArrow.x+this.springArrow.width-3,this.diffBoardY+this.springArrow.y+this.springArrow.height*.5),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+this.springArrow.x-20,this.diffBoardY+this.springArrow.startY,5,0,Math.PI*2),this.ctx.arc(this.diffBoardX+this.springArrow.x+this.springArrow.width+20,this.diffBoardY+this.springArrow.startY,5,0,Math.PI*2),this.ctx.fillStyle=this.ballHoldGumColor,this.ctx.fill(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+this.springArrow.x-20,this.diffBoardY+this.springArrow.startY,3,0,Math.PI*2),this.ctx.arc(this.diffBoardX+this.springArrow.x+this.springArrow.width+20,this.diffBoardY+this.springArrow.startY,3,0,Math.PI*2),this.ctx.fillStyle=this.ballHoldGumColor,this.ctx.fill(),this.ctx.closePath()}drawBallHolder(){if(this.isDebug&&(this.ctx.strokeStyle="#733f01",this.ctx.lineWidth=15,this.ctx.strokeRect(this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.5,this.ballHolder.width,this.ballHolder.height),this.ctx.strokeStyle="#da7b06",this.ctx.strokeRect(this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.5+this.ballHolder.height,this.ballHolder.width,5)),kn.isUsingImages){if(this.ballHolderImage&&this.ballHolderOpenImage){let e=this.ballRadius*6.5*kn.sizeFactor,i=this.ballHolderImage.height*e/this.ballHolderImage.width;this.ctx.drawImage(this.ballHolder.isOpen?this.ballHolderOpenImage:this.ballHolderImage,this.diffBoardX+this.ballHolder.x-e*.5,this.diffBoardY+this.ballHolder.y-i*.38,e,i),this.isDebug&&(this.ctx.fillStyle="#900707",this.ctx.fillRect(this.diffBoardX+this.ballHolder.x-this.ballHolderImage.width,this.diffBoardY+this.ballHolder.y-i*.1,10,10))}}else this.drawBallHolderWing(-1,!1,!1),this.drawBallHolderWing(1,!1,!1),this.drawBallHolderWing(-1,!0,!1),this.drawBallHolderWing(1,!0,!1),this.drawBallHolderWing(-1,!0,!0),this.drawBallHolderWing(1,!0,!0),this.ballHolder.isOpen||this.drawBallHolderClosedLine()}drawBallHolderWing(e,i,o){let r=this.diffBoardX+this.ballHolder.x+(o?10*e:0),s=this.diffBoardY+this.ballHolder.y+10,a=60,l=o?20:30,c=o?45:75;this.ctx.save(),i?(this.ctx.shadowColor=o?this.ballHolderColor2RGB05:this.ballHolderColorRGB05,this.ctx.shadowBlur=30,this.ctx.lineWidth=1,this.ctx.strokeStyle=o?this.ballHoldColor2:this.ballHoldColor):(this.ctx.shadowColor=o?this.ballHolderColor2RGB05:this.ballHolderColorRGB05,this.ctx.shadowBlur=6,this.ctx.lineWidth=4,this.ctx.strokeStyle=o?this.ballHoldColor2:this.ballHoldColor),this.ctx.beginPath();let u=r+e*a,d=s,h=5;this.ctx.moveTo(u-e*h,d-l),this.ctx.lineTo(u,d),this.ctx.lineTo(u-e*h,d+l),this.ctx.lineTo(u+c*.25*e,d+l),this.ctx.lineTo(u+c*e,d),this.ctx.lineTo(u+c*.25*e,d-l),this.ctx.lineTo(u-e*h,d-l),this.ctx.stroke(),this.ctx.restore()}drawBallHolderClosedLine(){let e=this.diffBoardX+this.ballHolder.x,i=this.diffBoardY+this.ballHolder.y+10,o=100,r=40;this.ctx.save(),this.ctx.shadowColor=this.ballHoldColor2,this.ctx.shadowBlur=10,this.ctx.lineWidth=4,this.ctx.lineWidth=10,this.ctx.strokeStyle=this.ballHoldColor2,this.ctx.beginPath(),this.ctx.moveTo(e-o*.5,i+r),this.ctx.lineTo(e+o*.5,i+r),this.ctx.stroke(),this.ctx.restore()}updateDrawTargets(){this.targetsTop=[],this.targetsBottom=[],this.targetsLeft=[],this.targetsRight=[];let e;for(let i=0,o=this.targets.length;i<o;++i)e=this.targets[i],e.angle===Math.PI*.5?this.targetsRight.push(e):e.angle===Math.PI?this.targetsBottom.push(e):e.angle===-Math.PI*.5?this.targetsLeft.push(e):this.targetsTop.push(e)}drawTargets(){let e;for(let i=0,o=this.targetsTop.length;i<o;++i)e=this.targetsTop[i],this.drawTarget(e);for(let i=0,o=this.targetsLeft.length;i<o;++i)e=this.targetsLeft[i],this.drawTarget(e);for(let i=0,o=this.targetsRight.length;i<o;++i)e=this.targetsRight[i],this.drawTarget(e);for(let i=0,o=this.targetsBottom.length;i<o;++i)e=this.targetsBottom[i],this.drawTarget(e)}drawTargetTexts(){let e;this.ctx.textAlign="left",this.ctx.textBaseline="middle";for(let i=0,o=this.targetsTop.length;i<o;++i)e=this.targetsTop[i],this.drawTargetText(e);for(let i=0,o=this.targetsLeft.length;i<o;++i)e=this.targetsLeft[i],this.drawTargetText(e);for(let i=0,o=this.targetsRight.length;i<o;++i)e=this.targetsRight[i],this.drawTargetText(e);for(let i=0,o=this.targetsBottom.length;i<o;++i)e=this.targetsBottom[i],this.drawTargetText(e)}drawTarget(e){if(kn.isUsingImages){if(this.ctx.drawImage(e.points===2?this.target2Image:this.targetImage,this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,e.height),e.isHit){this.ctx.drawImage(e.points===2?this.target2HitImage:this.targetHitImage,this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,e.height);for(let i of this.balls)i.lockedTarget===e&&this.drawBall(i);this.ctx.drawImage(e.points===2?this.target2OverlayImage:this.targetOverlayImage,this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,e.height)}}else{this.ctx.fillStyle=this.tgtBgHoleColor,this.ctx.fillRect(this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,e.height),this.ctx.fillStyle=this.tgtBgColor;let i=40,o=30;if(this.ctx.fillRect(this.diffBoardX+e.x,this.diffBoardY+e.y+o,i,e.height-o*2),this.ctx.fillRect(this.diffBoardX+e.x+e.width-i,this.diffBoardY+e.y+o,i,e.height-o*2),this.ctx.fillRect(this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,o),this.ctx.fillRect(this.diffBoardX+e.x,this.diffBoardY+e.y+e.height-o,e.width,o),e.isHit)for(let r of this.balls)r.lockedTarget===e&&(this.drawBall(r),this.ctx.fillStyle=this.tgtBgColor,this.ctx.fillRect(this.diffBoardX+e.x,this.diffBoardY+e.y+e.height-30,e.width,30));this.tgtBgColor!==this.tgtOutColor&&(this.ctx.strokeStyle=this.tgtOutColor,this.ctx.beginPath(),this.ctx.moveTo(this.diffBoardX+e.x,this.diffBoardY+e.y),this.ctx.lineTo(this.diffBoardX+e.x+e.width,this.diffBoardY+e.y),this.ctx.lineTo(this.diffBoardX+e.x+e.width,this.diffBoardY+e.y+e.height),this.ctx.lineTo(this.diffBoardX+e.x,this.diffBoardY+e.y+e.height),this.ctx.lineTo(this.diffBoardX+e.x,this.diffBoardY+e.y),this.ctx.stroke())}this.isDebug&&(this.ctx.beginPath(),this.ctx.fillStyle="#f00",this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,10,0,Math.PI*2),this.ctx.fill())}drawTargetText(e){let i=e.points.toLocaleString(this.nativeTranslateService.currentLocale??"en-US"),o=this.ctx.measureText(i).width;this.ctx.font="bold 40px Arial",this.ctx.fillStyle=this.fontColorTgt,this.ctx.fillText(i,this.diffBoardX+e.x+e.width*.5-o*.5-(g.areMultiplierGames?3:1),this.diffBoardY+e.y+e.height*.5-2),this.isDebug&&(this.ctx.beginPath(),this.ctx.fillStyle="#f00",this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,10,0,Math.PI*2),this.ctx.fill())}drawBreakPads(){let e;for(let i=0,o=this.breakPads.length;i<o;++i)e=this.breakPads[i],kn.isUsingImages?this.ctx.drawImage(e.isMovingLeft?this.pointShooterBreakPadLeftImage:this.pointShooterBreakPadRightImage,this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,e.height):(this.ctx.strokeStyle=this.obstOutColor,this.ctx.fillStyle=e.isBallCollision?this.obstBgActiveColor:this.obstBgColor,this.ctx.fillRect(this.diffBoardX+e.x,this.diffBoardY+e.y,e.width,e.height),e.isBallCollision&&(e.isBallCollision=!1),this.ctx.beginPath(),this.ctx.moveTo(this.diffBoardX+e.x,this.diffBoardY+e.y),this.ctx.lineTo(this.diffBoardX+e.x+e.width,this.diffBoardY+e.y),this.ctx.lineTo(this.diffBoardX+e.x+e.width,this.diffBoardY+e.y+e.height),this.ctx.lineTo(this.diffBoardX+e.x,this.diffBoardY+e.y+e.height),this.ctx.lineTo(this.diffBoardX+e.x,this.diffBoardY+e.y),this.ctx.stroke(),this.drawBreakPadArrow(e,e.isMovingLeft?-1:1)),this.isDebug&&(this.ctx.beginPath(),this.ctx.fillStyle="#f00",this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,10,0,Math.PI*2),this.ctx.fill())}drawBreakPadArrow(e,i){let o=e.x+e.width-40,r=e.y+37,s=5,a=25,l=45;this.ctx.save(),this.ctx.shadowColor=this.obstArrowColor,this.ctx.shadowBlur=6,this.ctx.lineWidth=3,this.ctx.strokeStyle=this.obstArrowColor,this.ctx.beginPath();let c=o-i*s,u=r,d=20;this.ctx.moveTo(c-i*d,u-a),this.ctx.lineTo(c,u),this.ctx.lineTo(c-i*d,u+a),this.ctx.lineTo(c+l*i,u),this.ctx.lineTo(c-i*d,u-a),this.ctx.stroke(),this.ctx.restore()}update(e){for(let i of this.balls)this.updateBall(i,e);this.updateTargets(e),this.updateBreakPads(e),this.releaseButton.update(e),this.ballHolder.update(e),this.springArrow.update(e,this.releaseButton.pressFactor,this.ballHolder.x);for(let i of this.balls){if(i.update(e),this.checkCollisionBallWallBorder(i),i.y-i.radius>this.boardHeight){let o={x:i.x,y:i.y};this.removeBall(i),this.finishBall.emit({score:0,position:o}),this.balls.length<=0&&this.finishGame.emit(!0)}i.isReleased||this.checkCollisionBallHolder(i)}this.releaseButton.isPressed&&this.changeDetectorRef.detectChanges()}checkCollisionBallWallBorder(e){if(e.x-e.radius<0||e.x+e.radius>this.boardWidth){e.dx=-e.dx;let i=e.angle+Math.PI*.5;e.angle=Pt.normalizeAngle((Math.PI*.5+i)*-1)}}checkCollisionBallHolder(e){if(!this.ballHolder)return;let i=rr.isCircleInRectangle(e.x,e.y,e.radius,0,this.ballHolder.y-this.ballHolder.height*.5,this.ballHolder.x-this.ballHolder.width*.5,this.ballHolder.height),o=rr.isCircleInRectangle(e.x,e.y,e.radius,this.ballHolder.x+this.ballHolder.width*.5,this.ballHolder.y-this.ballHolder.height*.5,this.boardWidth,this.ballHolder.height),r=rr.isCircleInRectangle(e.x,e.y,e.radius,this.ballHolder.x-this.ballHolder.width*.5,this.ballHolder.y+this.ballHolder.height*.5-10,this.ballHolder.width,2),s=Math.abs(e.y-e.oldY);if(r&&(e.dy*=-.9,e.y=e.oldY),i){if(e.dy*=-.9,e.y=e.oldY,e.x=this.ballHolder.x-this.ballHolder.width*.5+e.radius+.1,e.dx=.5,!e.isColLeft){e.isColLeft=!0,e.isColRight=!1;let a=Math.max(.1,Math.min(1,Math.abs(e.dx*.1)));this.playBallCollisionSound(a)}}else if(o){if(e.dy*=-.9,e.y=e.oldY,e.x=this.ballHolder.x+this.ballHolder.width*.5-e.radius+.1,e.dx=-.5,!e.isColRight){e.isColRight=!0,e.isColLeft=!1;let a=Math.max(.1,Math.min(1,Math.abs(e.dx*.1)));this.playBallCollisionSound(a)}}else if(r&&s>=1.6&&(!e.isColRight||!e.isColLeft)){let a=Math.max(.1,Math.min(1,Math.abs(e.dy*.4)));this.playBallCollisionSound(a)}}playBallCollisionSound(e=1){let i=Math.floor(Math.random()*4+1);this.soundService.playSound("ballCollision"+i,!0,e)}loop(e){e=Math.min(17,e),this.update(e),this.draw(),this.isDebug&&this.changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-point-shooter"]],viewQuery:function(i,o){if(i&1&&(ie(WV,5),ie(QV,5),ie(YV,5)),i&2){let r;ee(r=te())&&(o.game=r.first),ee(r=te())&&(o.background=r.first),ee(r=te())&&(o.canvas=r.first)}},hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{ballCount:"ballCount",targetPoints:"targetPoints",borderColor:"borderColor",fontColor:"fontColor",fontColorTgt:"fontColorTgt",colorBg1:"colorBg1",colorBg2:"colorBg2",buttonColor:"buttonColor",ballColor:"ballColor",ballHoldColor:"ballHoldColor",ballHoldColor2:"ballHoldColor2",ballHoldGumColor:"ballHoldGumColor",ballHoldShotColor:"ballHoldShotColor",tgtOutColor:"tgtOutColor",tgtBgColor:"tgtBgColor",tgtBgHoleColor:"tgtBgHoleColor",obstArrowColor:"obstArrowColor",obstOutColor:"obstOutColor",obstBgColor:"obstBgColor",obstBgActiveColor:"obstBgActiveColor"},outputs:{startBall:"startBall",finishBall:"finishBall",finishGame:"finishGame"},standalone:!1,features:[Pe],decls:8,vars:7,consts:[["game",""],["background",""],["canvas",""],[1,"game",3,"ngClass"],[1,"background"],[1,"button-container",3,"top","color"],[1,"debug-container"],[1,"button-container"],[1,"text"],["type","button",1,"btn",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchend","touchcancel","touchmove"],[1,"pressed"],[1,"loader2"],[1,"anim"]],template:function(i,o){i&1&&(C(0,"div",3,0),D(2,"div",4,1)(4,"canvas",null,2),P(6,KV,9,21,"div",5),v(),P(7,JV,2,1,"div",6)),i&2&&(I("ngClass",ot(5,XV,o.signalIsReady())),f(2),x("background",`linear-gradient(${o.colorBg1}, ${o.colorBg2})`),f(4),k(o.releaseButton?6:-1),f(),k(o.isDebug?7:-1))},dependencies:[si,ge],styles:[".game[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;scale:0;overflow:hidden;transition:scale 1s}.game.show[_ngcontent-%COMP%]{scale:1}.game[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;transform:scale(1);transform-origin:center center;inset:auto;background:linear-gradient(#00000080,#000)}.game[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute;transform:scale(1);transform-origin:center center;inset:auto;z-index:100}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{position:absolute;color:#fff;z-index:100;width:100%;pointer-events:none;text-align:center}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:46px;position:absolute;top:-130px;left:50%;transform:translate(-50%);width:100%;text-align:center;padding:30px 80px}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{pointer-events:all;position:relative;border:1px solid #ba83d6;color:#fff;cursor:pointer;width:240px;height:240px;border-radius:50%;overflow:hidden}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.7}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .pressed[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:250px;height:250px;background-color:#fff;opacity:.3;border-radius:50%}.debug-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:#fff;font-size:35px}.loader2[_ngcontent-%COMP%]{width:98px;height:98px;display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}.loader2[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{width:98px;height:98px;border-radius:50%;background:#fff;position:absolute;left:0;top:0;box-sizing:border-box;opacity:0;animation:_ngcontent-%COMP%_animLoader 4s ease-in-out infinite}.loader2[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]:nth-child(2n){animation-delay:1s}@keyframes _ngcontent-%COMP%_animLoader{0%,to{transform:scale(0);opacity:1}50%{transform:scale(1);opacity:0}}"]})}}return n})();var Oh=class{constructor(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o}};var Rh=class{constructor(t,e,i,o,r,s,a=.001){this.x=t,this.y=e,this.dx=i,this.dy=o,this.radius=r,this.angle=s,this.fallAngle=a,this.speed=0,this.viewAngle=0,this.isInsideWheel=!1,this.isColLeft=!1,this.isColRight=!1,this.isReleased=!1,this.isTargetLocked=!1,this.lockedWheelAngle=0,this.currentWheelAngle=0,this.currentWheelSegmentNumber=0,this.diffX=0,this.oldX=t,this.oldY=e}update(t){this.oldX=this.x,this.oldY=this.y,this.isReleased||(this.dx>0?(this.dx-=.02,this.dx=Math.max(0,this.dx)):this.dx<0&&(this.dx+=.02,this.dx=Math.min(0,this.dx)),this.dy+=.1,this.dy<0&&(this.dy+=.1,this.dy=Math.min(0,this.dy)),this.x+=this.dx*t*.1,this.y+=this.dy*t*.1,this.angle+=this.dx*this.dy*t*.01)}};var Ah=class{constructor(t,e,i,o){this.x=t,this.y=e,this.radius=i,this.angle=o}update(t){this.angle+=5e-4*t,this.angle=Pt.normalizeAngle(this.angle)}};var mi=(()=>{class n{static{this.maxPressTime=1500}static{this.isUsingImages=!1}}return n})();var Nh=class{constructor(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o,this.isPressed=!1,this.pressFactor=0,this.currentPressTime=0}update(t){this.isPressed?(this.currentPressTime+=t,this.currentPressTime=Math.min(mi.maxPressTime,this.currentPressTime),this.pressFactor=this.currentPressTime/mi.maxPressTime):this.currentPressTime>0&&(this.currentPressTime=0,this.pressFactor=0)}};var WD=(()=>{class n{static{this.maxSpanFactor=1.9}constructor(e,i,o,r){this.x=e,this.y=i,this.width=o,this.height=r,this.isWiggling=!1,this.angle=0,this.startY=0,this.maxY=0,this.wiggleFactor=0,this.startY=i,this.maxY=this.startY+this.height-this.getSpanFactor(1)*this.height}update(e,i){this.y=this.startY+this.height-this.getSpanFactor(i)*this.height,this.y=Math.min(this.maxY,this.y),this.y=Math.max(this.startY,this.y),this.isWiggling=i>0&&i<.2||i>=1,this.isWiggling?(this.wiggleFactor+=e*.06,this.angle=Math.cos(this.wiggleFactor)*Math.PI*.02):(this.wiggleFactor=0,this.angle=0)}getSpanFactor(e){return 1-Math.sqrt(e)*n.maxSpanFactor}}return n})();var tz=["game"],nz=["background"],iz=["canvas"],oz=n=>({show:n});function rz(n,t){if(n&1){let e=ne();C(0,"div",7)(1,"span",8),M(2),E(3,"nativeTranslate"),v(),C(4,"button",9),N("mousedown",function(o){O(e);let r=y();return R(r.onMouseDown(o))})("mousemove",function(o){O(e);let r=y();return R(r.onMouseMove(o))})("mouseup",function(o){O(e);let r=y();return R(r.onMouseUp(o))})("mouseleave",function(){O(e);let o=y();return R(o.onButtonMouseLeave())})("touchstart",function(o){O(e);let r=y();return R(r.onTouchStart(o))})("touchend",function(o){O(e);let r=y();return R(r.onTouchEnd(o))})("touchcancel",function(o){O(e);let r=y();return R(r.onTouchCancel(o))})("touchmove",function(o){O(e);let r=y();return R(r.onTouchMove(o))}),D(5,"span",10),C(6,"span",11),D(7,"span",12)(8,"span",12),v()()()}if(n&2){let e=y();x("top",e.releaseButton.y+e.signalTopOffsetY(),"px")("color",e.fontColor),f(2),ae(A(3,19,"wheel-press-and-release")),f(2),x("width",e.releaseButton.width,"px")("height",e.releaseButton.height,"px")("border-color",e.buttonColor),f(),x("width",e.releaseButton.pressFactor*240,"px")("height",e.releaseButton.pressFactor*240,"px"),f(2),x("background-color",e.buttonColor),f(),x("background-color",e.buttonColor)}}function sz(n,t){if(n&1&&(M(0),D(1,"br")),n&2){let e=y(2);z(" roulette.angle ",e.Math.round(e.MathAngleUtil.radiansToDegrees(e.roulette.angle)))}}function az(n,t){if(n&1&&(M(0),D(1,"br"),M(2),D(3,"br"),M(4),D(5,"br"),M(6),D(7,"br")),n&2){let e=y(2);z(" ball.angle ",e.Math.round(e.MathAngleUtil.radiansToDegrees(e.balls[0].angle))),f(2),z(" ball.currentWheelAngle ",e.Math.round(e.MathAngleUtil.radiansToDegrees(e.balls[0].currentWheelAngle))),f(2),z(" ball.lockedWheelAngle ",e.Math.round(e.MathAngleUtil.radiansToDegrees(e.balls[0].lockedWheelAngle))),f(2),z(" ball.currentWheelSegmentNumber ",e.balls[0].currentWheelSegmentNumber)}}function lz(n,t){if(n&1&&(C(0,"div",6),P(1,sz,2,1),P(2,az,8,4),v()),n&2){let e=y();f(),k(e.roulette?1:-1),f(),k(e.balls.length>0?2:-1)}}var QD=(()=>{class n{constructor(){this.changeDetectorRef=p(Ve),this.imageLoadService=p(we),this.soundService=p(Ce),this.nativeTranslateService=p(Fe),this.ngZone=p(Oe),this.ballCount=3,this.segmentPoints=[1.1,1.3,1.5,2,1.1,1.3,1.5,2],this.borderColor=g.quizGameDefaultMinigameMainColor,this.fontColor=g.quizGameDefaultMinigameFontColor,this.fontColorTgt=g.quizGameDefaultMinigameFontColor,this.colorBg1=g.quizGameDefaultMinigameBackgroundColor1,this.colorBg2=g.quizGameDefaultMinigameBackgroundColor2,this.buttonColor=g.quizGameDefaultMinigameMainColor,this.ballColor=g.quizGameDefaultMinigameBallColor,this.ballHoldGumColor=g.quizGameDefaultMinigameMainColor,this.ballHoldShotColor=g.quizGameDefaultMinigameBallHolderShotColor,this.tgtBgColor=g.quizGameDefaultMinigameMainColorA02,this.tgtBgColor2=g.quizGameDefaultMinigameMainColorA03,this.tgtOutColor=g.quizGameDefaultMinigameMainColor,this.tgtBgRollColor=g.quizGameDefaultMinigameMainColorA06,this.tgtBgLockColor=g.quizGameDefaultMinigameMainColorA08,this.startBall=new Z,this.finishBall=new Z,this.finishGame=new Z,this.signalGameScale=w(window.innerWidth/3840),this.signalTopOffsetY=w(0),this.isDebug=!1,this.signalIsReady=w(!1),this.boardWidth=0,this.boardHeight=0,this.diffBoardX=0,this.diffBoardY=0,this.ballRadius=46,this.ballHoldGumColorRGB07=At.getRGBAColorFromHexColor(this.ballHoldGumColor,.7),this.segmentAngle=2*Math.PI/this.segmentPoints.length,this.balls=[],this.ballImage=new Image,this.borderImage=new Image,this.slingshotImage=new Image,this.rouletteWheelImage=new Image,this.rouletteWheelSegmentImage=new Image,this.rouletteWheelSegmentSelectedImage=new Image,this.MathAngleUtil=Pt,this.Math=Math,this.appLoopService=new hi(this.loop.bind(this)),this.touchElementTouchStart=this.onTouchElementTouchStart.bind(this),this.appLoopService.stop(),this.appLoopService.setRuntime(0),this.appLoopService.init("RouletteComponent",this.ngZone),g.areMultiplierGames||(this.segmentPoints=[100,200,300,500,100,200,300,500])}ngAfterViewInit(){K.setTimeout(()=>{this.changeDetectorRef.detectChanges(),this.init()},0),K.setTimeout(()=>{this.changeDetectorRef.detectChanges(),this.onResize(),this.changeDetectorRef.detectChanges(),this.onResize()},400),K.setTimeout(()=>{this.onResize()},1e3)}ngOnChanges(e){"ballHoldGumColor"in e&&(this.ballHoldGumColorRGB07=At.getRGBAColorFromHexColor(this.ballHoldGumColor,1,.7))}ngOnDestroy(){this.appLoopService.stop(),this.removeEventListeners()}onResize(){this.signalGameScale.set(window.innerWidth/3840);let e=this.background.nativeElement,i=this.canvas.nativeElement,o=1080,r=1920;i.width=o,i.height=r-100,this.boardWidth=o-100,this.boardHeight=r-70,e.style.width=o-100+"px",e.style.height=r-100+"px",i.style.width=i.width+"px",i.style.height=i.height+"px",this.diffBoardX=i.width*.5-this.boardWidth*.5,this.diffBoardY=i.height*.5-this.boardHeight*.5;let s=this.game.nativeElement.clientWidth,a=this.game.nativeElement.clientHeight,l=s/i.width,c=a/i.height;this.signalGameScale.set(Math.min(l,c)),this.signalTopOffsetY.set(a*.5-i.height*.5)}init(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.touchElement=this.canvas.nativeElement,this.onResize(),mi.isUsingImages&&this.initImages(),this.roulette=new Ah(this.boardWidth*.5,this.boardHeight*.4,400,0),this.ballHolder=new Oh(this.roulette.x+this.roulette.radius-this.ballRadius,this.roulette.y+this.roulette.radius,this.ballRadius*2.5,this.ballRadius*2.5),this.releaseButton=new Nh(0,this.boardHeight*.82,240,240),this.releaseButton.x=this.boardWidth*.5-this.releaseButton.width*.5+this.diffBoardX,this.springArrow=new WD(this.roulette.x+this.roulette.radius-this.ballRadius*2,this.roulette.y+this.roulette.radius+this.ballRadius,this.ballRadius*2,this.ballRadius),this.initSounds()}startGame(){this.addEventListeners(),this.signalIsReady.set(!0),this.changeDetectorRef.detectChanges(),this.appLoopService.start(),this.soundService.playSound("rouletteStart",!0),K.setTimeout(()=>{this.addBall(this.roulette.x+this.roulette.radius-this.ballRadius,this.roulette.y+this.roulette.radius-100),this.changeDetectorRef.detectChanges()},700)}initImages(){this.setImage("ballImage","assets/games/ball-game/images/ball.png"),this.setImage("borderImage","assets/games/ball-game/images/border.png"),this.setImage("rouletteSlingshotImage","assets/games/roulette/images/slingshot.png","slingshotImage"),this.setImage("rouletteWheelImage","assets/games/roulette/images/roulette-wheel.png"),this.setImage("rouletteWheelSegmentImage","assets/games/roulette/images/roulette-wheel-segment.png"),this.setImage("rouletteWheelSegmentSelectedImage","assets/games/roulette/images/roulette-wheel-segment-selected.png")}setImage(e,i,o=null){let r=this.imageLoadService.getImage(e);if(r)this[o||e]=r;else{let s=new Image;s.src=i,s.onload=()=>{this[o||e]=s}}}initSounds(){this.soundService.addSound("rouletteStart","assets/games/roulette/sounds/start.mp3");for(let e=1;e<=5;e++)this.soundService.addSound("coinTarget0"+e,`assets/games/ball-game/sounds/coin-target0${e}.mp3`);for(let e=1;e<=4;e++)this.soundService.addSound("ballCollision"+e,"assets/games/ball-game/sounds/ball-collision"+(e<10?"0":"")+e+".mp3")}addEventListeners(){this.touchElement.addEventListener("touchstart",this.touchElementTouchStart,{passive:!1})}removeEventListeners(){this.touchElement?.removeEventListener("touchstart",this.touchElementTouchStart)}onTouchElementTouchStart(e){e.preventDefault()}onMouseDown(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onDown(i)}onTouchStart(e){if(e.stopImmediatePropagation(),e.preventDefault(),e.touches.length<=0)return;let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onDown(o)}onDown(e){this.releaseButton&&this.isMousePosInsideReleaseButton(e)&&(this.soundService.playSound("bowDraw",!0,.7),this.releaseButton.isPressed=!0)}onMouseUp(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onUp(i)}onTouchEnd(e){e.stopImmediatePropagation();let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onUp(o)}onTouchCancel(e){e.stopImmediatePropagation(),e.preventDefault(),this.releaseButton&&(this.releaseButton.isPressed=!1)}onUp(e){!this.releaseButton||!e||this.releaseButton.isPressed&&(this.releaseButton.isPressed=!1,this.shootBall(this.releaseButton.pressFactor),this.soundService.stopSound("bowDraw"),this.soundService.playSound("dropIn",!0),this.releaseButton.pressFactor=0,this.changeDetectorRef.detectChanges())}onMouseMove(e){e.stopImmediatePropagation(),e.preventDefault();let i=this.getMousePos(e,0);i&&this.onMove(i)}onTouchMove(e){e.stopImmediatePropagation();let i=Array.from(e.changedTouches),o=this.getMousePos(e,i[0].identifier);o&&this.onMove(o)}onMove(e){this.releaseButton&&this.releaseButton.isPressed&&!this.isMousePosInsideReleaseButton(e)&&(this.releaseButton.isPressed=!1,this.shootBall(this.releaseButton.pressFactor),this.releaseButton.pressFactor=0,this.changeDetectorRef.detectChanges())}isMousePosInsideReleaseButton(e){return this.releaseButton?e.x>=this.releaseButton.x-this.diffBoardX&&e.x<=this.releaseButton.x+this.releaseButton.width-this.diffBoardX&&e.y>=this.releaseButton.y-this.diffBoardY&&e.y<=this.releaseButton.y+this.releaseButton.height-this.diffBoardY:!1}onButtonMouseLeave(){this.releaseButton.isPressed&&(this.releaseButton.isPressed=!1,this.shootBall(this.releaseButton.pressFactor),this.releaseButton.pressFactor=0,this.changeDetectorRef.detectChanges())}getMousePos(e,i){let o=this.touchElement.getBoundingClientRect(),r=null,s=null;if(e instanceof MouseEvent)r=e.clientX,s=e.clientY;else if(e instanceof TouchEvent){let a=Array.from(e.changedTouches);for(let l of a)l.identifier===i&&(r=l.clientX,s=l.clientY)}return r&&s?{x:-this.diffBoardX+(r-o.x)*this.canvas.nativeElement.width/o.width,y:-this.diffBoardY+(s-o.y)*this.canvas.nativeElement.height/o.height}:null}addBall(e,i){this.ballCount<=0||(this.ballCount--,this.balls.push(new Rh(e,i,0,0,this.ballRadius,Math.PI*.5,.001+Math.random()*5e-4)))}shootBall(e){let i=null;for(let r of this.balls)if(!r.isReleased){i=r;break}if(!i)return;let o=e*25;e<.2?o=5+Math.random()*5:e>=1&&(o+=Math.random()),i.speed=o,i.angle=Math.PI*1.5,i.x=this.roulette.x-this.roulette.radius+this.ballRadius,i.x=this.roulette.x+this.roulette.radius-this.ballRadius,i.y=this.roulette.y+this.roulette.radius,i.viewAngle=0,i.isReleased=!0,i.speed>15?this.soundService.playSound("rouletteRolling03",!0):i.speed>10?this.soundService.playSound("rouletteRolling02",!0):this.soundService.playSound("rouletteRolling01",!0),this.startBall.emit(),K.setTimeout(()=>{this.addBall(this.roulette.x+this.roulette.radius-this.ballRadius,this.roulette.y+this.roulette.radius-100)},1e3)}removeBall(e){this.balls.splice(this.balls.indexOf(e),1)}draw(){if(!(!this.ctx||!this.canvas)){if(this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.isDebug&&(this.ctx.strokeStyle="#733f01",this.ctx.lineWidth=15,this.ctx.strokeRect(this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.5,this.ballHolder.width,this.ballHolder.height),this.ctx.strokeStyle="#da7b06",this.ctx.strokeRect(this.diffBoardX+this.ballHolder.x-this.ballHolder.width*.5,this.diffBoardY+this.ballHolder.y-this.ballHolder.height*.5+this.ballHolder.height,this.ballHolder.width,5)),mi.isUsingImages)this.borderImage&&this.ctx.drawImage(this.borderImage,0,-200,this.canvas.nativeElement.width,this.canvas.nativeElement.height+320);else{let o=this.canvas.nativeElement.width-90,r=this.canvas.nativeElement.height-10;this.ctx.strokeStyle=this.borderColor,this.ctx.lineWidth=5,this.ctx.beginPath(),this.ctx.moveTo(45,5),this.ctx.lineTo(45,5+r),this.ctx.lineTo(45+o,5+r),this.ctx.lineTo(45+o,5),this.ctx.stroke()}if(this.ctx.save(),this.ctx.translate(this.diffBoardX+this.roulette.x,this.diffBoardY+this.roulette.y),this.ctx.rotate(this.roulette.angle+Math.PI*.5),mi.isUsingImages)this.ctx.drawImage(this.rouletteWheelImage,-this.roulette.radius,-this.roulette.radius,this.roulette.radius*2,this.roulette.radius*2);else for(let e=0,i=this.segmentPoints.length;e<i;++e)this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.arc(0,0,this.roulette.radius,e*this.segmentAngle,(e+1)*this.segmentAngle),this.ctx.closePath(),this.ctx.fillStyle=e%2===0?this.tgtBgColor:this.tgtBgColor2,this.ctx.fill(),this.ctx.strokeStyle=this.tgtOutColor,this.ctx.stroke();this.ctx.restore(),this.ctx.save(),this.ctx.translate(this.diffBoardX+this.roulette.x,this.diffBoardY+this.roulette.y),this.ctx.rotate(this.roulette.angle+Math.PI*.5);for(let e=0,i=this.segmentPoints.length;e<i;++e){for(let o of this.balls)o.currentWheelSegmentNumber===e+1&&(mi.isUsingImages?this.ctx.drawImage(o.isTargetLocked?this.rouletteWheelSegmentSelectedImage:this.rouletteWheelSegmentImage,0,-this.roulette.radius,this.roulette.radius,this.roulette.radius):(this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.arc(0,0,this.roulette.radius,-Math.PI*.5,-Math.PI*.5+this.segmentAngle),this.ctx.closePath(),this.ctx.fillStyle=o.isTargetLocked?this.tgtBgLockColor:this.tgtBgRollColor,this.ctx.fill()));this.ctx.rotate(this.segmentAngle)}this.ctx.restore();for(let e=0,i=this.segmentPoints.length;e<i;++e){let o=(this.isDebug?`${e+1}: `:"")+this.segmentPoints[e].toLocaleString(this.nativeTranslateService.currentLocale??"en-US");this.ctx.fillStyle=this.fontColorTgt,this.ctx.font="bold 45px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle";let r=this.roulette.radius*.62,s=e*this.segmentAngle+this.segmentAngle*.5+this.roulette.angle,a=this.diffBoardX+this.roulette.x+Math.cos(s)*r,l=this.diffBoardY+this.roulette.y+Math.sin(s)*r;this.ctx.fillText(o,a,l)}for(let e of this.balls)this.drawBall(e);this.drawSpringArrow()}}updateBall(e,i){if(e.isTargetLocked){let o=Math.sqrt((e.x-this.roulette.x)**2+(e.y-this.roulette.y)**2),r=Pt.normalizeAngle(e.lockedWheelAngle+this.roulette.angle);e.x=this.roulette.x+Math.cos(r)*o,e.y=this.roulette.y+Math.sin(r)*o}if(e.isReleased&&!e.isTargetLocked){e.x+=e.speed*Math.cos(e.angle),e.y+=e.speed*Math.sin(e.angle),e.viewAngle+=e.speed*i*.001,e.speed-=.003*i,e.currentWheelAngle=Math.atan2(e.y-this.roulette.y,e.x-this.roulette.x);let o=this.getCurrentBallSegmentNumber(e);e.currentWheelSegmentNumber!==o&&(e.currentWheelSegmentNumber=o,this.soundService.playSound("rouletteStep",!0,.3)),e.isInsideWheel?this.handleWallCollision(e,i):!e.isInsideWheel&&this.isBallInsideTable(e)&&(e.isInsideWheel=!0),e.angle=Pt.normalizeAngle(e.angle),e.speed<1e-7&&this.finishBallMovement(e)}}finishBallMovement(e){let i=this.segmentPoints[e.currentWheelSegmentNumber-1];e.isTargetLocked=!0,e.lockedWheelAngle=Pt.normalizeAngle(e.currentWheelAngle-this.roulette.angle);let o={};o[this.segmentPoints[4]]="coinTarget05",o[this.segmentPoints[3]]="coinTarget04",o[this.segmentPoints[2]]="coinTarget03",o[this.segmentPoints[1]]="coinTarget02",o[this.segmentPoints[0]]="coinTarget01",i in o?this.soundService.playSound(o[i],!0,.5):this.soundService.playSound("coinTarget01",!0,.5),this.soundService.playSound("rouletteLogin",!0,.7),this.soundService.playSound("rouletteLock",!0);let r={x:e.x,y:e.y};if(this.finishBall.emit({score:i,position:r}),this.ballCount<=0){let s=!0;for(let a of this.balls)a.isTargetLocked||(s=!1);s&&(this.finishGame.emit(!0),K.setTimeout(()=>{this.signalIsReady.set(!1)},1100))}}getCurrentBallSegmentNumber(e){let i=e.currentWheelAngle-this.roulette.angle;return i<0&&(i+=2*Math.PI),Math.floor(i/this.segmentAngle)+1}handleWallCollision(e,i){let o=Math.atan2(e.y-this.roulette.y,e.x-this.roulette.x),r=Math.sqrt((e.x-this.roulette.x)**2+(e.y-this.roulette.y)**2),s=o-Math.PI*.5,a=Pt.normalizeAngle(e.angle-s);if(this.isBallAtTableWall(r)){Math.abs(a)>Math.PI*.35?e.angle=s-a:e.angle-=a*.5;let l=r+this.ballRadius-this.roulette.radius;l>0&&(e.x-=l*Math.cos(o),e.y-=l*Math.sin(o))}if(e.speed<20){let l=Math.atan2(this.roulette.y-e.y,this.roulette.x-e.x),c=Pt.normalizeAngle(l-e.angle);e.angle+=Pt.normalizeAngle(c+Math.PI*.5-Math.PI*e.fallAngle*i)}}isBallAtTableWall(e){return e+this.ballRadius>=this.roulette.radius}isBallInsideTable(e){return Math.sqrt((e.x-this.roulette.x)**2+(e.y-this.roulette.y)**2)+this.ballRadius<=this.roulette.radius+1}drawBall(e){this.ctx.save(),this.ctx.translate(this.diffBoardX+e.x,this.diffBoardY+e.y),this.ctx.rotate(e.angle+Math.PI/2+e.viewAngle),mi.isUsingImages?this.ctx.drawImage(this.ballImage,-this.ballRadius-15,-this.ballRadius-15,this.ballRadius*2+30,this.ballRadius*2+30):(this.ctx.strokeStyle=this.ballColor,this.ctx.lineWidth=10,this.ctx.beginPath(),this.ctx.shadowColor=this.ballColor,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=8,this.ctx.arc(0,0,e.radius-5,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowBlur=0,this.ctx.strokeStyle=this.ballColor,this.ctx.lineWidth=3,this.ctx.arc(0,0,e.radius-5,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowBlur=0),this.isDebug&&(this.ctx.beginPath(),this.ctx.moveTo(0,-this.ballRadius),this.ctx.lineTo(-3,-this.ballRadius+50),this.ctx.lineTo(3,-this.ballRadius+50),this.ctx.closePath(),this.ctx.fillStyle="#fff",this.ctx.fill()),this.ctx.restore(),this.isDebug&&(this.ctx.fillText(e.diffX.toString(),this.diffBoardX+e.x-e.radius-15,this.diffBoardY+e.y-e.radius-15),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+e.x,this.diffBoardY+e.y,5,0,2*Math.PI,!1),this.ctx.fillStyle="#f00",this.ctx.fill(),this.ctx.lineWidth=2,this.ctx.strokeStyle="#fff",this.ctx.stroke())}drawSpringArrow(){this.ctx.save(),this.ctx.translate(this.diffBoardX+this.springArrow.x+this.springArrow.width*.5,this.diffBoardY+this.springArrow.y+this.springArrow.height*.5),this.ctx.rotate(this.springArrow.angle),mi.isUsingImages?this.ctx.drawImage(this.slingshotImage,-this.springArrow.width*.5,-this.springArrow.height*.5,this.springArrow.width,this.springArrow.height):(this.ctx.beginPath(),this.ctx.fillStyle=this.ballHoldShotColor,this.ctx.rect(-this.springArrow.width*.5,-this.springArrow.height*.5,this.springArrow.width,this.springArrow.height*.6),this.ctx.fill()),this.ctx.restore(),this.ctx.strokeStyle=this.ballHoldGumColorRGB07,this.ctx.beginPath(),this.ctx.moveTo(this.diffBoardX+this.springArrow.x-20,this.diffBoardY+this.springArrow.startY),this.ctx.lineTo(this.diffBoardX+this.springArrow.x+3,this.diffBoardY+this.springArrow.y+this.springArrow.height*.5),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.diffBoardX+this.springArrow.x+this.springArrow.width+20,this.diffBoardY+this.springArrow.startY),this.ctx.lineTo(this.diffBoardX+this.springArrow.x+this.springArrow.width-3,this.diffBoardY+this.springArrow.y+this.springArrow.height*.5),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+this.springArrow.x-20,this.diffBoardY+this.springArrow.startY,10,0,Math.PI*2),this.ctx.arc(this.diffBoardX+this.springArrow.x+this.springArrow.width+20,this.diffBoardY+this.springArrow.startY,10,0,Math.PI*2),this.ctx.fillStyle=this.ballHoldGumColor,this.ctx.fill(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(this.diffBoardX+this.springArrow.x-20,this.diffBoardY+this.springArrow.startY,3,0,Math.PI*2),this.ctx.arc(this.diffBoardX+this.springArrow.x+this.springArrow.width+20,this.diffBoardY+this.springArrow.startY,3,0,Math.PI*2),this.ctx.fillStyle=this.ballHoldGumColor,this.ctx.fill(),this.ctx.closePath()}update(e){for(let i of this.balls)this.updateBall(i,e);this.roulette.update(e),this.releaseButton.update(e),this.springArrow.update(e,this.releaseButton.pressFactor);for(let i of this.balls){if(i.update(e),this.checkCollisionBallWallBorder(i),i.y-i.radius>this.boardHeight){let o={x:i.x,y:i.y};this.removeBall(i),this.finishBall.emit({score:0,position:o}),this.balls.length<=0&&this.finishGame.emit(!0)}i.isReleased||this.checkCollisionBallHolder(i)}this.releaseButton.isPressed&&this.changeDetectorRef.detectChanges()}checkCollisionBallWallBorder(e){(e.x-e.radius<0||e.x+e.radius>this.boardWidth)&&(e.dx=-e.dx,e.x-e.radius<0?e.x=e.radius*.9:e.x=this.boardWidth-e.radius*.9)}checkCollisionBallHolder(e){if(!this.ballHolder)return;let i=this.checkCircleRectCollision(e,{x:0,y:this.ballHolder.y-this.ballHolder.height*.5,width:this.ballHolder.x-this.ballHolder.width*.5,height:this.ballHolder.height}),o=this.checkCircleRectCollision(e,{x:this.ballHolder.x+this.ballHolder.width*.5,y:this.ballHolder.y-this.ballHolder.height*.5,width:this.boardWidth,height:this.ballHolder.height}),r=this.checkCircleRectCollision(e,{x:this.ballHolder.x-this.ballHolder.width*.5,y:this.ballHolder.y+this.ballHolder.height*.5-10,width:this.ballHolder.width,height:2}),s=Math.abs(e.y-e.oldY);if(r&&(e.dy*=-.9,e.y=e.oldY),i){if(e.dy*=-.9,e.y=e.oldY,e.x=this.ballHolder.x-this.ballHolder.width*.5+e.radius+.1,e.dx=.5,!e.isColLeft){e.isColLeft=!0,e.isColRight=!1;let a=Math.max(.1,Math.min(1,Math.abs(e.dx*.1)));this.playBallCollisionSound(a)}}else if(o){if(e.dy*=-.9,e.y=e.oldY,e.x=this.ballHolder.x+this.ballHolder.width*.5-e.radius+.1,e.dx=-.5,!e.isColRight){e.isColRight=!0,e.isColLeft=!1;let a=Math.max(.1,Math.min(1,Math.abs(e.dx*.1)));this.playBallCollisionSound(a)}}else if(r&&s>=1.6&&(!e.isColRight||!e.isColLeft)){let a=Math.max(.1,Math.min(1,Math.abs(e.dy*.4)));this.playBallCollisionSound(a)}}playBallCollisionSound(e=1){let i=Math.floor(Math.random()*4+1);this.soundService.playSound("ballCollision"+i,!0,e)}checkCircleRectCollision(e,i){let o=Math.abs(e.x-i.x-i.width*.5),r=Math.abs(e.y-i.y-i.height*.5);if(o>i.width*.5+e.radius||r>i.height*.5+e.radius)return!1;if(o<=i.width*.5||r<=i.height*.5)return!0;let s=o-i.width*.5,a=r-i.height*.5;return s*s+a*a<=e.radius*e.radius}loop(e){e=Math.min(17,e),this.update(e),this.draw(),this.isDebug&&this.changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-roulette"]],viewQuery:function(i,o){if(i&1&&(ie(tz,5),ie(nz,5),ie(iz,5)),i&2){let r;ee(r=te())&&(o.game=r.first),ee(r=te())&&(o.background=r.first),ee(r=te())&&(o.canvas=r.first)}},hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{ballCount:"ballCount",segmentPoints:"segmentPoints",borderColor:"borderColor",fontColor:"fontColor",fontColorTgt:"fontColorTgt",colorBg1:"colorBg1",colorBg2:"colorBg2",buttonColor:"buttonColor",ballColor:"ballColor",ballHoldGumColor:"ballHoldGumColor",ballHoldShotColor:"ballHoldShotColor",tgtBgColor:"tgtBgColor",tgtBgColor2:"tgtBgColor2",tgtOutColor:"tgtOutColor",tgtBgRollColor:"tgtBgRollColor",tgtBgLockColor:"tgtBgLockColor"},outputs:{startBall:"startBall",finishBall:"finishBall",finishGame:"finishGame"},standalone:!1,features:[Pe],decls:8,vars:7,consts:[["game",""],["background",""],["canvas",""],[1,"game",3,"ngClass"],[1,"background"],[1,"button-container",3,"top","color"],[1,"debug-container"],[1,"button-container"],[1,"text"],["type","button",1,"btn",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchend","touchcancel","touchmove"],[1,"pressed"],[1,"loader2"],[1,"anim"]],template:function(i,o){i&1&&(C(0,"div",3,0),D(2,"div",4,1)(4,"canvas",null,2),P(6,rz,9,21,"div",5),v(),P(7,lz,3,2,"div",6)),i&2&&(I("ngClass",ot(5,oz,o.signalIsReady())),f(2),x("background",`linear-gradient(${o.colorBg1}, ${o.colorBg2})`),f(4),k(o.releaseButton?6:-1),f(),k(o.isDebug?7:-1))},dependencies:[si,ge],styles:['.game[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;align-content:center;justify-content:center;align-items:center;scale:0;overflow:hidden;transition:scale 1s}.game.show[_ngcontent-%COMP%]{scale:1}.game[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;transform:scale(1);transform-origin:center center;inset:auto;background:linear-gradient(#00000080,#000)}.game[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute;transform:scale(1);transform-origin:center center;inset:auto;z-index:100}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{position:absolute;color:#fff;z-index:100;width:100%;pointer-events:none;text-align:center}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:46px;position:absolute;top:-130px;left:50%;transform:translate(-50%);width:100%;text-align:center;padding:30px 80px}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{pointer-events:all;position:relative;border:1px solid #ba83d6;color:#fff;cursor:pointer;width:240px;height:240px;border-radius:50%;overflow:hidden}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:.7}.game[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .pressed[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:250px;height:250px;background-color:#fff;opacity:.3;border-radius:50%}.debug-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:#fff;font-size:35px}.loader[_ngcontent-%COMP%]{width:48px;height:48px;display:inline-block;position:relative;pointer-events:none}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;width:48px;height:48px;border:2px solid #FFF;position:absolute;left:0;top:0;animation:_ngcontent-%COMP%_scaleLoaderOut 2s ease-in-out infinite}.loader[_ngcontent-%COMP%]:after{border-color:#ff3d00;animation-delay:1s}@keyframes _ngcontent-%COMP%_scaleLoaderOut{0%{transform:scale(0)}to{transform:scale(1)}}.loader2[_ngcontent-%COMP%]{width:98px;height:98px;display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}.loader2[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{width:98px;height:98px;border-radius:50%;background:#fff;position:absolute;left:0;top:0;box-sizing:border-box;opacity:0;animation:_ngcontent-%COMP%_animLoader 4s ease-in-out infinite}.loader2[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]:nth-child(2n){animation-delay:1s}@keyframes _ngcontent-%COMP%_animLoader{0%,to{transform:scale(0);opacity:1}50%{transform:scale(1);opacity:0}}']})}}return n})();function uz(n,t){if(n&1&&(C(0,"tr")(1,"td",14),M(2),v(),C(3,"td",15),M(4),v()()),n&2){let e=t.$implicit,i=t.$index,o=y();f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResultScoreColor:void 0),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350-350),f(),z("",(i+1).toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," "),f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResultScoreColor:void 0),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",i*350-250),f(),z(" ",e.factor.toLocaleString(o.nativeTranslateService.currentLocale??"en-US")," ")}}function dz(n,t){if(n&1&&(C(0,"div",16),M(1),v()),n&2){let e=y();x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenMinigames.dialogResultScoreColor:void 0),I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",e.finishBallScores.length*350)("startCallback",e.onScoreArrive),f(),z("",e.score.toLocaleString(e.nativeTranslateService.currentLocale??"en-US")," ")}}var YD=(()=>{class n{constructor(){this.globalGameService=p(ye),this.initService=p(de),this.nativeTranslateService=p(Fe),this.soundService=p(Ce),this.quizNumber=0,this.score=0,this.wasLastGame=!1,this.finishBallScores=[],this.cancelDialog=new Z,this.AppConfig=g,this.onScoreArrive=()=>{this.soundService.playSound(V.scoreArrive,!0)}}onClickClose(e){this.soundService.playSound(V.click,!0),this.soundService.playSound(V.modalFadeOut,!0),this.cancelDialog.emit(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-multiplier-solved"]],inputs:{quizNumber:"quizNumber",score:"score",wasLastGame:"wasLastGame",finishBallScores:"finishBallScores"},outputs:{cancelDialog:"cancelDialog"},standalone:!1,decls:28,vars:35,consts:[[1,"dialog-container","dialog-multiplier-solved"],[1,"dialog"],[1,"dialog-header"],[1,"dialog-title"],[1,"title"],[1,"dialog-body","font-secondary"],[1,"finish-ball-scores"],[1,"table"],[1,"text-center"],[1,"text-end",2,"padding-left","20px"],[1,"total"],[3,"appTimeoutClass","fromClass","timeout","startCallback","color"],[1,"dialog-footer","justify-content-center"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnContentPadding","btnContentFontSize"],[1,"text-center",3,"appTimeoutClass","fromClass","timeout"],[1,"text-end",2,"padding-left","20px",3,"appTimeoutClass","fromClass","timeout"],[3,"appTimeoutClass","fromClass","timeout","startCallback"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3)(4,"div",4),M(5),E(6,"nativeTranslate"),v()()(),C(7,"div",5)(8,"div",6)(9,"table",7)(10,"tr")(11,"th",8),M(12),E(13,"nativeTranslate"),v(),C(14,"th",9),M(15),E(16,"nativeTranslate"),v()(),ct(17,uz,5,12,"tr",null,Fn),v()(),C(19,"div",10)(20,"div"),M(21),E(22,"nativeTranslate"),v(),P(23,dz,2,7,"div",11),v()(),C(24,"div",12)(25,"app-base-button",13),N("clickButton",function(){return o.onClickClose(!0)}),M(26),E(27,"nativeTranslate"),v()()()()),i&2&&(f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResult.fontColor:void 0)("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResult.colorBg:void 0)("border-radius",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResult.radius:void 0,"px")("border-width",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResult.border:void 0,"px")("border-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResult.borderColor:void 0),f(3),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResultTitleColor:void 0)("border-bottom-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.dialogResult.fontColor:void 0),f(),z(" ",A(6,25,"bonus-chance")),f(7),ae(A(13,27,"ball")),f(3),z(" ",A(16,29,"bonus")," "),f(2),ut(o.finishBallScores),f(4),z("",A(22,31,"in-total"),":"),f(2),k(o.finishBallScores.length>0?23:-1),f(2),I("configBtn",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenMinigames.btnDialogResult:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentPadding","15px 10px")("btnContentFontSize","56px"),f(),z("",A(27,33,o.wasLastGame?"end-game":"continue-to-next-quiz")," "))},dependencies:[Br,Ee,ge],styles:[".dialog-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:auto;z-index:1;background-color:#0000004d;touch-action:none;will-change:scale}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:relative;width:90%;background-color:#0009;padding:15px;margin:0 auto;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center;max-height:1920px;overflow-x:clip;overflow-y:auto}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;font-size:1.5em;text-align:center;border-bottom:2px solid #fff;padding:25px 80px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{overflow-wrap:break-word;font-size:24px;padding:20px 190px 20px 110px;width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .solved[_ngcontent-%COMP%]{text-align:center}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .factor[_ngcontent-%COMP%]{font-size:56px;padding:5px 0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .finish-ball-scores[_ngcontent-%COMP%]{padding:10px 0;margin-bottom:20px;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .finish-ball-scores[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .finish-ball-scores[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:32px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .finish-ball-scores[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .finish-ball-scores[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 0;text-align:center;position:relative}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{padding:10px 0 10px 20px;display:flex;justify-content:space-between;align-items:center;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{margin-bottom:20px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{padding:30px 40px;width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .pre-timeout-ani01[_ngcontent-%COMP%]{opacity:0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .timeout-ani01[_ngcontent-%COMP%]{will-change:scale,opacity;animation:_ngcontent-%COMP%_appear 1s ease-in-out}@keyframes _ngcontent-%COMP%_appear{0%{scale:1.6;opacity:0}to{scale:1;opacity:1}}"]})}}return n})();var gz=["aniSplitScreenTitleComponent"],hz=["gameComponent"];function mz(n,t){if(n&1){let e=ne();C(0,"app-pachinko",7,1),N("startBall",function(){O(e);let o=y();return R(o.onStartBall())})("finishBall",function(o){O(e);let r=y();return R(r.onFinishBall(o))})("finishGame",function(o){O(e);let r=y();return R(r.onFinishGame(o))}),v()}if(n&2){let e=y();I("borderColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.borderColor:e.AppConfig.quizGameDefaultMinigameMainColor)("fontColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.fontColor:e.AppConfig.quizGameDefaultMinigameFontColor)("fontColorTgt",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.fontColorTgt:e.AppConfig.quizGameDefaultMinigameFontColor)("colorBg1",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.colorBg1:e.AppConfig.quizGameDefaultMinigameBackgroundColor1)("colorBg2",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.colorBg2:e.AppConfig.quizGameDefaultMinigameBackgroundColor2)("buttonColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.buttonColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.ballColor:e.AppConfig.quizGameDefaultMinigameBallColor)("ballHoldColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.ballHoldColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballHoldColor2",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.ballHoldColor2:e.AppConfig.quizGameDefaultMinigameMainColor)("tgtOutColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.tgtOutColor:e.AppConfig.quizGameDefaultMinigameOutlineColor)("tgtBgColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.tgtBgColor:e.AppConfig.quizGameDefaultMinigameTargetBackgroundColor)("tgtBgActColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.tgtBgActColor:e.AppConfig.quizGameDefaultMinigameBallColor)("nailColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPachinko.nailColor:e.AppConfig.quizGameDefaultMinigameMainColor)}}function pz(n,t){if(n&1){let e=ne();C(0,"app-roulette",8,1),N("startBall",function(){O(e);let o=y();return R(o.onStartBall())})("finishBall",function(o){O(e);let r=y();return R(r.onFinishBall(o))})("finishGame",function(o){O(e);let r=y();return R(r.onFinishGame(o))}),v()}if(n&2){let e=y();I("borderColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.borderColor:e.AppConfig.quizGameDefaultMinigameMainColor)("fontColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.fontColor:e.AppConfig.quizGameDefaultMinigameFontColor)("fontColorTgt",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.fontColorTgt:e.AppConfig.quizGameDefaultMinigameFontColor)("colorBg1",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.colorBg1:e.AppConfig.quizGameDefaultMinigameBackgroundColor1)("colorBg2",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.colorBg2:e.AppConfig.quizGameDefaultMinigameBackgroundColor2)("buttonColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.buttonColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.ballColor:e.AppConfig.quizGameDefaultMinigameBallColor)("ballHoldGumColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.ballHoldGumColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballHoldShotColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.ballHoldShotColor:e.AppConfig.quizGameDefaultMinigameBallHolderShotColor)("tgtBgColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.tgtBgColor:e.AppConfig.quizGameDefaultMinigameMainColorA02)("tgtBgColor2",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.tgtBgColor2:e.AppConfig.quizGameDefaultMinigameMainColorA03)("tgtOutColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.tgtOutColor:e.AppConfig.quizGameDefaultMinigameMainColor)("tgtBgRollColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.tgtBgRollColor:e.AppConfig.quizGameDefaultMinigameMainColorA06)("tgtBgLockColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgRoulette.tgtBgLockColor:e.AppConfig.quizGameDefaultMinigameMainColorA08)}}function Cz(n,t){if(n&1){let e=ne();C(0,"app-point-shooter",9,1),N("startBall",function(){O(e);let o=y();return R(o.onStartBall())})("finishBall",function(o){O(e);let r=y();return R(r.onFinishBall(o))})("finishGame",function(o){O(e);let r=y();return R(r.onFinishGame(o))}),v()}if(n&2){let e=y();I("borderColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.borderColor:e.AppConfig.quizGameDefaultMinigameMainColor)("fontColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.fontColor:e.AppConfig.quizGameDefaultMinigameFontColor)("fontColorTgt",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.fontColorTgt:e.AppConfig.quizGameDefaultMinigameFontColor)("colorBg1",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.colorBg1:e.AppConfig.quizGameDefaultMinigameBackgroundColor1)("colorBg2",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.colorBg2:e.AppConfig.quizGameDefaultMinigameBackgroundColor2)("buttonColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.buttonColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.ballColor:e.AppConfig.quizGameDefaultMinigameBallColor)("ballHoldColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.ballHoldColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballHoldColor2",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.ballHoldColor2:e.AppConfig.quizGameDefaultMinigameMainColor)("ballHoldGumColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.ballHoldGumColor:e.AppConfig.quizGameDefaultMinigameMainColor)("ballHoldShotColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.ballHoldShotColor:e.AppConfig.quizGameDefaultMinigameBallHolderShotColor)("tgtOutColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.tgtOutColor:e.AppConfig.quizGameDefaultMinigameTargetBackgroundColor2)("tgtBgColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.tgtBgColor:e.AppConfig.quizGameDefaultMinigameTargetBackgroundColor2)("tgtBgHoleColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.tgtBgHoleColor:e.AppConfig.quizGameDefaultMinigameTargetHoleBackgroundColor)("obstArrowColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.obstArrowColor:e.AppConfig.quizGameDefaultMinigameMainColor)("obstOutColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.obstOutColor:e.AppConfig.quizGameDefaultMinigameMainColor)("obstBgColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.obstBgColor:e.AppConfig.quizGameDefaultMinigameObstacleBackgroundColor)("obstBgActiveColor",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().screenMgPointShooter.obstBgActiveColor:e.AppConfig.quizGameDefaultMinigameBallLightColor)}}function vz(n,t){n&1&&(D(0,"h1",10),E(1,"nativeTranslate")),n&2&&I("heightPx",390)("maxFontSize",52*2.5)("minFontSize",30*2.5)("innerHTML",an(1,4,"bonus-chance",null,null,!0),Le)}function yz(n,t){if(n&1){let e=ne();C(0,"div",6),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-multiplier-solved",11),N("cancelDialog",function(){O(e);let o=y();return R(o.exit())}),v()()}if(n&2){let e=y();f(),I("quizNumber",e.gameService.signalQuizNumber())("score",e.totalBallScore)("wasLastGame",e.wasLastGame)("finishBallScores",e.finishBallScores)}}var XD=(()=>{class n{constructor(){this.gameService=p(ye),this.userGameService=p(zt),this.initService=p(de),this.gameCoinsService=p(Pi),this.gameHeaderService=p(Mo),this.imageLoadService=p(we),this.backgroundAnimationService=p(Io),this.aniSplitScreenTitleService=p(Fr),this.soundService=p(Ce),this.isShowingSolvedDialog=w(!1),this.signalSplitScreenAnimationType=w(Qt.diagonalLeftToRight),this.signalSplitScreenColorBg=w(g.quizGameDefaultSplitScreenColorBg),this.signalSplitScreenBackgroundImage=w("none"),this.finishBallScores=[],this.totalBallScore=0,this.backgroundSoundTimeoutSubscription=null,this.finishGameTimeoutSubscription=null,this.splitScreenRestartEventSubscription=null,this.wasLastGame=!1,this.AppConfig=g,ec(()=>{this.gameService.signalCurrentMultiplierGame()&&K.setTimeout(()=>{this.soundService.playSound(V.modalFadeOut,!0),this.aniSplitScreenTitleComponent?.isOpen||this.aniSplitScreenTitleComponent?.toggle(),this.gameComponent?.startGame()},1600)})}ngOnInit(){let i="gameMultiplierMusic"+Xi.addLeadingZeros(this.gameService.signalCurrentMultiplierGame(),2);this.gameService.signalCurrentMultiplierGame()===0&&this.gameService.signalCurrentMultiplierGame.set(g.startMultiplierGame);let o=this.imageLoadService.getImage("crabFrontImage");o&&this.backgroundAnimationService.setImageUrls([o.src,o.src,o.src,o.src,o.src,o.src,o.src,o.src],1),this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.playBackgroundSound(i)},2e3),o=this.imageLoadService.getImage("miniGameSplitScreenBgImage"),o&&this.signalSplitScreenBackgroundImage.set(`url('${o.src}')`),this.updateSplitScreenBg("start"),this.splitScreenRestartEventSubscription=this.aniSplitScreenTitleService.eventEmitter.subscribe(r=>{this.updateSplitScreenBg(r)})}ngAfterViewInit(){}ngOnDestroy(){this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.finishGameTimeoutSubscription&&(this.finishGameTimeoutSubscription.unsubscribe(),this.finishGameTimeoutSubscription=null),this.splitScreenRestartEventSubscription&&(this.splitScreenRestartEventSubscription.unsubscribe(),this.splitScreenRestartEventSubscription=null)}updateSplitScreenBg(e){let i=null,o=null,r=null;i=this.gameService.signalGameConfig()?.miniGameSplitScreenAnimationType??Qt.diagonalLeftToRight,this.signalSplitScreenAnimationType.set(i),o=this.gameService.signalGameConfig()?.miniGameSplitScreenColorBg??"#d4d4d442",this.signalSplitScreenColorBg.set(o),r=this.imageLoadService.getImage("miniGameSplitScreenBgImage"),r?this.signalSplitScreenBackgroundImage.set(`url('${r.src}')`):this.signalSplitScreenBackgroundImage.set("none")}onStartBall(){g.isDebugConsole&&console.log("startBall")}onFinishBall(e){g.isDebugConsole&&console.log("finishBall",e);let i=this.userGameService.signalGameScore().score,o=g.areMultiplierGames?Math.round(i*e.score):i+e.score;g.areMultiplierGames?this.totalBallScore+=Math.round(i*e.score):this.totalBallScore+=e.score,this.userGameService.setScore(o),this.finishBallScores.push({factor:e.score,scoreBefore:i,scoreAfter:o});let r=784,s=54,a=e.position.x+45,l=e.position.y+45;this.gameHeaderService.prepareGameScore(this.userGameService.signalGameScore().score),this.gameCoinsService.start(a,l,r,s,10,()=>{this.gameHeaderService.updateGameScore()},()=>{})}onFinishGame(e){this.finishGameTimeoutSubscription=K.setTimeout(()=>{this.finishGameTimeoutSubscription=null,this.soundService.playSound(V.multiplierFinish,!0);let i=this.gameService.signalGameConfig()?this.gameService.signalGameConfig().maxQuizRoundCount:g.maxQuizRoundCount,o=this.gameService.signalQuizNumber()>=i;g.isDebugConsole&&console.log("quiz:",this.gameService.signalQuizNumber(),"score:",this.userGameService.signalGameScore()),this.wasLastGame=o,this.isShowingSolvedDialog.set(!0),this.soundService.playSound("modalFadeIn",!0)},1500)}exit(){this.isShowingSolvedDialog.set(!1),this.soundService.playSound("modalFadeOut",!0),K.setTimeout(()=>{this.wasLastGame?this.gameService.finishGameFully():(this.gameService.setQuizNumber(this.gameService.signalQuizNumber()+1),this.initService.navigateToRoute(G.gameTopic).then())},500)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-multiplier-page"]],viewQuery:function(i,o){if(i&1&&(ie(gz,5),ie(hz,5)),i&2){let r;ee(r=te())&&(o.aniSplitScreenTitleComponent=r.first),ee(r=te())&&(o.gameComponent=r.first)}},standalone:!1,decls:7,vars:7,consts:[["aniSplitScreenTitleComponent",""],["gameComponent",""],[3,"borderColor","fontColor","fontColorTgt","colorBg1","colorBg2","buttonColor","ballColor","ballHoldColor","ballHoldColor2","tgtOutColor","tgtBgColor","tgtBgActColor","nailColor"],[3,"borderColor","fontColor","fontColorTgt","colorBg1","colorBg2","buttonColor","ballColor","ballHoldGumColor","ballHoldShotColor","tgtBgColor","tgtBgColor2","tgtOutColor","tgtBgRollColor","tgtBgLockColor"],[3,"borderColor","fontColor","fontColorTgt","colorBg1","colorBg2","buttonColor","ballColor","ballHoldColor","ballHoldColor2","ballHoldGumColor","ballHoldShotColor","tgtOutColor","tgtBgColor","tgtBgHoleColor","obstArrowColor","obstOutColor","obstBgColor","obstBgActiveColor"],[3,"backgroundColor","backgroundImageUrl","splitScreenAnimationType"],[1,"dialog-animation-container"],[3,"startBall","finishBall","finishGame","borderColor","fontColor","fontColorTgt","colorBg1","colorBg2","buttonColor","ballColor","ballHoldColor","ballHoldColor2","tgtOutColor","tgtBgColor","tgtBgActColor","nailColor"],[3,"startBall","finishBall","finishGame","borderColor","fontColor","fontColorTgt","colorBg1","colorBg2","buttonColor","ballColor","ballHoldGumColor","ballHoldShotColor","tgtBgColor","tgtBgColor2","tgtOutColor","tgtBgRollColor","tgtBgLockColor"],[3,"startBall","finishBall","finishGame","borderColor","fontColor","fontColorTgt","colorBg1","colorBg2","buttonColor","ballColor","ballHoldColor","ballHoldColor2","ballHoldGumColor","ballHoldShotColor","tgtOutColor","tgtBgColor","tgtBgHoleColor","obstArrowColor","obstOutColor","obstBgColor","obstBgActiveColor"],["appAutoFitFont","",1,"split-screen-title",3,"heightPx","maxFontSize","minFontSize","innerHTML"],[3,"cancelDialog","quizNumber","score","wasLastGame","finishBallScores"]],template:function(i,o){i&1&&(P(0,mz,2,13,"app-pachinko",2),P(1,pz,2,14,"app-roulette",3),P(2,Cz,2,18,"app-point-shooter",4),C(3,"app-ani-split-screen-title",5,0),Wo(5,vz,2,9,"ng-template"),v(),P(6,yz,2,4,"div",6)),i&2&&(k(o.gameService.signalCurrentMultiplierGame()<=1?0:-1),f(),k(o.gameService.signalCurrentMultiplierGame()===2?1:-1),f(),k(o.gameService.signalCurrentMultiplierGame()===3?2:-1),f(),I("backgroundColor",o.signalSplitScreenColorBg())("backgroundImageUrl",o.signalSplitScreenBackgroundImage())("splitScreenAnimationType",o.signalSplitScreenAnimationType()),f(3),k(o.isShowingSolvedDialog()?6:-1))},dependencies:[qD,jD,QD,YD,Do,yl,ge],encapsulation:2,changeDetection:0})}}return n})();var KD=(()=>{class n{constructor(){this.initService=p(de),this.gameService=p(ye),this.btnPointerEventsNone=!1,this.clickTopic=new Z}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-category-card"]],inputs:{nr:"nr",topic:"topic",hasTransition:"hasTransition",selected:"selected",notSelected:"notSelected",btnPointerEventsNone:"btnPointerEventsNone"},outputs:{clickTopic:"clickTopic"},standalone:!1,decls:4,vars:24,consts:[[1,"topic"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentHeight","btnContentPadding","btnTouchDownClass","btnPointerEventsNone"],["appAutoFitFont","",1,"category-name",3,"heightPx","maxFontSize","minFontSize","innerHTML"]],template:function(i,o){if(i&1&&(C(0,"div",0)(1,"app-base-button",1),N("clickButton",function(){return o.clickTopic.emit(o.topic)}),D(2,"div",2),E(3,"nativeTranslate"),v()()),i&2){let r;se("nr2",o.nr===2)("has-transition",o.hasTransition)("selected",o.selected)("not-selected",o.notSelected),f(),I("configBtn",((r=o.gameService.signalGameConfig())==null?null:r.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnContentWidth","450px")("btnContentHeight","450px")("btnContentPadding","12px 35px")("btnTouchDownClass","touch-down")("btnPointerEventsNone",o.btnPointerEventsNone),f(),I("heightPx",390)("maxFontSize",52)("minFontSize",30)("innerHTML",an(3,19,"quiz-"+o.topic.name,null,null,!0),Le)}},dependencies:[Do,Ee,ge],styles:[".topic[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:none}.topic[_ngcontent-%COMP%]{margin:0 30px}.topic.has-transition[_ngcontent-%COMP%]{transition:opacity .3s,scale .25s ease-out}.topic.has-transition[_ngcontent-%COMP%]:not(.selected):not(.not-selected){animation-name:_ngcontent-%COMP%_pulse;animation-duration:2s;animation-timing-function:ease-in-out;animation-iteration-count:infinite;animation-direction:alternate}.topic.has-transition[_ngcontent-%COMP%]:not(.selected):not(.not-selected).nr2{animation-direction:alternate-reverse}.topic.selected[_ngcontent-%COMP%]{pointer-events:none}.topic.selected.has-transition[_ngcontent-%COMP%]{transition:opacity 2s,scale 2s ease-out}.topic.not-selected[_ngcontent-%COMP%]{pointer-events:none;scale:.8;opacity:.25}.topic.not-selected.has-transition[_ngcontent-%COMP%]{transition:opacity 2s,scale 2s ease-out}.topic[_ngcontent-%COMP%]:not(.has-transition){animation:none;transition:none}@keyframes _ngcontent-%COMP%_pulse{0%{scale:1}to{scale:.95}}"]})}}return n})();var bz=["board"],Sz=["scoreGift"],wz=["categoryCard1"],Mz=["categoryCard2"],xz=(n,t)=>({round:n,total:t});function Tz(n,t){if(n&1&&(C(0,"div",16),M(1),v()),n&2){let e=y(2);I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",10),f(),z("",e.signalPathGiftScore().toLocaleString(e.nativeTranslateService.currentLocale??"en-US")," ")}}function Dz(n,t){if(n&1){let e=ne();C(0,"div",11,1)(2,"button",15),N("click",function(){O(e);let o=y();return R(o.onClickOpenGift())}),M(3,"\xA0 "),v(),P(4,Tz,2,4,"div",16),v()}if(n&2){let e=y();I("appTimeoutClass","timeout-ani01")("fromClass","pre-timeout-ani01")("timeout",10),f(2),x("mask-image",e.signalIsGiftOpen()?e.signalBtnGiftOpenImageUrl():e.signalBtnGiftClosedImageUrl()),se("closed",!e.signalIsGiftOpen()),f(2),k(e.signalIsGiftOpen()?4:-1)}}function Iz(n,t){if(n&1){let e=ne();C(0,"div",null,2)(2,"app-game-category-card",17),N("clickTopic",function(){O(e);let o=y();return R(o.onClickTopic(o.signalTopic1()))}),v()()}if(n&2){let e=y();f(2),I("nr",1)("topic",e.signalTopic1())("hasTransition",!0)("selected",e.gameService.currentTopic===e.signalTopic1())("notSelected",e.gameService.currentTopic!==null&&e.gameService.currentTopic!==e.signalTopic1())("btnPointerEventsNone",!!e.gameService.currentTopic)}}function Ez(n,t){if(n&1){let e=ne();C(0,"div",null,3)(2,"app-game-category-card",17),N("clickTopic",function(){O(e);let o=y();return R(o.onClickTopic(o.signalTopic2()))}),v()()}if(n&2){let e=y();f(2),I("nr",2)("topic",e.signalTopic2())("hasTransition",!0)("selected",e.gameService.currentTopic===e.signalTopic2())("notSelected",e.gameService.currentTopic!==null&&e.gameService.currentTopic!==e.signalTopic2())("btnPointerEventsNone",!!e.gameService.currentTopic)}}function Pz(n,t){if(n&1&&D(0,"app-game-category-card",19),n&2){let e=y(2);I("nr",1)("topic",e.signalOldTopic1())("hasTransition",!1)("selected",e.signalOldLeftSide())("notSelected",!e.signalOldLeftSide())("btnPointerEventsNone",!0)}}function kz(n,t){if(n&1&&D(0,"app-game-category-card",19),n&2){let e=y(2);I("nr",2)("topic",e.signalOldTopic2())("hasTransition",!1)("selected",!e.signalOldLeftSide())("notSelected",e.signalOldLeftSide())("btnPointerEventsNone",!0)}}function Oz(n,t){if(n&1&&(C(0,"div",6),D(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),v(),C(5,"div",18),P(6,Pz,1,6,"app-game-category-card",19),P(7,kz,1,6,"app-game-category-card",19),v()),n&2){let e,i,o,r,s=y();x("left",s.signalOffsetOldCategoriesX()+540,"px")("top",s.signalOffsetOldCategoriesY()+1100,"px"),f(),x("background-color",((e=s.gameService.signalGameConfig())==null?null:e.colorCategoryPath)??s.pathColor),se("centered",s.signaLineStartLeft2Centered())("visible",s.signaLineStartLeft2Visible()),f(),x("background-color",((i=s.gameService.signalGameConfig())==null?null:i.colorCategoryPath)??s.pathColor),se("visible",s.signaLineStartRight2Visible()),f(),x("background-color",((o=s.gameService.signalGameConfig())==null?null:o.colorCategoryPath)??s.pathColor),se("visible",s.signaLineStartBottom2Visible())("line-bottom-for-start-point",s.signalIsStartPointEnabled()),f(),x("background-color",((r=s.gameService.signalGameConfig())==null?null:r.colorCategoryPath)??s.pathColor),se("line-before-right",s.signaIsLineBefore2Right())("line-before-centered",s.signaIsLineBefore2Centered())("visible",s.signaIsLineBefore2Visible()),f(),x("left",s.signalOffsetOldCategoriesX(),"px")("top",s.signalOffsetOldCategoriesY()+655,"px"),f(),k(s.signalOldTopic1()?6:-1),f(),k(s.signalOldTopic2()?7:-1)}}function Rz(n,t){if(n&1&&(C(0,"div",20),it("fade-in-800ms"),M(1),E(2,"nativeTranslate"),v(),C(3,"div",21),it("fade-in-800ms"),M(4),E(5,"nativeTranslate"),v()),n&2){let e=y();f(),z("",pn(2,2,"round-of-total",_s(7,xz,e.gameService.signalQuizNumber(),e.signalMaxQuizRoundCount()))," "),f(3),ae(A(5,5,"choose-a-topic"))}}function Az(n,t){if(n&1){let e=ne();C(0,"div",14)(1,"button",22),N("click",function(){O(e);let o=y();return R(o.clickTest())}),M(2,"test"),v(),C(3,"button",22),N("click",function(){O(e);let o=y();return R(o.showGiftPackage(100))}),M(4,"Bonus score"),v(),C(5,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.buttonXPlusDown=!0)})("mouseup",function(){O(e);let o=y();return R(o.buttonXPlusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonXPlusDown=!1)}),M(6,"X+ "),v(),C(7,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.buttonXMinusDown=!0)})("mouseup",function(){O(e);let o=y();return R(o.buttonXMinusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonXMinusDown=!1)}),M(8,"X- "),v(),C(9,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.buttonYPlusDown=!0)})("mouseup",function(){O(e);let o=y();return R(o.buttonYPlusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonYPlusDown=!1)}),M(10,"y+ "),v(),C(11,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.buttonYMinusDown=!0)})("mouseup",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)}),M(12,"y- "),v(),D(13,"br"),C(14,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.setScrollPageZoom("left"))})("mouseup",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)}),M(15,"Zoom Left "),v(),C(16,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.setScrollPageZoom("right"))})("mouseup",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)}),M(17,"Zoom Right "),v(),C(18,"button",23),N("mousedown",function(){O(e);let o=y();return R(o.setScrollPageZoom("center"))})("mouseup",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)})("mouseleave",function(){O(e);let o=y();return R(o.buttonYMinusDown=!1)}),M(19,"Zoom Center "),v()()}}var ZD=(()=>{class n{constructor(){this.initService=p(de),this.gameService=p(ye),this.userGameService=p(zt),this.gameCoinsService=p(Pi),this.gameHeaderService=p(Mo),this.nativeTranslateService=p(Fe),this.fileLoadService=p(Yi),this.imageLoadService=p(we),this.soundService=p(Ce),this.toastService=p(Ki),this.changeDetectorRef=p(Ve),this.appLoopService=new hi(this.loop.bind(this)),this.appIntervalService=new vl,this.areTestButtonsEnabled=!1,this.signalMaxQuizRoundCount=w(0),this.signalTopic1=w(null),this.signalTopic2=w(null),this.signalOldTopic1=w(null),this.signalOldTopic2=w(null),this.signalOldLeftSide=w(!1),this.signalIsChooseTextEnabled=w(!1),this.signalIsStartPointEnabled=w(!1),this.signalState=w(0),this.pathColor="#6c6cff",this.signaLineStartBottomVisible=w(!1),this.signaLineStartLeftVisible=w(!1),this.signaLineStartLeftCentered=w(!1),this.signaLineStartRightVisible=w(!1),this.signaLineStartBottom2Visible=w(!1),this.signaLineStartLeft2Visible=w(!1),this.signaLineStartLeft2Centered=w(!1),this.signaLineStartRight2Visible=w(!1),this.signaIsLineBeforeVisible=w(!1),this.signaIsLineBeforeRight=w(!1),this.signaIsLineBeforeCentered=w(!1),this.signaIsLineBefore2Visible=w(!1),this.signaIsLineBefore2Right=w(!1),this.signaIsLineBefore2Centered=w(!1),this.signalCategoryLeftVisible=w(!1),this.signalCategoryRightVisible=w(!1),this.signalScrollPageX=w(0),this.signalScrollPageY=w(0),this.signalPageZoom=w(1),this.signalPageOpacity=w(1),this.signalPathGiftScore=w(0),this.scrollPageTargetX=0,this.scrollPageTargetY=0,this.scrollPageTargetZoom=1,this.signalOffsetOldCategoriesX=w(0),this.signalOffsetOldCategoriesY=w(0),this.signalBtnGiftClosedImageUrl=w("none"),this.signalBtnGiftOpenImageUrl=w("none"),this.signalIsGiftOpen=w(!1),this.backgroundSoundTimeoutSubscription=null,this.pageAniTimeoutSubscription=null,this.topicAniTimeoutSubscription=null,this.buttonXPlusDown=!1,this.buttonXMinusDown=!1,this.buttonYPlusDown=!1,this.buttonYMinusDown=!1,this.appLoopService.stop(),this.appLoopService.setRuntime(0),this.appLoopService.init("GameTopicPageComponent")}ngOnInit(){this.gameService.setCurrentTopic(-1),this.gameService.currentTopics.length<1&&this.gameService.refreshCurrentTopics();let e=this.gameService.signalGameConfig()?this.gameService.signalGameConfig().maxQuizRoundCount:g.maxQuizRoundCount;this.signalMaxQuizRoundCount.set(e),this.signalTopic1.set(this.gameService.currentTopics.length>0?this.gameService.currentTopics[0]:null),this.signalTopic2.set(this.gameService.currentTopics.length>1?this.gameService.currentTopics[1]:null);let o="chooseTopicMusic"+"01",r;r=this.imageLoadService.getImage("giftClosedImage"),this.signalBtnGiftClosedImageUrl()==="none"&&r&&this.signalBtnGiftClosedImageUrl.set(`url('${r.src}')`),r=this.imageLoadService.getImage("giftOpenImage"),this.signalBtnGiftOpenImageUrl()==="none"&&r&&this.signalBtnGiftOpenImageUrl.set(`url('${r.src}')`),this.loadTopicConfigs().then(),this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.stopAllBackgroundSounds(),this.soundService.playBackgroundSound(o)},500),this.startAnimation()}ngOnDestroy(){this.appLoopService.stop(),this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.pageAniTimeoutSubscription&&(this.pageAniTimeoutSubscription.unsubscribe(),this.pageAniTimeoutSubscription=null),this.topicAniTimeoutSubscription&&(this.topicAniTimeoutSubscription.unsubscribe(),this.topicAniTimeoutSubscription=null)}onResize(){this.changeDetectorRef.detectChanges()}resetAnimation(){this.signaLineStartBottomVisible.set(!1),this.signaLineStartLeftVisible.set(!1),this.signaLineStartLeftCentered.set(!1),this.signaLineStartRightVisible.set(!1),this.signaLineStartBottom2Visible.set(!1),this.signaLineStartLeft2Visible.set(!1),this.signaLineStartLeft2Centered.set(!1),this.signaLineStartRight2Visible.set(!1),this.signaIsLineBeforeVisible.set(!1),this.signaIsLineBeforeRight.set(!1),this.signaIsLineBeforeCentered.set(!1),this.signaIsLineBefore2Visible.set(!1),this.signaIsLineBefore2Right.set(!1),this.signaIsLineBefore2Centered.set(!1),this.signalCategoryLeftVisible.set(!1),this.signalCategoryRightVisible.set(!1),this.signalScrollPageX.set(0),this.signalScrollPageY.set(0),this.signalPathGiftScore.set(0),this.scrollPageTargetX=0,this.scrollPageTargetY=0,this.signalOffsetOldCategoriesX.set(0),this.signalOffsetOldCategoriesY.set(0)}startAnimation(){this.resetAnimation(),this.appLoopService.start(),this.signalIsChooseTextEnabled.set(!1),this.gameService.signalQuizNumber()===1?this.signalState.set(0):this.gameService.signalQuizNumber()===2?this.signalState.set(1):this.gameService.signalQuizNumber()>=3&&this.signalState.set(2),this.signalState()===0?this.startAnimationStart():this.signalState()>=1&&this.startAnimationStartToMid()}startAnimationStart(){this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.signalIsStartPointEnabled.set(!0),this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.appIntervalService.startIntervalFunction(5,7,()=>{this.signaLineStartBottomVisible.set(!this.signaLineStartBottomVisible()),this.appIntervalService.intervalStartTime+=15,this.soundService.playSound(V.categoryFlash,!0)},()=>{this.signaLineStartBottomVisible.set(!0);let e=this.signalTopic2();this.signaLineStartLeftCentered.set(!e),this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.appIntervalService.startIntervalFunction(5,7,()=>{this.signaLineStartLeftVisible.set(!this.signaLineStartLeftVisible()),e&&this.signaLineStartRightVisible.set(!this.signaLineStartRightVisible()),this.appIntervalService.intervalStartTime+=15,this.soundService.playSound(V.categoryFlash,!0)},()=>{this.signaLineStartLeftVisible.set(!0),e&&this.signaLineStartRightVisible.set(!0),this.signalCategoryLeftVisible.set(!0),this.signalCategoryRightVisible.set(!0),this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.scrollPageTargetZoom===1&&this.gameService.currentTopic!==this.signalTopic1()&&this.gameService.currentTopic!==this.signalTopic2()&&this.signalIsChooseTextEnabled.set(!0)},500)})},200)})},1e3)},300)}startAnimationStartToMid(){let e=this.gameService.oldTopicsHistory[this.gameService.oldTopicsHistory.length-1];if(!e)return;let i=null;this.gameService.oldTopicsHistory.length>=2&&(i=this.gameService.oldTopicsHistory[this.gameService.oldTopicsHistory.length-2]);let o=e.isLeft,r=e.topics;r.length>0&&this.signalOldTopic1.set(r[0]),r.length>1&&this.signalOldTopic2.set(r[1]),this.signalOldLeftSide.set(o);let s=this.signalTopic2(),a=this.signalOldTopic2(),l=a?880:0,c=1260;this.signalScrollPageX.set(o?-l:l),this.signalScrollPageY.set(-c),this.scrollPageTargetX=this.signalScrollPageX(),this.scrollPageTargetY=this.signalScrollPageY(),this.signalOffsetOldCategoriesX.set(-this.signalScrollPageX()),this.signalOffsetOldCategoriesY.set(-this.signalScrollPageY()),this.signaLineStartLeft2Visible.set(!0),this.signaLineStartLeft2Centered.set(!a),this.signaLineStartRight2Visible.set(!!a),this.signaLineStartBottom2Visible.set(!0),this.signaIsLineBeforeRight.set(!!a&&!!e?.isLeft),this.signaIsLineBeforeCentered.set(!a),this.signalState()===1?this.signalIsStartPointEnabled.set(!0):this.signalState()===2&&(this.signalIsStartPointEnabled.set(!1),this.signaIsLineBefore2Visible.set(!0),i&&(this.signaIsLineBefore2Right.set(i.isLeft),this.signaIsLineBefore2Centered.set(i.topics.length<2))),this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.scrollPageTargetX=0,this.scrollPageTargetY=0,this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.appIntervalService.startIntervalFunction(5,7,()=>{this.signaIsLineBeforeVisible.set(!this.signaIsLineBeforeVisible()),this.signaLineStartBottomVisible.set(!this.signaLineStartBottomVisible()),this.appIntervalService.intervalStartTime+=15,this.soundService.playSound(V.categoryFlash,!0)},()=>{this.signaIsLineBeforeVisible.set(!0),this.signaLineStartBottomVisible.set(!0),this.signaLineStartLeftCentered.set(!s),this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.appIntervalService.startIntervalFunction(5,7,()=>{this.signaLineStartLeftVisible.set(!this.signaLineStartLeftVisible()),s&&this.signaLineStartRightVisible.set(!this.signaLineStartRightVisible()),this.appIntervalService.intervalStartTime+=15,this.soundService.playSound(V.categoryFlash,!0)},()=>{if(this.signaLineStartLeftVisible.set(!0),s&&this.signaLineStartRightVisible.set(!0),this.signalCategoryLeftVisible.set(!0),this.signalCategoryRightVisible.set(!0),Math.floor(Math.random()*6)===0){let d=Math.floor(Math.random()*5)*100+400;this.showGiftPackage(d)}this.pageAniTimeoutSubscription=K.setTimeout(()=>{this.signalIsChooseTextEnabled.set(!0)},1100)})},200)})},800)},1200),this.changeDetectorRef.detectChanges()}getPositionOnScreen(e,i){let o=this.board.nativeElement.getBoundingClientRect(),r=e.getBoundingClientRect(),s=o.width/this.board.nativeElement.clientWidth,a=i==="left"?0:i==="right"?r.width:r.width*.5;return{x:(r.left+a-o.left)/s,y:(r.top+r.height*.5)/s}}showGiftPackage(e){this.signalPathGiftScore.set(e),this.changeDetectorRef.detectChanges()}onClickOpenGift(){if(this.signalIsGiftOpen()||this.signalPathGiftScore()<=0||(this.signalIsGiftOpen.set(!0),!this.scoreGiftRef))return;let e=this.getPositionOnScreen(this.scoreGiftRef.nativeElement,"center"),i=784,o=54;this.userGameService.addScore(this.signalPathGiftScore()),this.gameHeaderService.prepareGameScore(this.userGameService.signalGameScore().score),this.soundService.playSound(V.answerRight,!0),this.gameCoinsService.start(e.x,e.y,i,o,4,()=>{this.gameHeaderService.updateGameScore()},null)}clickTest(){let e=Math.floor(Math.random()*2),i=this.gameService.currentTopics[e];i&&(this.gameService.setCurrentTopic(i.id),this.gameService.currentTopic=null,this.gameService.currentTopics.length<1&&this.gameService.refreshCurrentTopics(),this.gameService.currentTopics.length>0&&this.signalTopic1.set(this.gameService.currentTopics[0]),this.gameService.currentTopics.length>1&&this.signalTopic2.set(this.gameService.currentTopics[1]),this.loadTopicConfigs().then(),this.changeDetectorRef.detectChanges(),console.log(this.gameService.oldTopicsHistory),this.gameService.signalQuizNumber.set(this.gameService.signalQuizNumber()+1),this.startAnimation())}loadTopicConfigs(){return ue(this,null,function*(){let e=[],i=this.signalTopic1()?.url,o=this.signalTopic2()?.url;i&&e.push(i),o&&e.push(o);let r=[];try{r=yield this.fileLoadService.loadFiles(e)}catch(a){this.toastService.showToast(a,fn.error,3e4)}if(e=[],r[0]&&r[0].type.indexOf("application/json")!==-1&&i){let a=yield r[0].text(),l=JSON.parse(a);l.categoryKey&&(this.signalTopic1().name=l.categoryKey),Q.isset(l.hasOverridingValues)&&l.hasOverridingValues===!0?this.signalTopic1().categorySplitScreenConfig={backgroundColor:l.splitScreenColorBg??"#d4d4d442",animationType:Q.isset(l.splitScreenAnimationType)?l.splitScreenAnimationType:Qt.diagonalLeftToRight,backgroundImageUrl:l.imageSplitScreenBg??null}:this.signalTopic1().categorySplitScreenConfig=null}if(r[1]&&r[1].type.indexOf("application/json")!==-1&&o){let a=yield r[1].text(),l=JSON.parse(a);l.categoryKey&&(this.signalTopic2().name=l.categoryKey),Q.isset(l.hasOverridingValues)&&l.hasOverridingValues===!0?this.signalTopic2().categorySplitScreenConfig={backgroundColor:l.splitScreenColorBg??"#d4d4d442",animationType:Q.isset(l.splitScreenAnimationType)?l.splitScreenAnimationType:Qt.diagonalLeftToRight,backgroundImageUrl:l.imageSplitScreenBg??null}:this.signalTopic2().categorySplitScreenConfig=null}let s;this.signalTopic1()?.categorySplitScreenConfig?.backgroundImageUrl&&(s=this.signalTopic1().basePath+"/images/"+this.signalTopic1().categorySplitScreenConfig.backgroundImageUrl+".png",e.push(s)),this.signalTopic2()?.categorySplitScreenConfig?.backgroundImageUrl&&(s=this.signalTopic2().basePath+"/images/"+this.signalTopic2().categorySplitScreenConfig.backgroundImageUrl+".png",e.push(s));try{r=yield this.fileLoadService.loadFiles(e)}catch(a){this.toastService.showToast(a,fn.error,3e4)}r[0]&&(r[0].type==="image/jpeg"||r[0].type==="image/png"||r[0].type==="image/svg+xml")&&this.imageLoadService.addImage(this.signalTopic1().name+"SplitScreenBgImage",r[0]),r[1]&&(r[1].type==="image/jpeg"||r[1].type==="image/png"||r[1].type==="image/svg+xml")&&this.imageLoadService.addImage(this.signalTopic2().name+"SplitScreenBgImage",r[1]),this.changeDetectorRef.detectChanges()})}setScrollPageZoom(e){if(this.scrollPageTargetZoom===1){this.scrollPageTargetZoom=2.5;let i=this.categoryCard1.nativeElement.clientWidth*.5*this.scrollPageTargetZoom;e==="left"?this.scrollPageTargetX=i:e==="right"?this.scrollPageTargetX=-i:e==="center"&&(this.scrollPageTargetX=0),this.scrollPageTargetY=-this.board.nativeElement.clientHeight*.5*this.scrollPageTargetZoom+this.board.nativeElement.clientHeight*.5}else this.scrollPageTargetZoom=1,this.scrollPageTargetX=0,this.scrollPageTargetY=0}onClickTopic(e){if(this.gameService.currentTopic)return;this.soundService.playSound(V.click,!0),this.soundService.playSound(V.buttonSelected,!0),this.signalIsChooseTextEnabled.set(!1);let i=this.getHorizontalTypeFromTopic(e);this.setScrollPageZoom(i),this.gameService.setCurrentTopic(e.id)}getHorizontalTypeFromTopic(e){return e===this.signalTopic1()&&this.signalTopic2()?"left":e===this.signalTopic2()&&this.signalTopic1()?"right":"center"}loop(e){this.update(e)}update(e){this.appIntervalService.update(e);let i=8e-4,o=!1;if(this.signalPageZoom()!==this.scrollPageTargetZoom){let l=this.scrollPageTargetZoom-this.signalPageZoom(),c=.003;Math.abs(l)>.001?(i=c,o=!0,this.signalPageZoom.set(this.signalPageZoom()+l*c*e)):this.signalPageZoom.set(this.scrollPageTargetZoom)}let r={x:this.signalScrollPageX(),y:this.signalScrollPageY()},s={x:this.scrollPageTargetX,y:this.scrollPageTargetY},a=this.gameService.getDistance(s,r);if(a>10){if(o&&a<600&&this.signalPageOpacity.set(Math.max(a/600-.1,0)),o&&a<30){this.onEndZoom(s);return}else!o&&a<200&&a>100&&(a=200);let l=this.gameService.getRotationRadianAngle(r,s),c=Math.cos(l)*a,u=Math.sin(l)*a;this.signalScrollPageX.set(this.signalScrollPageX()+c*i*e),this.signalScrollPageY.set(this.signalScrollPageY()+u*i*e)}this.buttonXPlusDown&&this.signalScrollPageX.set(this.signalScrollPageX()+1.2*e),this.buttonXMinusDown&&this.signalScrollPageX.set(this.signalScrollPageX()-1.2*e),this.buttonYPlusDown&&this.signalScrollPageY.set(this.signalScrollPageY()+1.2*e),this.buttonYMinusDown&&this.signalScrollPageY.set(this.signalScrollPageY()-1.2*e)}onEndZoom(e){this.signalScrollPageX.set(e.x),this.signalScrollPageY.set(e.y),this.signalPageZoom.set(this.scrollPageTargetZoom),this.pageAniTimeoutSubscription?.unsubscribe(),this.pageAniTimeoutSubscription=null,this.topicAniTimeoutSubscription=null,this.initService.navigateToRoute(G.game).then()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-topic-page"]],viewQuery:function(i,o){if(i&1&&(ie(bz,5),ie(Sz,5),ie(wz,5),ie(Mz,5)),i&2){let r;ee(r=te())&&(o.board=r.first),ee(r=te())&&(o.scoreGiftRef=r.first),ee(r=te())&&(o.categoryCard1=r.first),ee(r=te())&&(o.categoryCard2=r.first)}},hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},standalone:!1,decls:16,vars:52,consts:[["board",""],["scoreGift",""],["categoryCard1",""],["categoryCard2",""],[1,"game-topic-page"],[1,"scroll-page"],[1,"y-shape"],[1,"line","line-left"],[1,"line","line-right"],[1,"line","line-bottom"],[1,"line","line-before"],[1,"score-gift",3,"appTimeoutClass","fromClass","timeout"],[1,"start-point"],[1,"topics"],[1,"test-buttons"],["type","button",1,"btn","btn-gift",3,"click"],[1,"score",3,"appTimeoutClass","fromClass","timeout"],[3,"clickTopic","nr","topic","hasTransition","selected","notSelected","btnPointerEventsNone"],[1,"topics","topics-old"],[3,"nr","topic","hasTransition","selected","notSelected","btnPointerEventsNone"],[1,"round"],[1,"title"],["type","button",1,"btn","btn-secondary","btn-test",3,"click"],["type","button",1,"btn","btn-secondary","btn-test",3,"mousedown","mouseup","mouseleave"]],template:function(i,o){if(i&1&&(C(0,"div",4,0)(2,"div",5)(3,"div",6),D(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10),P(8,Dz,5,8,"div",11),v(),D(9,"div",12),C(10,"div",13),P(11,Iz,3,6,"div"),P(12,Ez,3,6,"div"),v(),P(13,Oz,8,34),v(),P(14,Rz,6,10),v(),P(15,Az,20,0,"div",14)),i&2){let r,s,a,l,c;f(2),x("left",o.signalScrollPageX(),"px")("top",o.signalScrollPageY(),"px")("scale",o.signalPageZoom())("opacity",o.signalPageOpacity()),f(),x("left",540,"px")("top",1100,"px"),f(),x("background-color",((r=o.gameService.signalGameConfig())==null?null:r.colorCategoryPath)??o.pathColor),se("centered",o.signaLineStartLeftCentered())("visible",o.signaLineStartLeftVisible()),f(),x("background-color",((s=o.gameService.signalGameConfig())==null?null:s.colorCategoryPath)??o.pathColor),se("visible",o.signaLineStartRightVisible()),f(),x("background-color",((a=o.gameService.signalGameConfig())==null?null:a.colorCategoryPath)??o.pathColor),se("visible",o.signaLineStartBottomVisible())("line-bottom-for-start-point",o.signalIsStartPointEnabled()&&!o.signaLineStartBottom2Visible()),f(),x("background-color",((l=o.gameService.signalGameConfig())==null?null:l.colorCategoryPath)??o.pathColor),se("line-before-right",o.signaIsLineBeforeRight())("line-before-centered",o.signaIsLineBeforeCentered())("visible",o.signaIsLineBeforeVisible()),f(),k(o.signalPathGiftScore()>0?8:-1),f(),x("background-color",((c=o.gameService.signalGameConfig())==null?null:c.colorCategoryPath)??o.pathColor)("left",o.signalOffsetOldCategoriesX()+500,"px")("top",o.signalOffsetOldCategoriesY()+(o.signalIsStartPointEnabled()?1480:1580),"px"),se("visible",o.signalIsStartPointEnabled()),f(),se("selected",o.gameService.currentTopic),f(),k(o.signalTopic1()&&o.signalCategoryLeftVisible()?11:-1),f(),k(o.signalTopic2()&&o.signalCategoryRightVisible()?12:-1),f(),k(o.signalState()>=1?13:-1),f(),k(o.signalIsChooseTextEnabled()?14:-1),f(),k(o.areTestButtonsEnabled?15:-1)}},dependencies:[KD,Br,ge],styles:['.game-topic-page[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;touch-action:none}.game-topic-page[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%], .game-topic-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.game-topic-page[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{top:360px;font-size:52px}.game-topic-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{top:450px;font-size:68px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;flex-wrap:nowrap}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .topics[_ngcontent-%COMP%]{position:absolute;top:655px;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:nowrap;width:100%;padding:0 30px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .start-point[_ngcontent-%COMP%]{position:absolute;top:1480px;left:500px;width:80px;height:80px;background-color:#6c6cff;border-radius:50%;scale:1.9;opacity:0;transition:opacity .8s,scale .8s ease-out,top .8s ease-out}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .start-point.visible[_ngcontent-%COMP%]{opacity:1;scale:1}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .left-way[_ngcontent-%COMP%], .game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .right-way[_ngcontent-%COMP%]{position:absolute;opacity:0;transition:opacity .1s}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .left-way.visible[_ngcontent-%COMP%], .game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .right-way.visible[_ngcontent-%COMP%]{opacity:1}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .left-way[_ngcontent-%COMP%]{top:1070px;left:280px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .right-way[_ngcontent-%COMP%]{top:1070px;left:800px;transform:scaleX(-1)}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .y-shape[_ngcontent-%COMP%]{position:absolute;top:1100px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]{position:absolute;top:290px;left:50px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift.pre-timeout-ani01[_ngcontent-%COMP%]{opacity:0}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift.timeout-ani01[_ngcontent-%COMP%]{will-change:scale,opacity;animation:_ngcontent-%COMP%_appear 1s ease-in-out}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .btn-gift[_ngcontent-%COMP%]{width:128px;height:128px;background-color:#fff;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .btn-gift[_ngcontent-%COMP%]:not(.closed){pointer-events:none}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .btn-gift.closed[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_pulse;animation-duration:.5s;animation-timing-function:ease-in-out;animation-iteration-count:infinite;animation-direction:alternate}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .btn-gift.closed[_ngcontent-%COMP%]:hover{opacity:.7;animation:_ngcontent-%COMP%_hover-anim-button-right-rotated .2s forwards}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .btn-gift.closed[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:-1;background:inherit;opacity:.4;border-radius:50px;inset:0}@keyframes _ngcontent-%COMP%_pulse{0%{scale:1}to{scale:.95}}@keyframes _ngcontent-%COMP%_hover-anim-button-right-rotated{40%{transform:scale(.8) rotate(10deg)}85%{transform:scale(1.1) rotate(10deg)}to{transform:scale(1) rotate(10deg)}}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .score.pre-timeout-ani01[_ngcontent-%COMP%]{opacity:0}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .score-gift[_ngcontent-%COMP%]   .score.timeout-ani01[_ngcontent-%COMP%]{will-change:scale,opacity;animation:_ngcontent-%COMP%_appear 1s ease-in-out}@keyframes _ngcontent-%COMP%_appear{0%{scale:1.6;opacity:0}to{scale:1;opacity:1}}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;width:20px;height:250px;background-color:#000;top:0;opacity:0;transition:opacity .1s}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.visible[_ngcontent-%COMP%]{opacity:1}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-left[_ngcontent-%COMP%]{transform:rotate(-45deg);transform-origin:bottom center;top:-20px;left:-10px;height:270px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-left.centered[_ngcontent-%COMP%]{transform:rotate(0);height:200px;top:40px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-right[_ngcontent-%COMP%]{transform:rotate(45deg);transform-origin:bottom center;top:-20px;left:-10px;height:270px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-bottom[_ngcontent-%COMP%]{top:240px;left:-10px;height:170px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-bottom.line-bottom-for-start-point[_ngcontent-%COMP%]{height:140px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-before[_ngcontent-%COMP%]{transform:rotate(45deg);transform-origin:top center;top:405px;left:-7px;height:500px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-before.line-before-right[_ngcontent-%COMP%]{transform:rotate(-45deg);left:-14px}.game-topic-page[_ngcontent-%COMP%]   .scroll-page[_ngcontent-%COMP%]   .line.line-before.line-before-centered[_ngcontent-%COMP%]{top:410px;left:-10px;transform:rotate(0);height:350px}.test-buttons[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.test-buttons[_ngcontent-%COMP%]   .btn-test[_ngcontent-%COMP%]{font-size:36px;width:auto;min-width:auto;padding:0 5px;margin-right:5px}'],changeDetection:0})}}return n})();var Eo=(()=>{class n{constructor(){this.gameScores=[],this.originalGameScores=[],this.topGameScores=[],this.signalGameScores=w([]),this.signalTopGameScores=w([]),this.signalExistingGsNumbers=w([]),this.signalExistingNicknames=w([])}static{this.maxGameHighScoreCount=50}setScores(e){this.originalGameScores=e,this.updateGameScores()}addGameScore(e){this.originalGameScores.push(e),this.updateGameScores()}updateGameScore(e){for(let i of this.originalGameScores)if(e.nickname.trim()===i.nickname.trim()){e.score>i.score&&(i.nickname=e.nickname,i.score=e.score,i.createdAt=e.createdAt,this.updateGameScores());break}}doesNicknameExists(e){return this.signalExistingNicknames().includes(e.toLowerCase().trim())}getGameScoreByNickname(e){for(let i of this.originalGameScores)if(i.nickname===e)return i;return null}getRankByGameScore(e){let i=1;for(let o of this.topGameScores){if(o.nickname===e.nickname&&o.score===e.score&&o.correctRate===e.correctRate)return i;i++}return-1}updateGameScores(){if(this.gameScores=ln.sortBy(this.originalGameScores,"score",!1),this.signalGameScores.set(this.gameScores),this.topGameScores=this.gameScores.slice(0,n.maxGameHighScoreCount),this.topGameScores.length<n.maxGameHighScoreCount)for(let e=this.topGameScores.length;e<n.maxGameHighScoreCount;e++)this.topGameScores.push(new Jo("",0,0,""));this.signalTopGameScores.set(this.topGameScores),this.signalExistingNicknames.set(this.originalGameScores.map(e=>e.nickname.toLowerCase().trim()))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $s=(function(n){return n.allTime="allTime",n.weekly="weekly",n.monthly="monthly",n})($s||{});var Bh=(()=>{class n extends pt{constructor(){super(),this.initService=p(de)}getHighScore(e=$s.allTime){if(this.initService.isScormPackage)return _e(null);let i={};this.initService.qz&&(i.qz=this.initService.qz),e!==$s.allTime&&(i.timespan=e);let o=pt.getBaseApiUrl()+"api/high-score/get",r=new tn(o,dt.get,null,i,null,null);return this.doHttpRequest(r,s=>{if(s.body.done===!0&&s.body.highScore&&Array.isArray(s.body.highScore)){let a=Jo.getListFromJSON(s.body.highScore);for(let l=a.length,c=Eo.maxGameHighScoreCount;l<c;++l)a.push(new Jo("",0,0,""));return a}return null},s=>this.onLoadError(s))}generateToken(e){return ue(this,null,function*(){let o=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")})}getHighScoreSaveToken(e,i){let o={};this.initService.qz&&(o.qz=this.initService.qz);let r=e.toString()+i.toString()+"|#--0{er.";return Ke(this.generateToken(r)).pipe(Lt(s=>{o.score=e,o.correctRate=i,o.token=s;let a=pt.getBaseApiUrl()+"api/high-score/get-save-token",l=new tn(a,dt.post,null,null,null,o);return this.doHttpRequest(l,c=>{let u=c.body;return{timestamp:u.timestamp??null,token:u.token??null}},c=>this.onLoadError(c))}))}addHighScore(e,i,o,r,s){let a={timestamp:e,token:i,nickname:o,score:r,correctRate:s};this.initService.qz&&(a.qz=this.initService.qz);let l=pt.getBaseApiUrl()+"api/high-score/create",c=new tn(l,dt.post,null,null,null,a);return this.doHttpRequest(c,u=>u.body.done===!0&&u.body.highScore?u.body:null,u=>this.onLoadError(u))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pi=(function(n){return n.noStop="noStop",n.stop="stop",n.pause="pause",n})(pi||{});var Fh=class{constructor(t){this.nickname=t}};var sI=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(Re(Mi),Re(Dt))};static \u0275dir=Ge({type:n})}return n})(),aI=(()=>{class n extends sI{static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275dir=Ge({type:n,features:[Bn]})}return n})(),Qh=new oe("");var Nz={provide:Qh,useExisting:bi(()=>Vr),multi:!0};function Bz(){let n=Vn()?Vn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Fz=new oe(""),Vr=(()=>{class n extends sI{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Bz())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(Re(Mi),Re(Dt),Re(Fz,8))};static \u0275dir=Ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&N("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Yo([Nz]),Bn]})}return n})();function s_(n){return n==null||a_(n)===0}function a_(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Tu=new oe(""),l_=new oe(""),Lz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yt=class{static min(t){return Gz(t)}static max(t){return Vz(t)}static required(t){return zz(t)}static requiredTrue(t){return Hz(t)}static email(t){return Uz(t)}static minLength(t){return lI(t)}static maxLength(t){return cI(t)}static pattern(t){return qz(t)}static nullValidator(t){return Gh()}static compose(t){return mI(t)}static composeAsync(t){return CI(t)}};function Gz(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Vz(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function zz(n){return s_(n.value)?{required:!0}:null}function Hz(n){return n.value===!0?null:{required:!0}}function Uz(n){return s_(n.value)||Lz.test(n.value)?null:{email:!0}}function lI(n){return t=>{let e=t.value?.length??a_(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function cI(n){return t=>{let e=t.value?.length??a_(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function qz(n){if(!n)return Gh;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(s_(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function Gh(n){return null}function uI(n){return n!=null}function dI(n){return Qo(n)?Ke(n):n}function fI(n){let t={};return n.forEach(e=>{t=e!=null?$($({},t),e):t}),Object.keys(t).length===0?null:t}function gI(n,t){return t.map(e=>e(n))}function $z(n){return!n.validate}function hI(n){return n.map(t=>$z(t)?t:e=>t.validate(e))}function mI(n){if(!n)return null;let t=n.filter(uI);return t.length==0?null:function(e){return fI(gI(e,t))}}function pI(n){return n!=null?mI(hI(n)):null}function CI(n){if(!n)return null;let t=n.filter(uI);return t.length==0?null:function(e){let i=gI(e,t).map(dI);return Km(i).pipe(Te(fI))}}function vI(n){return n!=null?CI(hI(n)):null}function JD(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function yI(n){return n._rawValidators}function _I(n){return n._rawAsyncValidators}function i_(n){return n?Array.isArray(n)?n:[n]:[]}function Vh(n,t){return Array.isArray(n)?n.includes(t):n===t}function eI(n,t){let e=i_(t);return i_(n).forEach(o=>{Vh(e,o)||e.push(o)}),e}function tI(n,t){return i_(t).filter(e=>!Vh(n,e))}var zh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},js=class extends zh{name;get formDirective(){return null}get path(){return null}},Ws=class extends zh{_parent=null;name=null;valueAccessor=null},Hh=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var wl=(()=>{class n extends Hh{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(Re(Ws,2))};static \u0275dir=Ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Bn]})}return n})(),Yh=(()=>{class n extends Hh{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(Re(js,10))};static \u0275dir=Ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Bn]})}return n})();var Su="VALID",Lh="INVALID",_l="PENDING",wu="DISABLED",Gr=class{},Uh=class extends Gr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Mu=class extends Gr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},xu=class extends Gr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},bl=class extends Gr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},o_=class extends Gr{source;constructor(t){super(),this.source=t}},qh=class extends Gr{source;constructor(t){super(),this.source=t}};function bI(n){return(Xh(n)?n.validators:n)||null}function jz(n){return Array.isArray(n)?pI(n):n||null}function SI(n,t){return(Xh(t)?t.asyncValidators:n)||null}function Wz(n){return Array.isArray(n)?vI(n):n||null}function Xh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Qz(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new J(1e3,"");if(!i[e])throw new J(1001,"")}function Yz(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new J(1002,"")})}var $h=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(t){Gt(()=>this.statusReactive.set(t))}_status=ka(()=>this.statusReactive());statusReactive=w(void 0);get valid(){return this.status===Su}get invalid(){return this.status===Lh}get pending(){return this.status==_l}get disabled(){return this.status===wu}get enabled(){return this.status!==wu}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(t){Gt(()=>this.pristineReactive.set(t))}_pristine=ka(()=>this.pristineReactive());pristineReactive=w(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(t){Gt(()=>this.touchedReactive.set(t))}_touched=ka(()=>this.touchedReactive());touchedReactive=w(!1);get untouched(){return!this.touched}_events=new bt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(eI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tI(t,this._rawAsyncValidators))}hasValidator(t){return Vh(this._rawValidators,t)}hasAsyncValidator(t){return Vh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Se($({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new xu(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new xu(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Se($({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Mu(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Mu(!0,i))}markAsPending(t={}){this.status=_l;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bl(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Se($({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wu,this.errors=null,this._forEachChild(o=>{o.disable(Se($({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uh(this.value,i)),this._events.next(new bl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se($({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Su,this._forEachChild(i=>{i.enable(Se($({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Se($({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Su||this.status===_l)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uh(this.value,e)),this._events.next(new bl(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Se($({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wu:Su}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=_l,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=dI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new bl(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Z,this.statusChanges=new Z}_calculateStatus(){return this._allControlsDisabled()?wu:this.errors?Lh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_l)?_l:this._anyControlsHaveStatus(Lh)?Lh:Su}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new Mu(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new xu(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xh(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=jz(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Wz(this._rawAsyncValidators)}},Sl=class extends $h{constructor(t,e,i){super(bI(e),SI(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Yz(this,!0,t),Object.keys(t).forEach(i=>{Qz(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,Se($({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new qh(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Kh=new oe("",{factory:()=>Zh}),Zh="always";function wI(n,t){return[...t.path,n]}function r_(n,t,e=Zh){c_(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Kz(n,t),Jz(n,t),Zz(n,t),Xz(n,t)}function nI(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Wh(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Xz(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function c_(n,t){let e=yI(n);t.validator!==null?n.setValidators(JD(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=_I(n);t.asyncValidator!==null?n.setAsyncValidators(JD(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();jh(t._rawValidators,o),jh(t._rawAsyncValidators,o)}function Wh(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=yI(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=_I(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return jh(t._rawValidators,i),jh(t._rawAsyncValidators,i),e}function Kz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&MI(n,t)})}function Zz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&MI(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function MI(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Jz(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function eH(n,t){n==null,c_(n,t)}function tH(n,t){return Wh(n,t)}function xI(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function nH(n){return Object.getPrototypeOf(n.constructor)===aI}function iH(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function TI(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===Vr?e=r:nH(r)?i=r:o=r}),o||i||e||null}function oH(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function iI(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function oI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ci=class extends $h{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(bI(e),SI(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(oI(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new qh(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){oI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var rH=n=>n instanceof Ci;var sH={provide:Ws,useExisting:bi(()=>u_)},rI=Promise.resolve(),u_=(()=>{class n extends Ws{_changeDetectorRef;callSetDisabledState;control=new Ci;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Z;constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=TI(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),xI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){r_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){rI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&wr(i);rI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?wI(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(Re(js,9),Re(Tu,10),Re(l_,10),Re(Qh,10),Re(Ve,8),Re(Kh,8))};static \u0275dir=Ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Yo([sH]),Bn,Pe]})}return n})();var Jh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var aH={provide:Qh,useExisting:bi(()=>d_),multi:!0},d_=(()=>{class n extends aI{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275dir=Ge({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&N("change",function(s){return o.onChange(s.target.value)})("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Yo([aH]),Bn]})}return n})();var lH=(()=>{class n extends js{callSetDisabledState;get submitted(){return Gt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ka(()=>this._submittedReactive());_submittedReactive=w(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Wh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let i=this.form.get(e.path);return r_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){nI(e.control||null,e,!1),oH(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,i){this.form.get(e.path).setValue(i)}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,iH(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new o_(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(nI(i||null,e),rH(o)&&(r_(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);eH(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&tH(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){c_(this.form,this),this._oldForm&&Wh(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(Re(Tu,10),Re(l_,10),Re(Kh,8))};static \u0275dir=Ge({type:n,features:[Bn,Pe]})}return n})();var DI=new oe("");var cH={provide:Ws,useExisting:bi(()=>Du)},Du=(()=>{class n extends Ws{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Z;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=TI(this,r)}ngOnChanges(e){this._added||this._setUpControl(),xI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return wI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(Re(js,13),Re(Tu,10),Re(l_,10),Re(Qh,10),Re(DI,8))};static \u0275dir=Ge({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Yo([cH]),Bn,Pe]})}return n})();var uH={provide:js,useExisting:bi(()=>Iu)},Iu=(()=>{class n extends lH{form=null;ngSubmit=new Z;get control(){return this.form}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275dir=Ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&N("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yo([uH]),Bn]})}return n})();function II(n){return typeof n=="number"?n:parseInt(n,10)}var EI=(()=>{class n{_validator=Gh;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gh,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ge({type:n,features:[Pe]})}return n})();var dH={provide:Tu,useExisting:bi(()=>Eu),multi:!0},Eu=(()=>{class n extends EI{minlength;inputName="minlength";normalizeInput=e=>II(e);createValidator=e=>lI(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275dir=Ge({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&sn("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Yo([dH]),Bn]})}return n})(),fH={provide:Tu,useExisting:bi(()=>Pu),multi:!0},Pu=(()=>{class n extends EI{maxlength;inputName="maxlength";normalizeInput=e=>II(e);createValidator=e=>cI(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rn(n)))(o||n)}})();static \u0275dir=Ge({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&sn("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Yo([fH]),Bn]})}return n})();var PI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ve({type:n});static \u0275inj=pe({})}return n})();var kI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Kh,useValue:e.callSetDisabledState??Zh}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ve({type:n});static \u0275inj=pe({imports:[PI]})}return n})(),em=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:DI,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Kh,useValue:e.callSetDisabledState??Zh}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ve({type:n});static \u0275inj=pe({imports:[PI]})}return n})();var zr=class n{constructor(t,e,i,o,r=!1,s=null,a=!0,l=2048){this.name=t,this.label=e,this.cssClass=i,this.inputFieldType=o,this.isRequired=r,this.placeholder=s,this.isEnabled=a,this.maxLength=l,this.isFilledUp=!1,this.language=Rs.en,this.key=t}static getFilledUpFormModels(t){if(t.length>0&&t[0].isFilledUp)return t;let e,i=[];for(let o of g.languages)for(let r of t){let s=g.requiredLanguages.indexOf(o)!==-1;e=new n(r.name+"-"+o,r.label,r.cssClass,r.inputFieldType),e.key=r.name,e.isFilledUp=!0,e.language=o,e.isRequired=s&&r.isRequired,e.placeholder=r.placeholder?r.placeholder:"",e.isEnabled=r.isEnabled,e.maxLength=r.maxLength,i.push(e)}return i}static getControlsConfig(t){let e={};for(let i of t)e[i.name]=new Ci(i.placeholder?i.placeholder:"",i.isRequired?[yt.required]:[]);return e}static getTextsFromForm(t,e,i=!1){let o={},r;for(let s of e)r=t[s.name],(r.value&&r.value.trim().length>0||i)&&(o[s.name]=r.value?r.value.trim():"");return o}};var gH=["inputNickname"],hH=n=>({"is-invalid":n});function mH(n,t){if(n&1&&D(0,"div",6),n&2){let e=y(2);I("innerHTML",e.userLogonService.error,Le)}}function pH(n,t){n&1&&D(0,"span",13)}function CH(n,t){n&1&&(C(0,"div"),M(1),E(2,"nativeTranslate"),v()),n&2&&(f(),ae(A(2,1,"enter-your-nickname")))}function vH(n,t){if(n&1&&(C(0,"div",14),P(1,CH,3,3,"div"),v()),n&2){let e=y(2);f(),k(e.f.nickname.errors.required||e.f.nickname.errors.minlength?1:-1)}}function yH(n,t){if(n&1){let e=ne();C(0,"form",3),N("ngSubmit",function(){O(e);let o=y();return R(o.onSubmitForm())}),C(1,"div",4)(2,"div",5),P(3,mH,1,1,"div",6),C(4,"div",7)(5,"label",8),M(6),E(7,"nativeTranslate"),v(),C(8,"div",9)(9,"input",10,0),N("input",function(){O(e);let o=y();return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y();return R(r.onFocusIn(o,"text",17))}),v(),C(11,"div",11)(12,"app-base-button",12),E(13,"async"),P(14,pH,1,0,"span",13),E(15,"async"),M(16),E(17,"nativeTranslate"),v()()(),P(18,vH,2,1,"div",14),v()()()()}if(n&2){let e,i=y();I("formGroup",i.formGroup),f(3),k(i.userLogonService.error&&i.isFormSubmitted?3:-1),f(2),I("for","nickname"+i.uid),f(),ae(A(7,16,"enter-your-nickname")),f(3),I("id","nickname"+i.uid)("ngClass",ot(24,hH,i.isFormSubmitted&&i.f.nickname.errors)),f(3),I("configBtn",((e=i.gameService.signalGameConfig())==null?null:e.defaultBtn)??null)("btnType","submit")("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentWidth","100%")("btnContentPadding","15px 20px")("btnDisabled",A(13,18,i.userLogonService.isLoading$)||!1),f(2),k(A(15,20,i.userLogonService.isLoading$)?14:-1),f(2),z(" ",A(17,22,"ok")," "),f(2),k(i.isFormSubmitted&&i.f.nickname.errors?18:-1)}}var OI=(()=>{class n{constructor(){this.initService=p(de),this.gameService=p(ye),this.soundService=p(Ce),this.existingNicknames=[],this.gameScores=[],this.currentNickname="",this.editValue=null,this.cancelForm=new Z,this.submitForm=new Z,this.focusElement=null,this.focusInputMode=null,this.focusElementMaxLength=0,this.uid=Xi.getRandomString(5),this.isFormChanged=!1,this.isFormSubmitted=!1,this.formModels=[],this.userLogonService={error:!1,isLoading$:new De(e=>{e.next(!1)})}}get f(){return this.formGroup?this.formGroup.controls:{}}ngOnInit(){this.formModels=zr.getFilledUpFormModels(this.formModels);let e=this.getControlsConfig();this.formGroup=new Sl(e),this.resetForm()}ngAfterViewInit(){K.setTimeout(()=>{this.initService.signalAppConfig().windowsOnScreenKeyboard&&(this.inputNickname.nativeElement.inputMode="text"),this.resetForm(),this.updateEditForm()})}ngOnChanges(e){"editValue"in e&&(this.resetForm(),this.updateEditForm())}onResize(){let e=this.inputNickname.nativeElement;e&&window.setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)}onFocusIn(e,i,o){e.stopImmediatePropagation(),this.initService.signalAppConfig().windowsOnScreenKeyboard||(this.focusElement=e.target,this.focusInputMode=i,this.focusElementMaxLength=o);let r=this.inputNickname.nativeElement;r&&window.setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"center"})},300)}onBlurElement(){this.focusElement&&(this.focusElement=null,this.focusInputMode=null,this.focusElementMaxLength=0)}onChangeFormInput(){this.isFormChanged=!0,this.f.nickname?.patchValue(e(this.f.nickname.value,17));function e(i,o){if(i.length>o)return i.slice(0,o);let r=/[^\w\s!$%&=?.\-_+#*~^]+/g;return i=i.replace(r,""),i}}getControlsConfig(){let e={nickname:new Ci("",[yt.required,yt.minLength(2),yt.maxLength(17)])};return e=Object.assign(e,zr.getControlsConfig(this.formModels)),e}onSubmitForm(){if(this.isFormSubmitted=!0,this.soundService.playSound(V.click,!0),this.formGroup.invalid)return;let e=this.f.nickname.value??"",i=new Fh(e.trim());this.submitForm.next(i)}onClickCancel(){this.resetForm(),this.soundService.playSound(V.click,!0),this.cancelForm.emit(!1)}resetForm(){this.isFormSubmitted=!1,this.formGroup&&this.formGroup.reset()}updateEditForm(){this.editValue&&(this.f.nickname?.patchValue(this.editValue.nickname),this.onChangeFormInput())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-nickname-form"]],viewQuery:function(i,o){if(i&1&&ie(gH,5),i&2){let r;ee(r=te())&&(o.inputNickname=r.first)}},hostBindings:function(i,o){i&1&&N("resize",function(){return o.onResize()},jt)},inputs:{existingNicknames:"existingNicknames",gameScores:"gameScores",currentNickname:"currentNickname",editValue:"editValue"},outputs:{cancelForm:"cancelForm",submitForm:"submitForm"},standalone:!1,features:[Pe],decls:2,vars:1,consts:[["inputNickname",""],[1,"nickname-form"],["enctype","multipart/form-data",3,"formGroup"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,""],[1,"form-content","mx-auto"],[1,"alert","alert-danger",3,"innerHTML"],[1,"form-group"],["for","nickname",3,"for"],[1,"input-wrapper"],["id","nickname","type","text","inputmode","none","formControlName","nickname","placeholder","","minlength","2","maxlength","17","autocomplete","off","appAutofocus","",1,"form-control",3,"input","focusin","id","ngClass"],[1,"btn-ok"],[3,"configBtn","btnType","backgroundImageUrl","btnWidth","btnContentWidth","btnContentPadding","btnDisabled"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"invalid-feedback",2,"display","block"]],template:function(i,o){i&1&&(C(0,"div",1),P(1,yH,19,26,"form",2),v()),i&2&&(f(),k(o.formGroup?1:-1))},dependencies:[si,OD,Jh,Vr,wl,Yh,Eu,Pu,Iu,Du,Ee,ji,ge],styles:[".input-wrapper[_ngcontent-%COMP%]{display:flex}.input-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:48px;border-radius:0;flex:1;border:none;padding:.5rem}.input-wrapper[_ngcontent-%COMP%]   .btn-ok[_ngcontent-%COMP%]{display:flex}.invalid-feedback[_ngcontent-%COMP%]{color:#ffbcc2}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:100%}"]})}}return n})();function bH(n,t){if(n&1&&(C(0,"div"),M(1),E(2,"json"),v()),n&2){let e=y();f(),ae(A(2,1,e.content))}}function SH(n,t){if(n&1&&(D(0,"div",6),E(1,"nativeTranslate")),n&2){let e=y();I("innerHTML",e.contentKey?A(1,1,e.contentKey):e.content,Le)}}function wH(n,t){if(n&1){let e=ne();C(0,"input",10),N("change",function(){O(e);let o=y();return R(o.isSafetyChecked=!o.isSafetyChecked)}),v(),M(1,"\xA0"),C(2,"label",11),M(3),v()}if(n&2){let e=y();I("checked",e.isSafetyChecked),f(3),ae("safety-check")}}var tm=(()=>{class n{constructor(){this.globalGameService=p(ye),this.initService=p(de),this.soundService=p(Ce),this.title=null,this.titleKey=null,this.content=null,this.contentKey=null,this.isJsonContent=!1,this.hasSafetyCheck=!1,this.cancelDialog=new Z,this.isSafetyChecked=!1}onClickClose(e){this.soundService.playSound(V.click,!0),this.soundService.playSound(V.modalFadeOut,!0),this.cancelDialog.emit(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-confirm"]],inputs:{title:"title",titleKey:"titleKey",content:"content",contentKey:"contentKey",isJsonContent:"isJsonContent",hasSafetyCheck:"hasSafetyCheck"},outputs:{cancelDialog:"cancelDialog"},standalone:!1,decls:18,vars:31,consts:[[1,"dialog-container","dialog-multiplier-solved"],[1,"dialog"],[1,"dialog-header"],[1,"dialog-title","mx-auto","my-auto"],[1,"title",3,"innerHTML"],[1,"dialog-body","font-secondary"],[3,"innerHTML"],[1,"dialog-footer","justify-content-evenly"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnContentPadding","btnContentFontSize"],[1,"empty-line"],["type","checkbox","id","safetyCheck",3,"change","checked"],["for","safetyCheck",1,"me-auto","user-select-none"]],template:function(i,o){if(i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),D(4,"div",4),E(5,"nativeTranslate"),v()(),C(6,"div",5),P(7,bH,3,3,"div")(8,SH,2,3,"div",6),v(),C(9,"div",7),P(10,wH,4,2),C(11,"app-base-button",8),N("clickButton",function(){return o.onClickClose(!0)}),M(12),E(13,"nativeTranslate"),v(),D(14,"div",9),C(15,"app-base-button",8),N("clickButton",function(){return o.onClickClose(!1)}),M(16),E(17,"nativeTranslate"),v()()()()),i&2){let r,s,a,l,c,u,d;f(),x("background-color",(r=o.globalGameService.signalGameConfig())==null?null:r.dialogColorBg)("color",(s=o.globalGameService.signalGameConfig())==null?null:s.fontColorDialog)("border-radius",(a=o.globalGameService.signalGameConfig())==null?null:a.dialogRadius,"px")("border-width",(l=o.globalGameService.signalGameConfig())==null?null:l.dialogBorder,"px")("border-color",(c=o.globalGameService.signalGameConfig())==null?null:c.dialogBorderColor),f(3),I("innerHTML",o.titleKey?A(5,25,o.titleKey):o.title,Le),f(3),k(o.isJsonContent?7:8),f(3),k(o.hasSafetyCheck?10:-1),f(),I("configBtn",((u=o.globalGameService.signalGameConfig())==null?null:u.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentPadding","15px 10px")("btnContentFontSize","56px"),f(),z("",A(13,27,"yes")," "),f(3),I("configBtn",((d=o.globalGameService.signalGameConfig())==null?null:d.defaultBtn)??null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentPadding","15px 10px")("btnContentFontSize","56px"),f(),z("",A(17,29,"no")," ")}},dependencies:[Ee,Oc,ge],styles:[".dialog-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;pointer-events:auto;z-index:1;background-color:#0000004d;touch-action:none;will-change:scale}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:relative;width:90%;background-color:#000c;padding:45px 65px;margin:0 auto;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;font-size:1.5em}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{overflow-wrap:break-word;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{padding:30px 0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:15px 10px;border-radius:0;width:100%;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:inherit}"]})}}return n})();var MH=n=>({round:n});function xH(n,t){if(n&1&&(C(0,"div",27),M(1),E(2,"nativeTranslate"),v(),D(3,"div",28),E(4,"nativeTranslate")),n&2){let e=y().$implicit,i=y();x("color",i.globalGameService.signalGameConfig()?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewRoundLabelColor:void 0),f(),z("",pn(2,6,"round-nr",ot(14,MH,e.round))," "),f(2),x("color",i.globalGameService.signalGameConfig()?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCatLabelColor:void 0),I("innerHTML",an(4,9,e.categoryLocalisationKey,null,null,!0),Le)}}function TH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewCorrectImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectIconCorrectColor:void 0)}}function DH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewWrongImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectIconWrongColor:void 0)}}function IH(n,t){if(n&1&&P(0,TH,1,4,"div",29)(1,DH,1,4,"div",29),n&2){let e=y().$implicit;k(e.isLeftCorrect?0:1)}}function EH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewCorrectImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongIconCorrectColor:void 0)}}function PH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewWrongImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongIconWrongColor:void 0)}}function kH(n,t){if(n&1&&P(0,EH,1,4,"div",29)(1,PH,1,4,"div",29),n&2){let e=y().$implicit;k(e.isLeftCorrect?0:1)}}function OH(n,t){if(n&1&&(C(0,"div",31),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y();x("color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.fontColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.fontColor:void 0)("background-color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.colorBg:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.colorBg:void 0)("border-radius",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.radius:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.radius:void 0,"px")("border-width",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.border:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.border:void 0,"px")("border-color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.borderColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.borderColor:void 0),f(),z("",A(2,11,e.answerLeftLocalisationKey)," ")}}function RH(n,t){if(n&1&&(C(0,"div",32),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y();x("color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectOptNotSelectedColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongOptNotSelectedColor:void 0),f(),z("",A(2,3,e.answerLeftLocalisationKey)," ")}}function AH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewCorrectImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectIconCorrectColor:void 0)}}function NH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewWrongImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectIconWrongColor:void 0)}}function BH(n,t){if(n&1&&P(0,AH,1,4,"div",29)(1,NH,1,4,"div",29),n&2){let e=y().$implicit;k(e.isLeftCorrect?1:0)}}function FH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewCorrectImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongIconCorrectColor:void 0)}}function LH(n,t){if(n&1&&D(0,"div",30),n&2){let e=y(3);x("mask-image",e.signalIconReviewWrongImageUrl())("background-color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongIconWrongColor:void 0)}}function GH(n,t){if(n&1&&P(0,FH,1,4,"div",29)(1,LH,1,4,"div",29),n&2){let e=y().$implicit;k(e.isLeftCorrect?1:0)}}function VH(n,t){if(n&1&&(C(0,"div",31),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y();x("color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.fontColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.fontColor:void 0)("background-color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.colorBg:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.colorBg:void 0)("border-radius",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.radius:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.radius:void 0,"px")("border-width",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.border:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.border:void 0,"px")("border-color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectAnswerOptSel.borderColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongAnswerOptSel.borderColor:void 0),f(),z("",A(2,11,e.answerRightLocalisationKey)," ")}}function zH(n,t){if(n&1&&(C(0,"div",32),M(1),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y();x("color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectOptNotSelectedColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongOptNotSelectedColor:void 0),f(),z("",A(2,3,e.answerRightLocalisationKey)," ")}}function HH(n,t){if(n&1&&(C(0,"div",22),Vt("fade-out-800ms"),it("fade-in-800ms"),D(1,"div",33),E(2,"nativeTranslate"),v()),n&2){let e=y().$implicit,i=y();f(),x("color",i.globalGameService.signalGameConfig()?e.isSelectedCorrect?i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectFeedbackColor:i.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongFeedbackColor:void 0),I("innerHTML",an(2,3,e.feedbackLocalisationKey,null,null,!0),Le)}}function UH(n,t){if(n&1&&(C(0,"span",34),M(1),E(2,"nativeTranslate"),E(3,"uppercase"),v()),n&2){let e=y(2);x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrectResultColor:void 0),f(),ae(A(3,5,A(2,3,"correctly-selected")))}}function qH(n,t){if(n&1&&(C(0,"span",35),M(1),E(2,"nativeTranslate"),E(3,"uppercase"),v()),n&2){let e=y(2);x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongResultColor:void 0),f(),ae(A(3,5,A(2,3,"nothing-selected")))}}function $H(n,t){if(n&1&&(C(0,"span",36),M(1),E(2,"nativeTranslate"),E(3,"uppercase"),v()),n&2){let e=y(2);x("color",e.globalGameService.signalGameConfig()?e.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrongResultColor:void 0),f(),ae(A(3,5,A(2,3,"incorrectly-selected")))}}function jH(n,t){if(n&1){let e=ne();P(0,xH,5,16),C(1,"div",12)(2,"div",13),M(3),E(4,"nativeTranslate"),v(),C(5,"div",14)(6,"div",15)(7,"div",16),P(8,IH,2,1)(9,kH,2,1),v(),P(10,OH,3,13,"div",17)(11,RH,3,5,"div",18),v(),C(12,"div",15)(13,"div",16),P(14,BH,2,1)(15,GH,2,1),v(),P(16,VH,3,13,"div",17)(17,zH,3,5,"div",18),v()(),C(18,"div",19)(19,"app-base-button",20),N("clickButton",function(){let o=O(e).$implicit,r=y();return R(r.clickShowFeedback(o))}),D(20,"div",21),v()(),P(21,HH,3,8,"div",22),C(22,"div",23),P(23,UH,4,7,"span",24)(24,qH,4,7,"span",25)(25,$H,4,7,"span",26),v()()}if(n&2){let e=t.$implicit,i=t.$index,o=y();k(i===0||e.round!==o.questionResultList[i-1].round?0:-1),f(),x("background-color",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrect.colorBg:o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrong.colorBg:void 0)("border-radius",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrect.radius:o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrong.radius:void 0,"px")("border-width",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrect.border:o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrong.border:void 0,"px")("border-color",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrect.borderColor:o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrong.borderColor:void 0),f(),x("color",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardCorrect.fontColor:o.globalGameService.signalGameConfig().screenEndGame.dialogReviewCardWrong.fontColor:void 0),f(),z("",A(4,29,e.questionLocalisationKey)," "),f(5),k(e.isSelectedCorrect?8:9),f(2),k(e.isSelectedLeft?10:11),f(4),k(e.isSelectedCorrect?14:15),f(2),k(e.isSelectedLeft!==null&&!e.isSelectedLeft?16:17),f(3),I("configBtn",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.btnDialogReviewCardCorrectFeedback:o.globalGameService.signalGameConfig().screenEndGame.btnDialogReviewCardWrongFeedback:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnContentWidth","84px")("btnContentHeight","84px")("btnRadius","50%")("btnContentPadding","0")("btnContentFontSize","16px"),f(),x("mask-image",o.signalBtnQuestionImageUrl())("background-color",o.globalGameService.signalGameConfig()?e.isSelectedCorrect?o.globalGameService.signalGameConfig().screenEndGame.btnDialogReviewCardCorrectFeedback.fontColor:o.globalGameService.signalGameConfig().screenEndGame.btnDialogReviewCardWrongFeedback.fontColor:void 0),f(),k(e.isFeedbackVisible?21:-1),f(2),k(e.isSelectedCorrect?23:e.isSelectedLeft===null?24:e.isSelectedCorrect?-1:25)}}var AI=(()=>{class n{constructor(){this.globalGameService=p(ye),this.nativeTranslateService=p(Fe),this.initService=p(de),this.soundService=p(Ce),this.imageLoadService=p(we),this.cancelDialog=new Z,this.signalBtnCloseImageUrl=w("none"),this.signalStarImageUrl=w("none"),this.signalIconReviewCorrectImageUrl=w("none"),this.signalIconReviewWrongImageUrl=w("none"),this.signalBtnQuestionImageUrl=w("none")}ngOnInit(){let e=this.imageLoadService.getImage("btnClose");e&&this.signalBtnCloseImageUrl.set(`url('${e.src}')`),e=this.imageLoadService.getImage("starImage"),e&&this.signalStarImageUrl.set(`url('${e.src}')`),e=this.imageLoadService.getImage("iconReviewCorrect"),e&&this.signalIconReviewCorrectImageUrl.set(`url('${e.src}')`),e=this.imageLoadService.getImage("iconReviewWrong"),e&&this.signalIconReviewWrongImageUrl.set(`url('${e.src}')`),e=this.imageLoadService.getImage("swipeYesNoBtnQuestionImage"),e&&this.signalBtnQuestionImageUrl.set(`url('${e.src}')`)}ngOnDestroy(){for(let e of this.questionResultList)e.isFeedbackVisible=!1}onClickClose(e){this.soundService.playSound(V.click,!0),this.soundService.playSound(V.modalFadeOut,!0),this.cancelDialog.emit(e)}clickShowFeedback(e){this.soundService.playSound(V.click,!0),e.isFeedbackVisible=!e.isFeedbackVisible}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-dialog-questions-result"]],inputs:{runtime:"runtime",questionResultList:"questionResultList"},outputs:{cancelDialog:"cancelDialog"},standalone:!1,decls:21,vars:49,consts:[[1,"dialog-container","dialog-questions-result"],[1,"dialog","scrollbar"],[1,"btn-close-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnHeight","btnContentWidth","btnContentHeight","btnContentPadding"],["aria-hidden","true",1,"btn-close-icon",3,"title"],[1,"dialog-header"],[1,"dialog-title"],[1,"star-image"],[1,"title"],[1,"dialog-body","font-secondary"],[1,"bonus"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnContentPadding","btnContentFontSize"],[1,"question-container"],[1,"question"],[1,"answers"],[1,"answer-container"],[1,"selected-container"],[1,"answer","selected",3,"color","background-color","border-radius","border-width","border-color"],[1,"answer",3,"color"],[1,"feedback-btn-container"],[2,"padding","0 30px",3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentHeight","btnRadius","btnContentPadding","btnContentFontSize"],[1,"show-feedback-img"],[1,"feedback-container",2,"animation-duration","300ms"],[1,"result-container"],[1,"correct",3,"color"],[1,"nothing",3,"color"],[1,"incorrectly",3,"color"],[1,"round-number"],[1,"category-name",3,"innerHTML"],[1,"right-one-image",3,"mask-image","background-color"],[1,"right-one-image"],[1,"answer","selected"],[1,"answer"],[1,"feedback",3,"innerHTML"],[1,"correct"],[1,"nothing"],[1,"incorrectly"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-base-button",3),N("clickButton",function(){return o.onClickClose(!1)}),D(4,"span",4),E(5,"nativeTranslate"),v()(),C(6,"div",5)(7,"div",6),D(8,"div",7),C(9,"div",8)(10,"div"),M(11),E(12,"nativeTranslate"),v()(),D(13,"div",7),v()(),C(14,"div",9)(15,"div",10),ct(16,jH,26,31,null,null,Fn),v(),C(18,"app-base-button",11),N("clickButton",function(){return o.onClickClose(!0)}),M(19),E(20,"nativeTranslate"),v()()()()),i&2&&(f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReview.fontColor:void 0)("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReview.colorBg:void 0)("border-radius",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReview.radius:void 0,"px")("border-width",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReview.border:void 0,"px")("border-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReview.borderColor:void 0),f(2),I("configBtn",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.btnDialogReview:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","76px")("btnHeight","76px")("btnContentWidth","100%")("btnContentHeight","100%")("btnContentPadding","0"),f(),x("mask-image",o.signalBtnCloseImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.btnDialogReview.fontColor:void 0)("border-radius",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.btnDialogReview.radius:void 0,"px"),I("title",A(5,43,"close")),f(4),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewStarColor:void 0),f(),x("border-bottom-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewStarColor:void 0),f(),x("color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewTitleColor:void 0),f(),z("",A(12,45,"review")," "),f(2),x("mask-image",o.signalStarImageUrl())("background-color",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.dialogReviewStarColor:void 0),f(3),ut(o.questionResultList),f(2),I("configBtn",o.globalGameService.signalGameConfig()?o.globalGameService.signalGameConfig().screenEndGame.btnDialogReview:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentPadding","15px 10px")("btnContentFontSize","56px"),f(),z("",A(20,47,"close")," "))},dependencies:[Ee,kc,ge],styles:[".dialog-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;pointer-events:auto;z-index:1;background-color:#0000004d;touch-action:none;will-change:scale}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:relative;width:90%;background-color:#0009;padding:70px 15px;margin:0 auto;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;align-items:center;max-height:1920px}.dialog-container[_ngcontent-%COMP%]   .dialog.shake[_ngcontent-%COMP%]{animation:shake .5s;animation-iteration-count:infinite}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.9em;padding:5% 0 7%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{width:100%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:700;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center;width:100%;padding:20px 100px 0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;font-size:1.5em;text-align:center;border-bottom:2px solid #fff;padding:25px 80px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]{font-size:1em;display:inline-block;background-color:#fff;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;width:80px;height:80px;transform-origin:center;animation:spin 10s linear infinite}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]:last-child{animation-direction:reverse}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .game-time[_ngcontent-%COMP%]{font-size:20px;font-weight:500;display:block;text-align:center}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]{overflow-wrap:break-word;font-size:24px;padding:50px;width:100%;overflow-y:auto}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]{margin-bottom:20px;font-size:56px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .round-number[_ngcontent-%COMP%], .dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1019607843);margin-bottom:5rem}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem;padding:80px 40px 40px;font-size:48px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]{min-width:40%;padding:0 30px;width:50%}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .selected-container[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:flex-start}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .selected-container[_ngcontent-%COMP%]   .right-one-image[_ngcontent-%COMP%]{width:70px;height:70px;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;background-color:#fff}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:42px;padding:15px 30px;border-style:solid;border-width:0;border-radius:0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]   .answer-container[_ngcontent-%COMP%]   .answer.selected[_ngcontent-%COMP%]{background-color:#ffffff1a}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .feedback-btn-container[_ngcontent-%COMP%]{text-align:center}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .feedback-btn-container[_ngcontent-%COMP%]   .show-feedback-img[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;background-color:#fff;border-style:solid;border-width:0;border-radius:50%;pointer-events:none}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{font-size:42px;padding:50px 50px 30px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{text-align:center;padding:40px 0 70px}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{color:#258f50}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .incorrectly[_ngcontent-%COMP%]{color:#ba2727}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-body[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .not-answered[_ngcontent-%COMP%]{color:#d7d7d7}.dialog-container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{padding:30px 40px;width:100%}.pre-timeout-ani01[_ngcontent-%COMP%]{opacity:0}.timeout-ani01[_ngcontent-%COMP%]{will-change:scale,opacity;animation:_ngcontent-%COMP%_appear 1s ease-in-out}@keyframes _ngcontent-%COMP%_appear{0%{scale:1.6;opacity:0}to{scale:1;opacity:1}}"]})}}return n})();var QH=n=>({"for-container":n}),YH=n=>({width:n});function XH(n,t){if(n&1&&(C(0,"div",5)(1,"div",7),D(2,"div",8),v()()),n&2){let e=y();f(2),I("ngStyle",ot(2,YH,e.currentStep*100/e.maxSteps+"%")),sn("aria-valuenow",e.currentStep*100/e.maxSteps)}}function KH(n,t){if(n&1&&(C(0,"div",6),M(1),v()),n&2){let e=y();f(),z(" ",e.id," ")}}var NI=(()=>{class n{constructor(){this.isFullScreen=!0,this.currentStep=0,this.maxSteps=0,this.id=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-loading-block"]],inputs:{isFullScreen:"isFullScreen",currentStep:"currentStep",maxSteps:"maxSteps",id:"id"},standalone:!1,decls:8,vars:5,consts:[[1,"loading-block",3,"ngClass"],[1,"d-flex","justify-content-center","h-100","text-white"],[1,"spinner-container"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"progress-container"],[1,"block-id"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),M(5,"Loading..."),v()()(),P(6,XH,3,4,"div",5),v()(),P(7,KH,2,1,"div",6)),i&2&&(I("ngClass",ot(3,QH,!o.isFullScreen)),f(6),k(o.maxSteps>0?6:-1),f(),k(o.id?7:-1))},dependencies:[si,Ss],styles:[".loading-block[_ngcontent-%COMP%]{position:fixed;z-index:2001;top:0;left:0;width:100%;height:100%;animation-duration:2s;animation-name:_ngcontent-%COMP%_fadeIn;background-color:#0000004d}.loading-block.for-container[_ngcontent-%COMP%]{position:absolute}.loading-block[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.loading-block[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;width:80%;max-width:400px;transform:translate(-50%,30px)}.block-id[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px;font-size:20px;background-color:#fff9;color:red;z-index:2002}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})}}return n})();var nm=class n{constructor(t,e,i=0){this.x=t,this.y=e,this.radius=i}static{this.zero=new n(0,0)}};var Qs=Math.PI/180,BI=180/Math.PI;function Ml(n,t,e){return(1-e)*n+e*t}var Zi=class n{get r(){return this.values[0]}set r(t){this.values[0]=Math.floor(t)}get g(){return this.values[1]}set g(t){this.values[1]=Math.floor(t)}get b(){return this.values[2]}set b(t){this.values[2]=Math.floor(t)}get rgb(){return[this.r,this.g,this.b]}set rgb(t){this.r=t[0],this.g=t[1],this.b=t[2]}constructor(t,e,i){this.values=new Float32Array(3),this.rgb=[t,e,i]}static{this.white=new n(255,255,255)}static{this.black=new n(0,0,0)}mix(t,e=.5){return new n(Ml(this.r,t.r,e),Ml(this.g,t.g,e),Ml(this.b,t.b,e))}toHex(){let t=e=>e.toString(16).padStart(2,"0");return"#"+t(this.r)+t(this.g)+t(this.b)}toString(){return"rgb("+this.values.join(", ")+")"}static fromHex(t){return t.startsWith("#")&&(t=t.substr(1)),new n(parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16))}static fromHsl(t,e,i){if(t/=360,e/=100,i/=100,e===0)return new n(i,i,i);{let o=(l,c,u)=>(u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?l+(c-l)*6*u:u<.5?c:u<.6666666666666666?l+(c-l)*(.6666666666666666-u)*6:l),r=l=>Math.min(255,256*l),s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;return new n(r(o(a,s,t+1/3)),r(o(a,s,t)),r(o(a,s,t-1/3)))}}};var Ys=class n{constructor(t,e,i=0,o=0){this.x=t,this.y=e,this.width=i,this.height=o}static{this.zero=new n(0,0)}static fromScreen(){return new n(window.scrollX,window.scrollY,window.innerWidth,window.innerHeight)}static fromElement(t){let e=t.getBoundingClientRect();return new n(window.scrollX+e.x,window.scrollY+e.y,e.width,e.height)}};var Xe=class n{get x(){return this.values[0]}set x(t){this.values[0]=t}get y(){return this.values[1]}set y(t){this.values[1]=t}get z(){return this.values[2]}set z(t){this.values[2]=t}get xyz(){return[this.x,this.y,this.z]}set xyz(t){this.values[0]=t[0],this.values[1]=t[1],this.values[2]=t[2]}constructor(t=0,e=0,i=0){this.values=new Float32Array(3),this.xyz=[t,e,i]}static{this.zero=new n(0,0,0)}static{this.one=new n(1,1,1)}static{this.right=new n(1,0,0)}static{this.up=new n(0,1,0)}static{this.forward=new n(0,0,1)}magnitude(){return Math.sqrt(this.sqrMagnitude())}sqrMagnitude(){return this.x*this.x+this.y*this.y+this.z*this.z}add(t){return new n(this.x+t.x,this.y+t.y,this.z+t.z)}subtract(t){return new n(this.x-t.x,this.y-t.y,this.z-t.z)}scale(t){return typeof t=="number"?new n(this.x*t,this.y*t,this.z*t):new n(this.x*t.x,this.y*t.y,this.z*t.z)}normalized(){let t=this.magnitude();return t!==0?this.scale(1/t):new n(...this.xyz)}angle(t){return BI*Math.acos((this.x*t.x+this.y*t.y+this.z*t.z)/(this.magnitude()*t.magnitude()))}cross(t){return new n(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}dot(t){return this.magnitude()*t.magnitude()*Math.cos(Qs*this.angle(t))}toString(){return"Vector("+this.values.join(", ")+")"}static from2dAngle(t){return new n(Math.cos(t*Qs),Math.sin(t*Qs))}};function vi(n=0,t=1){return Ml(n,t,Math.random())}function FI(n){return n.length===0?void 0:n[Math.floor(Math.random()*n.length)]}function g_(){let n=vi(0,2*Math.PI),t=vi(-1,1);return new Xe(Math.sqrt(1-t*t)*Math.cos(n),Math.sqrt(1-t*t)*Math.sin(n),t)}function h_(n){return new Xe(n.x+vi(0,n.width),n.y+vi(0,n.height))}function LI(n){let t=vi(0,2*Math.PI),e=vi(0,n.radius);return new Xe(n.x+Math.cos(t)*e,n.y+Math.sin(t)*e)}function yi(n){return Array.isArray(n)?FI(n):typeof n=="function"?n():n}function sr(n,t){return()=>vi(n,t)}function ku(n,t){return()=>n+vi(-t,t)}var Ou={square:'<div style="height: 10px; width: 10px;"></div>',rectangle:'<div style="height: 6px; width: 10px;"></div>',circle:'<svg viewBox="0 0 2 2" width="10" height="10"><circle cx="1" cy="1" r="1" fill="currentColor"/></svg>',roundedSquare:'<div style="height: 10px; width: 10px; border-radius: 3px;"></div>',roundedRectangle:'<div style="height: 6px; width: 10px; border-radius: 3px;"></div>',star:'<svg viewBox="0 0 512 512" width="15" height="15"><polygon fill="currentColor" points="512,197.816 325.961,185.585 255.898,9.569 185.835,185.585 0,197.816 142.534,318.842 95.762,502.431 255.898,401.21 416.035,502.431 369.263,318.842"/></svg>'};function GI(n){let t=yi(n);if(typeof t=="string"){let e=Ou[t];if(!e)throw new Error(`Failed to resolve shape key '${t}'. Did you forget to add it to the 'resolvableShapes' lookup?`);let i=document.createElement("div");return i.innerHTML=e,i.firstElementChild}return t}var ar=class{constructor(){this.factor="lifetime",this.isRelative=!1}drive(t){return this.driverKey=t,this}through(t){return this.factor=t,this}by(t){return this.driverValue=t,this}relative(t=!0){return this.isRelative=t,this}build(){if(typeof this.driverKey>"u")throw new Error("No driving key was provided in the module builder. Did you forget a '.drive()' call?");if(typeof this.driverValue>"u")throw new Error("No driving value was provided in the module builder. Did you forget a '.through()' call?");return t=>{this.driverKey||(this.driverKey="color"),this.driverValue&&m_(t,this.driverKey,tU(this.driverValue,nU(this.factor,t),t),this.isRelative)}}};function tU(n,t,e){return n&&typeof n=="object"&&"evaluate"in n?n.evaluate(t):typeof n=="function"?n(t,e):n}function nU(n,t){switch(n){case"lifetime":return t.initialLifetime-t.lifetime;case"relativeLifetime":return(t.initialLifetime-t.lifetime)/t.initialLifetime;case"size":return t.size;default:throw new Error(`Invalid driving factor '${n}'.`)}}function m_(n,t,e,i=!1){if(!i)n[t]=e;else{let o=n["initial"+t[0].toUpperCase()+t.substr(1)];if(typeof o>"u")throw new Error(`Unable to use relative chaining with key '${t}'; no initial value exists.`);if(e instanceof Xe)m_(n,t,o.add(e));else if(typeof e=="number")m_(n,t,o*e);else throw new Error(`Unable to use relative chaining with particle key '${t}'; no relative operation for '${e}' could be inferred.`)}}var _i={debug:!1,gravity:800,zIndex:99999,respectReducedMotion:!0};function rm(n){if(n instanceof HTMLElement)return iU(n);if(n instanceof nm)return rU(n);if(n instanceof Ys)return p_(n);if(n instanceof MouseEvent)return oU(n);throw new Error(`Cannot infer the source type of '${n}'.`)}function iU(n){return()=>h_(Ys.fromElement(n))}function oU(n){return()=>new Xe(window.scrollX+n.clientX,window.scrollY+n.clientY)}function p_(n){return()=>h_(n)}function rU(n){return()=>LI(n)}function Po(n,t){return Object.assign({},n,t)}function VI(n){let t=n.x*Qs,e=n.y*Qs,i=new Xe(Math.cos(e),0,Math.sin(e)),o=new Xe(0,Math.cos(t),Math.sin(t));return i.cross(o)}var C_={lifetime:function(n){return n.lifetime<=0},bounds:function(n){let t=document.documentElement.scrollHeight;return n.location.y>t}};var Hr=class n{get current(){return this.exists(this.value)||(this.value=this.factory()),this.value}constructor(t,e=n.defaultExists){this.factory=t,this.exists=e}static defaultExists(t){return typeof t<"u"}};var sU="party-js-";function v_(n){return n&&n.isConnected}function y_(n,t,e){let i=document.createElement("div");return i.id=sU+n,Object.assign(i.style,t),e.appendChild(i)}var zI=new Hr(()=>y_("container",{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",pointerEvents:"none",userSelect:"none",zIndex:_i.zIndex.toString()},document.body),v_),HI=new Hr(()=>y_("debug",{position:"absolute",top:"0",left:"0",margin:"0.5em",padding:"0.5em 1em",border:"2px solid rgb(0, 0, 0, 0.2)",background:"rgb(0, 0, 0, 0.1)",color:"#555",fontFamily:"monospace"},zI.current),v_),UI=new Hr(()=>y_("particles",{width:"100%",height:"100%",overflow:"hidden",perspective:"1200px"},zI.current),v_);var lm=class{constructor(t){this.scene=t,this.refreshRate=8,this.refreshTimer=1/this.refreshRate}tick(t){let e=HI.current,i=_i.debug?"block":"none";e.style.display!==i&&(e.style.display=i),_i.debug&&(this.refreshTimer+=t,this.refreshTimer>1/this.refreshRate&&(this.refreshTimer=0,e.innerHTML=this.getDebugInformation(t).join("<br>")))}getDebugInformation(t){let e=this.scene.emitters.length,i=this.scene.emitters.reduce((s,a)=>s+a.particles.length,0),o=["<b>party.js Debug</b>","--------------",`FPS: ${Math.round(1/t)}`,`Emitters: ${e}`,`Particles: ${i}`],r=this.scene.emitters.map(function(s){return[`\u2B6F: ${s.currentLoop+1}/${s.options.loops>=0?s.options.loops:"\u221E"}`,`\u03A3p: ${s.particles.length}`,s.isExpired?"<i>expired</i>":`\u03A3t: ${s.durationTimer.toFixed(3)}s`].join(", ")});return o.push("--------------",...r),o}};function qI(){return{duration:5,loops:1,useGravity:!0,maxParticles:300,despawningRules:[C_.lifetime,C_.bounds],modules:[]}}function $I(){return{rate:10,angle:0,bursts:[],sourceSampler:p_(Ys.zero),initialLifetime:5,initialSpeed:5,initialSize:1,initialRotation:Xe.zero,initialColor:Zi.white}}function jI(){return{shapeFactory:"square",applyColor:aU,applyOpacity:lU,applyLighting:cU,applyTransform:uU}}function aU(n,t){let e=n.toHex();switch(t.nodeName.toLowerCase()){case"div":t.style.background=e;break;case"svg":t.style.fill=t.style.color=e;break;default:t.style.color=e;break}}function lU(n,t){t.style.opacity=n.toString()}function cU(n,t){t.style.filter=`brightness(${.5+Math.abs(n)})`}function uU(n,t){t.style.transform=`translateX(${(n.location.x-window.scrollX).toFixed(3)}px) translateY(${(n.location.y-window.scrollY).toFixed(3)}px) translateZ(${n.location.z.toFixed(3)}px) rotateX(${n.rotation.x.toFixed(3)}deg) rotateY(${n.rotation.y.toFixed(3)}deg) rotateZ(${n.rotation.z.toFixed(3)}deg) scale(${n.size.toFixed(3)})`}var Ru=class{constructor(t){let e=Po({lifetime:0,size:1,location:Xe.zero,rotation:Xe.zero,velocity:Xe.zero,color:Zi.white,opacity:1},t);this.id=Symbol(),this.size=this.initialSize=e.size,this.lifetime=this.initialLifetime=e.lifetime,this.rotation=this.initialRotation=e.rotation,this.location=e.location,this.velocity=e.velocity,this.color=e.color,this.opacity=e.opacity}};var Au=class{get isExpired(){return this.options.loops>=0&&this.currentLoop>=this.options.loops}get canRemove(){return this.particles.length===0}constructor(t){this.particles=[],this.currentLoop=0,this.durationTimer=0,this.emissionTimer=0,this.attemptedBurstIndices=[],this.options=Po(qI(),t?.emitterOptions),this.emission=Po($I(),t?.emissionOptions),this.renderer=Po(jI(),t?.rendererOptions)}clearParticles(){return this.particles.splice(0).length}tick(t){if(!this.isExpired&&(this.durationTimer+=t,this.durationTimer>=this.options.duration&&(this.currentLoop++,this.durationTimer=0,this.attemptedBurstIndices=[]),!this.isExpired)){let e=0;for(let o of this.emission.bursts){if(o.time<=this.durationTimer&&!this.attemptedBurstIndices.includes(e)){let r=yi(o.count);for(let s=0;s<r;s++)this.emitParticle();this.attemptedBurstIndices.push(e)}e++}this.emissionTimer+=t;let i=1/this.emission.rate;for(;this.emissionTimer>i;)this.emissionTimer-=i,this.emitParticle()}for(let e=this.particles.length-1;e>=0;e--){let i=this.particles[e];this.tickParticle(i,t),this.options.despawningRules.some(o=>o(i))&&this.particles.splice(e,1)}}tickParticle(t,e){t.lifetime-=e,this.options.useGravity&&(t.velocity=t.velocity.add(Xe.up.scale(_i.gravity*e))),t.location=t.location.add(t.velocity.scale(e));for(let i of this.options.modules)i(t)}emitParticle(){let t=this.emission.angle,e=new Ru({location:this.emission.sourceSampler(),lifetime:yi(this.emission.initialLifetime),velocity:Xe.from2dAngle(yi(t)).scale(yi(this.emission.initialSpeed)),size:yi(this.emission.initialSize),rotation:yi(this.emission.initialRotation),color:yi(this.emission.initialColor)});return this.particles.push(e),this.particles.length>this.options.maxParticles&&this.particles.shift(),e}};var cm=class{constructor(){this.elements=new Map,this.light=new Xe(0,0,1),this.enabled=!0,this.enabled=!_i.respectReducedMotion||!window.matchMedia("(prefers-reduced-motion)").matches}begin(){this.renderedParticles=[]}end(){let t=this.elements.keys(),e=t.next();for(;!e.done;){let i=e.value;this.renderedParticles.includes(i)||(this.elements.get(i)?.remove(),this.elements.delete(i)),e=t.next()}return this.renderedParticles.length}renderParticle(t,e){if(!this.enabled)return;let i=e.renderer,o=this.elements.has(t.id)?this.elements.get(t.id):this.createParticleElement(t,i);if(o){if(i.applyColor&&i.applyColor(t.color,o),i.applyOpacity&&i.applyOpacity(t.opacity,o),i.applyLighting){let s=VI(t.rotation).dot(this.light);i.applyLighting(s,o)}i.applyTransform&&i.applyTransform(t,o),this.renderedParticles.push(t.id)}}createParticleElement(t,e){let o=GI(e.shapeFactory).cloneNode(!0);return o.style.position="absolute",this.elements.set(t.id,UI.current.appendChild(o)),o}};var um=class{constructor(){this.emitters=[],this.debug=new lm(this),this.renderer=new cm,this.scheduledTickId=void 0,this.lastTickTimestamp=performance.now(),this.tick=this.tick.bind(this),this.scheduleTick()}createEmitter(t){let e=new Au(t);return this.emitters.push(e),e}clearEmitters(){return this.emitters.splice(0).length}clearParticles(){return this.emitters.reduce((t,e)=>t+e.clearParticles(),0)}scheduleTick(){this.scheduledTickId=window.requestAnimationFrame(this.tick)}cancelTick(){this.scheduledTickId&&window.cancelAnimationFrame(this.scheduledTickId)}tick(t){let e=(t-this.lastTickTimestamp)/1e3;try{for(let i=0;i<this.emitters.length;i++){let o=this.emitters[i];o.tick(e),o.isExpired&&o.canRemove&&this.emitters.splice(i--,1)}}catch(i){console.error(`An error occurred while updating the scene's emitters:
"${i}"`)}try{this.renderer.begin();for(let i of this.emitters)for(let o of i.particles)this.renderer.renderParticle(o,i);this.renderer.end()}catch(i){console.error(`An error occurred while rendering the scene's particles:
"${i}"`)}this.debug.tick(e),this.lastTickTimestamp=t,this.scheduleTick()}};var dm=new Hr(()=>{if(typeof document>"u"||typeof window>"u")throw new Error("It seems like you are trying to run party.js in a non-browser-like environment, which is not supported.");return new um});var fU=["confetti"],gU=(n,t,e,i)=>({left:n,top:t,width:e,height:i}),WI=(()=>{class n{constructor(){this.ngZone=p(Oe),this.color1="#1786a8",this.color2="#a6254c",this.color3="#a710f2"}ngAfterViewInit(){}callConfetti(){this.ngZone.runOutsideAngular(()=>{Ou.image1=`<svg xmlns="http://www.w3.org/2000/svg" width="22" height="26" viewBox="0 0 22 26" fill="none">
<path d="M21.569 0.887229L15.2737 25.6131L0.935634 15.8961L21.569 0.887229Z" fill="${this.color1}"/>
</svg>`,Ou.image2=`<svg xmlns="http://www.w3.org/2000/svg" width="22" height="26" viewBox="0 0 22 26" fill="none">
<path d="M21.569 0.887229L15.2737 25.6131L0.935634 15.8961L21.569 0.887229Z" fill="${this.color2}"/>
</svg>`,Ou.image3=`<svg xmlns="http://www.w3.org/2000/svg" width="22" height="26" viewBox="0 0 22 26" fill="none">
<path d="M21.569 0.887229L15.2737 25.6131L0.935634 15.8961L21.569 0.887229Z" fill="${this.color3}"/>
</svg>`,_i.debug=!1,_i.gravity=1e3*this.scale,this.confetti2(this.confetti.nativeElement,{count:sr(10,20),spread:sr(10,25),color:()=>Zi.fromHex("#10bcf2"),size:ku(.8*this.scale,.2*this.scale),speed:sr(500*this.scale,800*this.scale),rotation:()=>new Xe(0,0,Math.random()*-36.5),shapes:["image1","image2","image3"],modules:[new ar().drive("size").by(e=>Math.min(1,e*1.2)).relative().build(),new ar().drive("rotation").by(e=>new Xe(140,200,260).scale(e)).relative().build()]})})}confetti2(e,i){let o=Po({count:sr(20,40),spread:sr(35,45),speed:sr(300,600),size:ku(1,.2),rotation:()=>g_().scale(180),color:()=>Zi.fromHsl(vi(0,360),100,70),modules:[new ar().drive("size").by(r=>Math.min(1,r*3)).relative().build(),new ar().drive("rotation").by(r=>new Xe(140,200,260).scale(r)).relative().build()],shapes:["square","circle"]},i);return dm.current.createEmitter({emitterOptions:{loops:4,duration:.5,modules:o.modules},emissionOptions:{rate:0,bursts:[{time:0,count:o.count}],sourceSampler:rm(e),angle:ku(-90,yi(o.spread)??0),initialLifetime:2.5,initialSpeed:o.speed,initialSize:o.size,initialRotation:o.rotation,initialColor:o.color},rendererOptions:{shapeFactory:o.shapes}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-confetti"]],viewQuery:function(i,o){if(i&1&&ie(fU,5),i&2){let r;ee(r=te())&&(o.confetti=r.first)}},inputs:{left:"left",top:"top",width:"width",height:"height",scale:"scale",color1:"color1",color2:"color2",color3:"color3"},decls:2,vars:6,consts:[["confetti",""],[1,"confetti",3,"ngStyle"]],template:function(i,o){i&1&&D(0,"div",1,0),i&2&&I("ngStyle",HC(1,gU,o.left,o.top,o.width,o.height))},dependencies:[Ss],styles:[".confetti[_ngcontent-%COMP%]{position:absolute;pointer-events:none;-webkit-user-select:none;user-select:none}.confetti[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{pointer-events:all}"]})}}return n})();var mU=["nicknameForm"],pU=["score"],CU=["buttonSoundOnOffComponent"],vU=["buttonFullscreenComponent"],yU=["confetti"],_U=(n,t)=>({current:n,max:t}),bU=n=>({rate:n});function SU(n,t){if(n&1&&(C(0,"div",23),D(1,"div",24)(2,"div",25)(3,"div",24),v(),D(4,"div",22)),n&2){let e=y(2);f(),x("mask-image",e.signalStarImageUrl())("background-color",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().fontColorMain:void 0),f(),I("innerHTML",e.signalTitleText(),Le),f(),x("mask-image",e.signalStarImageUrl())("background-color",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().fontColorMain:void 0),f(),I("innerHTML",e.signalContentText(),Le)}}function wU(n,t){if(n&1&&D(0,"div",22),n&2){let e=y(2);I("innerHTML",e.signalContentText(),Le)}}function MU(n,t){if(n&1&&P(0,SU,5,10)(1,wU,1,1,"div",22),n&2){let e=y();k(e.signalTitleText()?0:1)}}function xU(n,t){if(n&1&&(C(0,"div",23),D(1,"div",24),C(2,"div",26),M(3),E(4,"nativeTranslate"),v(),D(5,"div",24),v(),C(6,"p"),M(7),E(8,"nativeTranslate"),v(),C(9,"p",27),M(10),E(11,"nativeTranslate"),v()),n&2){let e=y();f(),x("mask-image",e.signalStarImageUrl())("background-color",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().fontColorMain:void 0),f(2),ae(A(4,11,"well-done-user")),f(2),x("mask-image",e.signalStarImageUrl())("background-color",e.gameService.signalGameConfig()?e.gameService.signalGameConfig().fontColorMain:void 0),f(2),ae(A(8,13,"end-game-1")),f(3),z(" ",pn(11,15,"end-game-2",_s(18,_U,e.swipeYesNoService.currentQuestionNr,e.swipeYesNoService.maxQuestionCount))," ")}}function TU(n,t){if(n&1&&(C(0,"div",11),M(1),E(2,"nativeTranslate"),D(3,"br"),M(4),E(5,"nativeTranslate"),D(6,"br"),M(7),E(8,"nativeTranslate"),E(9,"number"),D(10,"br"),M(11),E(12,"nativeTranslate"),E(13,"number"),E(14,"number"),D(15,"br"),M(16),E(17,"nativeTranslate"),v()),n&2){let e,i=y();f(),kt(" ",A(2,9,"number-of-questions"),": ",i.gameService.gameQuestionResultList.length),f(3),kt(" ",A(5,11,"of-which-answered-correctly")," : ",i.gameService.getTotalValidGameQuestions()," "),f(3),kt(" ",A(8,13,"in-percent")," : ",pn(9,15,i.gameService.getCorrectGameQuestionsPercentage(),"1.1-1"),"%"),f(4),kt(" ",pn(13,20,A(12,18,"min-percent"),"1.1-1")," : ",pn(14,23,(e=i.gameService.signalGameConfig())==null?null:e.scormQuestionFinishPercentage,"1.1-1"),"% "),f(5),z(" ",A(17,26,i.gameService.isScormFinished()?"scorm-finished":"scorm-not-finished")," ")}}function DU(n,t){if(n&1&&(C(0,"div",12),M(1),E(2,"number"),E(3,"nativeTranslate"),v()),n&2){let e=y();f(),z(" ",pn(3,4,"correct-rate",ot(7,bU,pn(2,1,e.gameService.getCorrectGameQuestionsPercentage(),"1.1-1")))," ")}}function IU(n,t){}function EU(n,t){if(n&1){let e=ne();C(0,"div",28),it("fade-in-800ms"),C(1,"app-nickname-form",29,5),N("submitForm",function(o){O(e);let r=y();return R(r.onSubmitForm(o))})("cancelForm",function(o){O(e);let r=y();return R(r.onCancelForm(o))}),v()(),D(3,"div",9)}if(n&2){let e=y();f(),I("existingNicknames",e.gameScoreService.signalExistingNicknames())("gameScores",e.gameScoreService.signalGameScores())("currentNickname",e.userGameService.signalGameScore().nickname)("editValue",e.nicknameFormModel)}}function PU(n,t){if(n&1){let e=ne();C(0,"app-base-button",18),N("clickButton",function(){O(e);let o=y();return R(o.onClickHighScore())}),M(1),E(2,"nativeTranslate"),v(),D(3,"div",9)}if(n&2){let e,i=y();I("configBtn",((e=i.gameService.signalGameConfig())==null?null:e.defaultBtn)??null)("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnContentWidth","670px")("btnContentPadding","30px 10px"),f(),z("",A(2,5,"show-highscore-list")," ")}}function kU(n,t){if(n&1){let e=ne();C(0,"div",21),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-confirm",30),N("cancelDialog",function(o){O(e);let r=y();return R(r.onClickNoHighscoreSaving(o))}),v()()}n&2&&(f(),I("titleKey","end-game")("contentKey","modal-dialog.discard-high-score")("isJsonContent",!1)("hasSafetyCheck",!1))}function OU(n,t){if(n&1){let e=ne();C(0,"div",21),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-questions-result",31),N("cancelDialog",function(){O(e);let o=y();return R(o.onClickCloseQuestionsResult())}),v()()}if(n&2){let e=y();f(),I("runtime",0)("questionResultList",e.gameService.gameQuestionResultList)}}function RU(n,t){n&1&&D(0,"app-loading-block")}var fm=class __{constructor(){this.initService=p(de),this.swipeYesNoService=p(Qn),this.gameService=p(ye),this.gameScoreService=p(Eo),this.gameScoreBackendService=p(Bh),this.userGameService=p(zt),this.soundService=p(Ce),this.toastService=p(Ki),this.imageLoadService=p(we),this.nativeTranslateService=p(Fe),this.signalIsShowingCompleted=w(!1),this.isShowingConfirmCancelDialog=w(!1),this.isShowingQuestionsResultDialog=w(!1),this.signalTitleText=w(null),this.signalContentText=w(null),this.signalStarImageUrl=w("none"),this.frontImageUrl="none",this.nicknameFormModel=null,this.backgroundSoundTimeoutSubscription=null,this.afterViewInitTimeoutSubscription=null,this.addImageSubscription=null,this.AppConfig=g,this.SoundNameEnum=V,this.document=document}ngOnInit(){(this.initService.isScormPackage||this.gameService.signalGameConfig()&&!this.gameService.signalGameConfig().includesHighscore||this.userGameService.signalGameScore().score<=0)&&this.gameService.signalHasEnteredHighscore.set(!0);let t=this.imageLoadService.getImage("starImage");t&&this.signalStarImageUrl.set(`url('${t.src}')`);let e=this.nativeTranslateService.instant("quiz-name"),i=this.nativeTranslateService.instant("end-game-text",{quizName:e});if(i!=="end-game-text"){this.signalContentText.set(i);let o=this.splitAtClosingH5(i);o&&(this.signalTitleText.set(o.title),this.signalContentText.set(o.rest))}this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.playBackgroundSound(V.endGameMusic)},500),this.addImageSubscription=this.imageLoadService.addImageEmitter.subscribe(o=>{(o==="crabFrontImage"||o==="btnSoundOn"||o==="btnSoundOff"||o==="btnFullscreenOn"||o==="btnFullscreenOff")&&this.getImages()})}ngAfterViewInit(){this.getImages(),this.callScoreTween(this.scoreRef),this.afterViewInitTimeoutSubscription=K.setTimeout(()=>{this.afterViewInitTimeoutSubscription=null,this.callScoreTween(this.scoreRef),this.signalIsShowingCompleted.set(!0),this.gameService.signalHasShownEndGameConfetti()||(this.gameService.signalHasShownEndGameConfetti.set(!0),this.confetti.callConfetti(),this.soundService.playSound(V.endGame,!0))},1e3)}ngOnDestroy(){this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.afterViewInitTimeoutSubscription&&(this.afterViewInitTimeoutSubscription.unsubscribe(),this.afterViewInitTimeoutSubscription=null),this.addImageSubscription&&(this.addImageSubscription.unsubscribe(),this.addImageSubscription=null)}splitAtClosingH5(t){let e="</h5>",i=t.indexOf(e);if(i===-1)return null;let o=i+e.length,r=t.slice(0,o),s=t.slice(o);return{title:r,rest:s}}onCancelForm(t){this.soundService.playSound(V.click,!0),this.isShowingConfirmCancelDialog.set(!0),this.soundService.playSound("modalFadeIn",!0)}onClickCloseQuestionsResult(){this.isShowingQuestionsResultDialog.set(!1),this.soundService.playSound("modalFadeOut",!0)}onSubmitForm(t){this.soundService.playSound(V.click,!0),this.userGameService.setNickname(t.nickname),this.saveHighscoreEntry(t.nickname,null)}onClickShowQuestionsResult(){this.soundService.playSound(V.click,!0),this.isShowingQuestionsResultDialog.set(!0),this.soundService.playSound("modalFadeIn",!0)}onClickHighScore(){if(this.gameService.signalHasEnteredHighscore())this.soundService.playSound(V.click,!0),this.gameService.highscorePageBackRoute=G.endGame,this.initService.navigateToRoute(G.highScoreWeekly).then();else if(this.nicknameForm?.formGroup.invalid)this.nicknameForm?.onSubmitForm();else{this.soundService.playSound(V.click,!0);let t=this.nicknameForm?.f.nickname.value??"";this.userGameService.setNickname(t),this.gameService.highscorePageBackRoute=G.endGame,this.saveHighscoreEntry(t,G.highScoreWeekly);return}}saveHighscoreEntry(t,e){this.gameScoreBackendService.getHighScoreSaveToken(this.userGameService.signalGameScore().score,this.userGameService.signalGameScore().correctRate).pipe(yo(this)).subscribe({next:i=>{i&&this.gameScoreBackendService.addHighScore(i.timestamp,i.token,t,this.userGameService.signalGameScore().score,this.userGameService.signalGameScore().correctRate).pipe(yo(this)).subscribe({complete:()=>{this.gameScoreService.addGameScore(this.userGameService.signalGameScore()),this.gameService.signalHasEnteredHighscore.set(!0),e===G.base?this.endGame():e&&this.initService.navigateToRoute(e).then()},error:o=>{this.toastService.showToast(o,fn.error)}})},error:i=>{this.toastService.showToast(i,fn.error)}})}onClickEndGame(){if(this.soundService.playSound(V.click,!0),this.gameService.signalHasEnteredHighscore())this.endGame();else if(this.nicknameForm?.formGroup.invalid)this.isShowingConfirmCancelDialog.set(!0),this.soundService.playSound("modalFadeIn",!0);else{let t=this.nicknameForm?.f.nickname.value??"";this.userGameService.setNickname(t),this.saveHighscoreEntry(t,G.base);return}}onClickNoHighscoreSaving(t){this.isShowingConfirmCancelDialog.set(!1),t&&K.setTimeout(()=>{let e=this.nativeTranslateService.instant("anonymous");this.userGameService.setNickname(e),this.saveHighscoreEntry(e,G.base)},500)}endGame(){this.soundService.fadeOutSound(V.endGameMusic,500,pi.stop),this.gameService.init(),this.initService.navigateToRoute(G.base).then()}callScoreTween(t){if(!t)return;let e=0,i=this.userGameService.signalGameScore().score,o=qe.timeline();qe.killTweensOf(t.nativeElement),o.from(t.nativeElement,{opacity:1}),o.counter(t.nativeElement,{start:e,end:i,ease:"linear",onComplete:()=>{}},"-=0.5")}getImages(){let t=this.imageLoadService.getImage("crabFrontImage");t&&(this.frontImageUrl=`url('${t.src}')`);let e=this.imageLoadService.getImage("btnSoundOn"),i=this.imageLoadService.getImage("btnSoundOff"),o=this.imageLoadService.getImage("btnFullscreenOn"),r=this.imageLoadService.getImage("btnFullscreenOff");e&&i&&o&&r&&(this.buttonFullscreenComponent.initImages(o.src,r.src),this.buttonSoundOnOffComponent.initImages(e.src,i.src))}static{this.\u0275fac=function(e){return new(e||__)}}static{this.\u0275cmp=W({type:__,selectors:[["app-end-game-page"]],viewQuery:function(e,i){if(e&1&&(ie(mU,5),ie(pU,5),ie(CU,5),ie(vU,5),ie(yU,5)),e&2){let o;ee(o=te())&&(i.nicknameForm=o.first),ee(o=te())&&(i.scoreRef=o.first),ee(o=te())&&(i.buttonSoundOnOffComponent=o.first),ee(o=te())&&(i.buttonFullscreenComponent=o.first),ee(o=te())&&(i.confetti=o.first)}},standalone:!1,decls:35,vars:51,consts:[["confetti",""],["coinImage",""],["score",""],["buttonSoundOnOffComponent",""],["buttonFullscreenComponent",""],["nicknameForm",""],[3,"left","top","width","height","scale","color1","color2","color3"],[1,"content",3,"hidden"],[1,"content-container"],[1,"empty-line"],[1,"mb-4"],[1,"scorm-result-container"],[1,"text-center"],[1,"progress-container"],[1,"score"],[1,"coin-image"],[1,"score-text"],[1,"button-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentPadding"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled","right"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled"],[1,"dialog-animation-container"],[3,"innerHTML"],[1,"title-row"],[1,"star-image"],[1,"title",3,"innerHTML"],[1,"title","mb-5"],[1,""],[1,"nickname-form"],[3,"submitForm","cancelForm","existingNicknames","gameScores","currentNickname","editValue"],[3,"cancelDialog","titleKey","contentKey","isJsonContent","hasSafetyCheck"],[3,"cancelDialog","runtime","questionResultList"]],template:function(e,i){if(e&1){let o=ne();D(0,"app-confetti",6,0),C(2,"div",7)(3,"div",8),D(4,"div",9),P(5,MU,2,1)(6,xU,12,21),D(7,"div",10),P(8,TU,18,28,"div",11)(9,DU,4,9,"div",12),C(10,"div",13)(11,"div",14),D(12,"div",15,1)(14,"span",16,2),v()(),C(16,"div",17),it("fade-in-800ms"),P(17,IU,0,0)(18,EU,4,4),P(19,PU,4,7),C(20,"app-base-button",18),N("clickButton",function(){return O(o),R(i.onClickShowQuestionsResult())}),M(21),E(22,"nativeTranslate"),v(),D(23,"div",9),C(24,"app-base-button",18),N("clickButton",function(){return O(o),R(i.onClickEndGame())}),M(25),E(26,"nativeTranslate"),v()()()(),C(27,"app-button-sound-on-off",19,3),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),C(29,"app-button-fullscreen",20,4),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),P(31,kU,2,4,"div",21),P(32,OU,2,2,"div",21),P(33,RU,1,0,"app-loading-block"),E(34,"async")}if(e&2){let o,r,s,a,l,c,u,d,h;I("left","300px")("top","0")("width","180px")("height","460px")("scale",1)("color1","#1786a8")("color2","#a6254c")("color3","#a710f2"),f(2),I("hidden",i.isShowingQuestionsResultDialog()),f(3),k(i.signalContentText()?5:6),f(3),k(i.initService.isScormPackage?8:9),f(2),se("visible",i.signalIsShowingCompleted()),f(2),x("background-image",i.frontImageUrl),f(5),k(i.gameService.signalHasEnteredHighscore()?17:18),f(2),k(!i.initService.isScormPackage&&(!i.gameService.signalGameConfig()||(o=i.gameService.signalGameConfig())!=null&&o.includesHighscore)?19:-1),f(),I("configBtn",((r=i.gameService.signalGameConfig())==null?null:r.defaultBtn)??null)("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnContentWidth","670px")("btnContentPadding","30px 10px"),f(),z("",A(22,45,"show-my-review")," "),f(3),I("configBtn",((s=i.gameService.signalGameConfig())==null?null:s.defaultBtn)??null)("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnContentWidth","670px")("btnContentPadding","30px 10px"),f(),z("",A(26,47,"end-game")," "),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(a=i.gameService.signalGameConfig())==null?null:a.screenEndGameBtnIcon.radius)("borderWidthPx",(l=i.gameService.signalGameConfig())==null?null:l.screenEndGameBtnIcon.border)("borderColor",(c=i.gameService.signalGameConfig())==null?null:c.screenEndGameBtnIcon.borderColor)("disabled",!1)("right",i.document.fullscreenEnabled?"115px":"20px"),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(u=i.gameService.signalGameConfig())==null?null:u.screenEndGameBtnIcon.radius)("borderWidthPx",(d=i.gameService.signalGameConfig())==null?null:d.screenEndGameBtnIcon.border)("borderColor",(h=i.gameService.signalGameConfig())==null?null:h.screenEndGameBtnIcon.borderColor)("disabled",!1),f(2),k(i.isShowingConfirmCancelDialog()?31:-1),f(),k(i.isShowingQuestionsResultDialog()?32:-1),f(),k(A(34,49,i.gameScoreBackendService.isLoading$)?33:-1)}},dependencies:[OI,tm,AI,xo,To,NI,Ee,WI,ji,fv,ge],styles:[".content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:space-between;height:100%;padding:100px 6% 0}.content[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start;justify-content:space-around}.content[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]{font-size:1em;display:inline-block;background-color:#fff;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center;width:80px;height:80px;transform-origin:center;animation:spin 10s linear infinite}.content[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]:last-child{animation-direction:reverse}.progress-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;margin-top:30px;margin-bottom:100px;opacity:0;transition:opacity .3s}.progress-container.visible[_ngcontent-%COMP%]{opacity:1}.progress-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;font-size:82px;min-width:300px;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;padding:0 20px;min-height:75px;line-height:1}.progress-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .coin-image[_ngcontent-%COMP%]{width:62px;height:62px;background-repeat:no-repeat;background-size:contain;background-position:center;margin-right:40px}.progress-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-text[_ngcontent-%COMP%]{line-height:1.5;padding-top:2px}.button-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.button-container[_ngcontent-%COMP%]   .nickname-form[_ngcontent-%COMP%]{width:670px}.button-container[_ngcontent-%COMP%]   .empty-line[_ngcontent-%COMP%]{height:50px}"]})}};fm=Kt([nn()],fm);var QI=(()=>{class n{constructor(){this.message=this.onMessage.bind(this),this.onUpdate=new Z}init(){window.addEventListener("message",this.message)}destroy(){window.removeEventListener("message",this.message)}onMessage(e){e.origin===Gg.editorUrl&&e.data.type==="update"&&this.onUpdate.emit(e.data)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gm=(()=>{class n{constructor(){this._fontNames=[]}removeFont(e){let i=document.getElementById("main-dyn-font-style-"+e);i&&this._fontNames.indexOf(e)!==-1&&(i.remove(),this._fontNames.splice(this._fontNames.indexOf(e),1))}applyFont(e,i,o){this.removeFont(e),this._fontNames.push(e);let r=document.createElement("style");r.id="main-dyn-font-style-"+e;let s=`
		@font-face {
			font-family: '${e}';
			src: url('${i}');
		}
		`;o&&(s+=`body {
		        font-family: '${e}', sans-serif !important;
		    }
		    
		    .special-font {
		        font-family: '${e}', sans-serif !important;
		    }`),r.innerHTML=s,document.head.appendChild(r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xs=class{static getBlobFromBase64String(t,e=""){try{let i=t.match(/^data:(.*);base64,(.*)$/);i&&(e=i[1],t=i[2]);let o=atob(t),r=[];for(let s=0;s<o.length;s+=512){let a=o.slice(s,s+512),l=new Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);let c=new Uint8Array(l);r.push(c)}return new Blob(r,{type:e})}catch(i){return console.error(i),null}}};var hm=(()=>{class n{constructor(){this.iFrameEventService=p(QI),this.initService=p(de),this.gameService=p(ye),this.gameCoinsService=p(Pi),this.fontStyleService=p(gm),this.backgroundGradientService=p(Lr),this.backgroundAnimationService=p(Io),this.aniSplitScreenTitleService=p(Fr),this.swipeYesNoService=p(Qn),this.nativeTranslateService=p(Fe),this.imageLoadService=p(we),this.fileLoadService=p(Yi),this.router=p(Cn),this.iFrameSubscription=null,this.signalIsActivated=w(!1)}init(e,i,o){this.signalBackgroundImage=e,this.gameHeaderComponent=i,this.changeDetectorRef=o,this.iFrameEventService.init(),this.iFrameSubscription=this.iFrameEventService.onUpdate.subscribe(this.onUpdate.bind(this))}destroy(){this.iFrameSubscription&&(this.iFrameSubscription.unsubscribe(),this.iFrameSubscription=null),this.iFrameEventService.destroy()}restartSplitScreenTitleAnimation(){window.dispatchEvent(new Event("resize")),this.aniSplitScreenTitleService.restart(),this.router.url.split("?")[0]!=="/"+G.game&&this.initService.navigateToRoute(G.game).then()}restartMiniGameSplitScreenTitleAnimation(){window.dispatchEvent(new Event("resize")),this.aniSplitScreenTitleService.restart(),this.router.url.split("?")[0]!=="/"+G.gameMultiplier&&this.initService.navigateToRoute(G.gameMultiplier).then()}updateValueInConfig(e,i,o,r,s){o&&this.router.url.split("?")[0]!=="/"+o&&this.initService.navigateToRoute(o).then(),e.data.formModelName in i&&(i[e.data.formModelName]=e.data.value,window.dispatchEvent(new Event("resize"))),r&&r(),s&&s()}updateValuesInScreenModel(e,i,o,r,s){if(e.data.subId){let a=i[e.data.subId];a instanceof Ne?this.updateValueInConfig(e,a,o,void 0,s):a instanceof ke&&this.updateValueInConfig(e,a,o,void 0,s)}else this.updateValueInConfig(e,i,o,r,void 0)}onUpdate(e){if(e.data?.formModelName&&this.signalIsActivated.set(!0),"id"in e.data&&"formModelName"in e.data&&"value"in e.data){let o=this.gameService.signalGameConfig();if(!o)return;let r=e.data.id;if(r===""){this.updateValueInConfig(e,o,e.data.route);return}let s=o[r];if(s instanceof Ka){let a=s;e.data.route=G.highScore,this.updateValuesInScreenModel(e,a,e.data.route,void 0,void 0)}if(s instanceof Za){let a=s;e.data.route=G.game,this.updateValuesInScreenModel(e,a,e.data.route,()=>{if(this.swipeYesNoService.signalIsEditorCallGoldenCard.set(!1),this.swipeYesNoService.updateGlobalSettingsFromGameConfig(o.screenQuiz),this.swipeYesNoService.updateStyles(),e.data.formModelName==="imageSwipe"){let l="swipeYesNoSwipeLeftRightImage",c=e.data.value??null;c&&c.indexOf("data:image/")!==-1&&c.indexOf(";base64")!==-1?this.imageLoadService.addImage(l,e.data.value):(this.imageLoadService.removeImage(l),this.loadFiles([{name:l,url:"assets/games/swipe-yes-no/"+"images/swipe-left-right.png"}]).then(d=>{for(let h of d)(h.blob.type==="image/jpeg"||h.blob.type==="image/png"||h.blob.type==="image/svg+xml")&&(this.imageLoadService.addImage(h.name,h.blob),this.swipeYesNoService.triggerRerender())})),this.swipeYesNoService.triggerRerender()}else if(e.data.formModelName==="imageGreat"){let l="swipeYesNoGreatImage",c=e.data.value??null;c&&c.indexOf("data:image/")!==-1&&c.indexOf(";base64")!==-1?this.imageLoadService.addImage(l,e.data.value):(this.imageLoadService.removeImage(l),this.loadFiles([{name:l,url:"assets/games/swipe-yes-no/"+"images/great.png"}]).then(d=>{for(let h of d)(h.blob.type==="image/jpeg"||h.blob.type==="image/png"||h.blob.type==="image/svg+xml")&&(this.imageLoadService.addImage(h.name,h.blob),this.swipeYesNoService.triggerRerender("correct"))})),this.swipeYesNoService.triggerRerender("correct")}else e.data.formModelName==="fontColorFeedback"&&this.swipeYesNoService.triggerRerender("correct")},()=>{this.swipeYesNoService.signalIsEditorCallGoldenCard.set(e.data.subId==="questionCardGold"),this.swipeYesNoService.triggerRerender(),e.data.subId==="questionCardGold"?this.swipeYesNoService.updateGoldenCardImage(this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg2,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg3,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg4,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg5):e.data.subId==="timeBar"?(this.swipeYesNoService.timeBarColors[0]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg2,this.swipeYesNoService.timeBarColors[1]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg3,this.swipeYesNoService.timeBarColors[2]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg4,this.swipeYesNoService.timeBarColors[3]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg5,this.swipeYesNoService.signalRemainingTimeRank.set(0)):e.data.subId==="btnFeedback"&&this.swipeYesNoService.triggerRerender("correct")})}else if(s instanceof Ja){let a=s;e.data.route=G.gameMultiplier,this.updateValuesInScreenModel(e,a,e.data.route,()=>{},()=>{})}else if(s instanceof tl){let a=s;e.data.route=G.gameMultiplier;let l=1;this.gameService.signalCurrentMultiplierGame()!==l&&(this.gameService.signalCurrentMultiplierGame.set(l),this.aniSplitScreenTitleService.restart()),this.updateValuesInScreenModel(e,a,e.data.route,()=>{},()=>{})}else if(s instanceof nl){let a=s;e.data.route=G.gameMultiplier;let l=2;this.gameService.signalCurrentMultiplierGame()!==l&&(this.gameService.signalCurrentMultiplierGame.set(l),this.aniSplitScreenTitleService.restart()),this.updateValuesInScreenModel(e,a,e.data.route,()=>{},()=>{})}else if(s instanceof il){let a=s;e.data.route=G.gameMultiplier;let l=3;this.gameService.signalCurrentMultiplierGame()!==l&&(this.gameService.signalCurrentMultiplierGame.set(l),this.aniSplitScreenTitleService.restart()),this.updateValuesInScreenModel(e,a,e.data.route,()=>{},()=>{})}else if(s instanceof el){let a=s;e.data.route=G.endGame,this.updateValuesInScreenModel(e,a,e.data.route,()=>{},()=>{})}else s instanceof Ne?this.updateValueInConfig(e,s,e.data.route):s instanceof ke&&this.updateValueInConfig(e,s,e.data.route)}else if(e.data?.formModelName&&Q.isset(e.data?.value)){let o=e.data?.formModelName?.slice(-5),r=e.data?.formModelName?.slice(0,-6);o===this.nativeTranslateService.signalCurrentLocale()?(this.nativeTranslateService.overwriteLocalTranslationValue(o,r,e.data.value),r==="quiz-name"&&this.router.url.split("?")[0]!=="/"+G.base&&this.initService.navigateToRoute(G.base).then(),window.dispatchEvent(new Event("resize"))):e.data.formModelName==="mainFont"&&(e.data.value.length>0?this.fontStyleService.applyFont("MainFont","uploads/"+e.data.value,!0):this.fontStyleService.removeFont("MainFont"))}else if(e.data.formModelName==="titleAlignment"&&"alignment"in e.data){if(this.gameService.signalGameConfig()){if(this.gameService.signalGameConfig().titleAlignment=e.data.alignment,this.router.url.split("?")[0]!=="/"+G.base&&this.initService.navigateToRoute(G.base).then(),this.gameService.signalGameTitleImage()){let r=this.gameService.signalGameTitleImage();this.gameService.signalGameTitleImage.set(null),this.gameService.signalGameTitleImage.set(r)}this.changeDetectorRef?.detectChanges(),window.dispatchEvent(new Event("resize"))}}else if(e.data.formModelName==="titleFontSize"&&"fontSize"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().titleFontSize=Math.round(e.data.fontSize),this.router.url.split("?")[0]!=="/"+G.base&&this.initService.navigateToRoute(G.base).then(),window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="titleLineHeight"&&"height"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().titleLineHeight=parseFloat(e.data.height),this.router.url.split("?")[0]!=="/"+G.base&&this.initService.navigateToRoute(G.base).then(),window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="activeMiniGames"&&"activeMiniGames"in e.data){let o=this.gameService.signalGameConfig();if(o){let a=function(l,c){let u=new Set(l);for(let d of c)if(!u.has(d))return d};var i=a;let r=this.gameService.signalGameConfig().activeMiniGames??[],s=a(r,e.data.activeMiniGames);o.activeMiniGames=e.data.activeMiniGames,e.data.isEnabled&&s!==void 0&&this.gameService.signalCurrentMultiplierGame()!==s&&(this.gameService.signalCurrentMultiplierGame.set(s),this.aniSplitScreenTitleService.restart(),this.initService.navigateToRoute(G.gameMultiplier).then())}}else if(e.data.formModelName==="maxQuizQuestionCount"&&"count"in e.data){let o=e.data.count;this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().maxQuizQuestionCount=o,this.gameService.init(),this.initService.navigateToRoute(G.game).then())}else if(e.data.formModelName==="fontColorTitle"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().fontColorTitle=e.data.color,this.router.url.split("?")[0]!=="/"+G.base&&this.initService.navigateToRoute(G.base).then(),window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="fontColorMain"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().fontColorMain=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="fontColorLink"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().fontColorLink=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="dialogColorBg"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().dialogColorBg=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="fontColorDialog"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().fontColorDialog=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="dialogRadius"&&"radius"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().dialogRadius=e.data.radius,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="dialogBorder"&&"thickness"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().dialogBorder=e.data.thickness,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="dialogBorderColor"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().dialogBorderColor=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="fontColorButton"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().fontColorButton=e.data.color,this.gameService.signalGameConfig().defaultBtn.fontColor=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="colorButtonBg"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().colorButtonBg=e.data.color,this.gameService.signalGameConfig().defaultBtn.colorBg=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="buttonRadius"&&"radius"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().buttonRadius=e.data.radius,this.gameService.signalGameConfig().defaultBtn.radius=e.data.radius,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="buttonBorder"&&"thickness"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().buttonBorder=e.data.thickness,this.gameService.signalGameConfig().defaultBtn.border=e.data.thickness,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="buttonBorderColor"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().buttonBorderColor=e.data.color,this.gameService.signalGameConfig().defaultBtn.borderColor=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="fontColorIconButton"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().fontColorIconButton=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="colorIconButtonBg"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().colorIconButtonBg=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="iconButtonRadius"&&"radius"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().iconButtonRadius=e.data.radius,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="iconButtonBorder"&&"thickness"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().iconButtonBorder=e.data.thickness,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="iconButtonBorderColor"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().iconButtonBorderColor=e.data.color,window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="colorCategoryPath"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().colorCategoryPath=e.data.color,this.router.url.split("?")[0]!=="/"+G.gameTopic&&this.initService.navigateToRoute(G.gameTopic).then(),window.dispatchEvent(new Event("resize")));else if(e.data.formModelName==="backgroundColors"&&Array.isArray(e.data.colors))this.backgroundGradientService.init(e.data.colors,this.gameService.signalGameConfig()?.backgroundColorsDuration??25);else if(e.data.formModelName==="imageGameTitle"&&"base64Image"in e.data){let o=e.data?.base64Image??null;this.gameService.signalGameTitleImage.set(o)}else if(e.data.formModelName==="imageBg"&&"base64Image"in e.data){let o=e.data?.base64Image??null,r=o?`url('${o}')`:"none";this.signalBackgroundImage?.set(r)}else if(e.data.formModelName==="imageScoreAni"&&"base64Image"in e.data){let o=e.data?.base64Image??null;if(o){if(o.indexOf("data:image/")!==-1&&o.indexOf(";base64")!==-1){let a=Xs.getBlobFromBase64String(o);a&&(this.imageLoadService.addImage("crabFrontImage",a),this.imageLoadService.addImage("crabBackImage",a))}let r=784,s=54;this.gameCoinsService.init(e.data?.isRotatingFlyingAni??!1),this.gameHeaderComponent?.init(),this.changeDetectorRef?.detectChanges(),this.gameCoinsService.start(1080*.5,1e3,r,s,4,null,null)}}else if(e.data.formModelName==="backgroundColorsDuration"&&"duration"in e.data)this.gameService.signalGameConfig().backgroundColorsDuration=e.data.duration,this.backgroundGradientService.signalBackgroundColorsDuration.set(e.data.duration);else if(e.data.formModelName==="imageBackgroundAnimation"&&"type"in e.data){let o=e.data.type;if(o==="add"?this.backgroundAnimationService.addImage(e.data.fileName,e.data.base64Image):o==="remove"?this.backgroundAnimationService.removeImage(e.data.oldFileName):o==="update"&&(this.backgroundAnimationService.removeImage(e.data.oldFileName),this.backgroundAnimationService.addImage(e.data.fileName,e.data.base64Image)),this.gameService.signalGameConfig()?.backgroundAnimationImageUrls){let r=[];for(let s of this.backgroundAnimationService.signalImageUrls())r.push(s.url);this.gameService.signalGameConfig().backgroundAnimationImageUrls=r}}else if(e.data.formModelName==="backgroundAnimationType"&&"type"in e.data)this.gameService.signalGameConfig().backgroundAnimationType=e.data.type,this.gameService.signalGameConfig()?.backgroundAnimationImageUrls&&this.backgroundAnimationService.setImageUrls(this.gameService.signalGameConfig().backgroundAnimationImageUrls??[],this.gameService.signalGameConfig().backgroundAnimationType),this.router.url.split("?")[0]!=="/"+G.base&&this.initService.navigateToRoute(G.base).then(),window.dispatchEvent(new Event("resize"));else if(e.data.formModelName==="splitScreenAnimationType"&&"type"in e.data)this.gameService.signalGameConfig().splitScreenAnimationType=e.data.type,this.restartSplitScreenTitleAnimation();else if(e.data.formModelName==="splitScreenColorBg"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().splitScreenColorBg=e.data.color,this.restartSplitScreenTitleAnimation());else if(e.data.formModelName==="imageSplitScreenBg"&&"base64Image"in e.data){if(this.gameService.signalGameConfig()){let o=e.data?.base64Image??null;if(o){if(o.indexOf("data:image/")!==-1&&o.indexOf(";base64")!==-1){let r=Xs.getBlobFromBase64String(o);r&&(this.imageLoadService.addImage("splitScreenBgImage",r),this.restartSplitScreenTitleAnimation())}}else this.imageLoadService.removeImage("splitScreenBgImage"),this.restartSplitScreenTitleAnimation()}}else if(e.data.formModelName==="miniGameSplitScreenAnimationType"&&"type"in e.data)this.gameService.signalGameConfig().miniGameSplitScreenAnimationType=e.data.type,this.restartMiniGameSplitScreenTitleAnimation();else if(e.data.formModelName==="miniGameSplitScreenColorBg"&&"color"in e.data)this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().miniGameSplitScreenColorBg=e.data.color,this.restartMiniGameSplitScreenTitleAnimation());else if(e.data.formModelName==="imageMiniGameSplitScreenBg"&&"base64Image"in e.data){if(this.gameService.signalGameConfig()){let o=e.data?.base64Image??null;if(o){if(o.indexOf("data:image/")!==-1&&o.indexOf(";base64")!==-1){let r=Xs.getBlobFromBase64String(o);r&&(this.imageLoadService.addImage("miniGameSplitScreenBgImage",r),this.restartMiniGameSplitScreenTitleAnimation())}}else this.imageLoadService.removeImage("miniGameSplitScreenBgImage"),this.restartMiniGameSplitScreenTitleAnimation()}}else if(e.data.formModelName==="imageCompanyLogo"&&"base64Image"in e.data){if(this.gameService.signalGameConfig()){let o=e.data?.base64Image??null;if(o){if(o.indexOf("data:image/")!==-1&&o.indexOf(";base64")!==-1){let r=Xs.getBlobFromBase64String(o);r&&(this.imageLoadService.addImage("companyLogoImage",r),this.gameService.signalGameConfig().imageCompanyLogo="company-logo",window.dispatchEvent(new Event("resize")))}}else this.gameService.signalGameConfig().urlCompany=null,this.gameService.signalGameConfig().imageCompanyLogo=null,this.loadFiles([{name:"companyLogoImage",url:"assets/images/svg/ROY_white_full_coloured.svg"}]).then(r=>{for(let s of r)(s.blob.type==="image/jpeg"||s.blob.type==="image/png"||s.blob.type==="image/svg+xml")&&this.imageLoadService.addImage(s.name,s.blob)}),window.dispatchEvent(new Event("resize"))}}else e.data.formModelName==="urlCompany"&&"url"in e.data&&this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().urlCompany=e.data.url)}loadFiles(e){return ue(this,null,function*(){return yield this.fileLoadService.downloadFilesWithProgress(e,(i,o,r)=>{})})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var YI=n=>({"background-image":n});function AU(n,t){if(n&1&&D(0,"div",18),n&2){let e=y(2);x("--loader-color",e.colorFont)}}function NU(n,t){if(n&1&&(C(0,"span",15),M(1),v()),n&2){let e=y().$implicit;f(),ae(e.nickname)}}function BU(n,t){if(n&1&&D(0,"div",18),n&2){let e=y(2);x("--loader-color",e.colorFont)}}function FU(n,t){if(n&1&&M(0),n&2){let e=y().$implicit,i=y();z(" ",(e.correctRate*100).toLocaleString(i.nativeTranslateService.currentLocale??"en-US"),"% ")}}function LU(n,t){if(n&1&&D(0,"div",18),n&2){let e=y(2);x("--loader-color",e.colorFont)}}function GU(n,t){if(n&1&&M(0),n&2){let e=y().$implicit,i=y();z(" ",e.score.toLocaleString(i.nativeTranslateService.currentLocale??"en-US")," ")}}function VU(n,t){if(n&1&&(C(0,"div",12)(1,"div",3)(2,"span",13),M(3),v()(),C(4,"div",4),P(5,AU,1,2,"div",14)(6,NU,2,1,"span",15),v(),C(7,"div",16),P(8,BU,1,2,"div",14)(9,FU,1,1),v(),C(10,"div",17),P(11,LU,1,2,"div",14)(12,GU,1,1),v()()),n&2){let e=t.$index,i=y();x("--table-row-odd-bg",i.colorBackgroundRowOdd),f(2),x("color",i.fontColorRank)("animation-duration",i.rankAniDuration,"s")("border-radius",i.rankBorderRadius,"px")("border-width",i.rankBorder,"px")("border-color",i.rankBorderColor),I("ngStyle",ot(17,YI,i.signalRankGradient())),f(),ae(e+1),f(2),k(i.isLoading?5:6),f(3),k(i.isLoading?8:9),f(3),k(i.isLoading?11:12)}}function zU(n,t){if(n&1&&D(0,"div",23),n&2){let e=y(3);x("--loader-color",e.colorFont)}}function HU(n,t){if(n&1&&(C(0,"span",13),M(1),v()),n&2){let e=y(3);x("color",e.userRankColorFont)("animation-duration",e.userRankAniDuration,"s")("border-radius",e.userRankBorderRadius,"px")("border-width",e.userRankBorder,"px")("border-color",e.userRankBorderColor),I("ngStyle",ot(12,YI,e.signalUserRankGradient())),f(),ae(e.signalUserRank())}}function UU(n,t){if(n&1&&P(0,zU,1,2,"div",21)(1,HU,2,14,"span",22),n&2){let e=y(2);k(e.isLoading?0:1)}}function qU(n,t){if(n&1&&(C(0,"div",19)(1,"div",20),P(2,UU,2,1),v(),C(3,"div",20)(4,"span",15),M(5),v()(),C(6,"div",20),M(7),v(),C(8,"div",20),M(9),v()()),n&2){let e=y();x("color",e.userRowColorFont)("background-color",e.userRowColorBackground)("border-radius",e.userRowBorderRadius,"px")("border-width",e.userRowBorder,"px")("border-color",e.userRowBorderColor),f(2),k(e.signalUserRank()!==-1||e.iFrameEventRuleService.signalIsActivated()?2:-1),f(3),ae(e.userGameService.signalGameScore().nickname),f(2),z(" ",(e.userGameService.signalGameScore().correctRate*100).toLocaleString(e.nativeTranslateService.currentLocale??"en-US"),"% "),f(),x("margin-right",e.userRowBorderRadius*.2,"px"),f(),z("",e.userGameService.signalGameScore().score.toLocaleString(e.nativeTranslateService.currentLocale??"en-US")," ")}}var mm=class b_{constructor(){this.gameScoreService=p(Eo),this.userGameService=p(zt),this.imageLoadService=p(we),this.nativeTranslateService=p(Fe),this.iFrameEventRuleService=p(hm),this.isLoading=!1,this.colorFont=g.quizGameDefaultFontColorMain,this.colorFontHeader=g.quizGameDefaultFontColorMain,this.colorBackground=g.quizGameDefaultTableBackgroundColor,this.colorBackgroundRowOdd=g.quizGameDefaultTableBackgroundRowOddColor,this.borderRadius=g.quizGameDefaultTableRadiusPx,this.border=g.quizGameDefaultTableBorderPx,this.borderColor=g.quizGameDefaultTableBorderColor,this.fontColorRank=g.quizGameDefaultTableRankFontColor,this.rankColorBackground1=g.quizGameDefaultTableRankFontColor,this.rankColorBackground2=g.quizGameDefaultTableRankFontColor,this.rankColorBackground3=g.quizGameDefaultTableRankFontColor,this.rankColorBackground4=g.quizGameDefaultTableRankFontColor,this.rankAniDuration=g.quizGameDefaultTableRankAniDuration,this.rankBorderRadius=g.quizGameDefaultTableRankRadiusPx,this.rankBorder=g.quizGameDefaultTableRankBorderPx,this.rankBorderColor=g.quizGameDefaultTableRankBorderColor,this.userRowColorFont=g.quizGameDefaultFontColorMain,this.userRowColorBackground=g.quizGameDefaultTableBackgroundColor,this.userRowBorderRadius=g.quizGameDefaultTableRadiusPx,this.userRowBorder=g.quizGameDefaultTableBorderPx,this.userRowBorderColor=g.quizGameDefaultTableBorderColor,this.userRankColorFont=g.quizGameDefaultTableRankFontColor,this.userRankColorBackground1=g.quizGameDefaultTableRankBackgroundColor1,this.userRankColorBackground2=g.quizGameDefaultTableRankBackgroundColor2,this.userRankColorBackground3=g.quizGameDefaultTableRankBackgroundColor3,this.userRankColorBackground4=g.quizGameDefaultTableRankBackgroundColor4,this.userRankAniDuration=g.quizGameDefaultTableRankAniDuration,this.userRankBorderRadius=g.quizGameDefaultTableRankRadiusPx,this.userRankBorder=g.quizGameDefaultTableRankBorderPx,this.userRankBorderColor=g.quizGameDefaultTableRankBorderColor,this.signalUserRank=w(-1),this.signalAnimationAngleDegrees=w(360),this.signalRankGradient=w(`linear-gradient(${this.signalAnimationAngleDegrees()}deg,
					${this.rankColorBackground1} 3%,
					${this.rankColorBackground2} 58%,
					${this.rankColorBackground3} 68%,
					${this.rankColorBackground4} 98%)`),this.signalUserRankGradient=w(`linear-gradient(${this.signalAnimationAngleDegrees()}deg,
					${this.userRankColorBackground1} 3%,
					${this.userRankColorBackground2} 58%,
					${this.userRankColorBackground3} 68%,
					${this.userRankColorBackground4} 98%)`),this.frontImageUrl="none",this.AppConfig=g,ec(()=>{this.gameScoreService.signalTopGameScores()&&(this.userGameService.signalGameScore()!==null?this.signalUserRank.set(this.gameScoreService.getRankByGameScore(this.userGameService.signalGameScore())):this.signalUserRank.set(-1))})}ngOnInit(){let t=this.imageLoadService.getImage("crabFrontImage");t&&(this.frontImageUrl=`url('${t.src}')`)}ngAfterViewInit(){this.updateRankGradient(),this.updateUserRankGradient()}ngOnChanges(t){("rankColorBackground1"in t||"rankColorBackground2"in t||"rankColorBackground3"in t||"rankColorBackground4"in t)&&this.updateRankGradient(),("userRankColorBackground1"in t||"userRankColorBackground2"in t||"userRankColorBackground3"in t||"userRankColorBackground4"in t)&&this.updateUserRankGradient()}ngOnDestroy(){}updateRankGradient(){this.signalRankGradient.set(`linear-gradient(${this.signalAnimationAngleDegrees()}deg,
					${this.rankColorBackground1} 3%,
					${this.rankColorBackground2} 58%,
					${this.rankColorBackground3} 68%,
					${this.rankColorBackground4} 98%)`)}updateUserRankGradient(){this.signalUserRankGradient.set(`linear-gradient(${this.signalAnimationAngleDegrees()}deg,
					${this.userRankColorBackground1} 3%,
					${this.userRankColorBackground2} 58%,
					${this.userRankColorBackground3} 68%,
					${this.userRankColorBackground4} 98%)`)}static{this.\u0275fac=function(e){return new(e||b_)}}static{this.\u0275cmp=W({type:b_,selectors:[["app-game-score-table"]],inputs:{isLoading:"isLoading",colorFont:"colorFont",colorFontHeader:"colorFontHeader",colorBackground:"colorBackground",colorBackgroundRowOdd:"colorBackgroundRowOdd",borderRadius:"borderRadius",border:"border",borderColor:"borderColor",fontColorRank:"fontColorRank",rankColorBackground1:"rankColorBackground1",rankColorBackground2:"rankColorBackground2",rankColorBackground3:"rankColorBackground3",rankColorBackground4:"rankColorBackground4",rankAniDuration:"rankAniDuration",rankBorderRadius:"rankBorderRadius",rankBorder:"rankBorder",rankBorderColor:"rankBorderColor",userRowColorFont:"userRowColorFont",userRowColorBackground:"userRowColorBackground",userRowBorderRadius:"userRowBorderRadius",userRowBorder:"userRowBorder",userRowBorderColor:"userRowBorderColor",userRankColorFont:"userRankColorFont",userRankColorBackground1:"userRankColorBackground1",userRankColorBackground2:"userRankColorBackground2",userRankColorBackground3:"userRankColorBackground3",userRankColorBackground4:"userRankColorBackground4",userRankAniDuration:"userRankAniDuration",userRankBorderRadius:"userRankBorderRadius",userRankBorder:"userRankBorder",userRankBorderColor:"userRankBorderColor"},standalone:!1,features:[Pe],decls:17,vars:23,consts:[[1,"game-score-table-container"],[1,"game-score-table"],[1,"header","grid","t-row"],[1,"t-col","col1"],[1,"t-col","col2"],[1,"t-col","col3","correct-rate"],[1,"t-col","col4","score"],[1,"score-image"],[1,"main"],[1,"grid","t-row",3,"--table-row-odd-bg"],[1,"footer"],[1,"grid","user-score-container",3,"color","background-color","border-radius","border-width","border-color"],[1,"grid","t-row"],[1,"rank",3,"ngStyle"],[1,"loader",3,"--loader-color"],[1,"nickname"],[1,"t-col","col3"],[1,"t-col","col4","text-end"],[1,"loader"],[1,"grid","user-score-container"],[1,"t-col"],[1,"loader","mx-auto",3,"--loader-color"],[1,"rank",3,"ngStyle","color","animation-duration","border-radius","border-width","border-color"],[1,"loader","mx-auto"]],template:function(e,i){e&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),D(3,"div",3),C(4,"div",4),M(5),E(6,"nativeTranslate"),v(),C(7,"div",5),M(8),E(9,"nativeTranslate"),v(),C(10,"div",6),D(11,"div",7),v()(),C(12,"div",8),ct(13,VU,13,19,"div",9,LC),v(),D(15,"div",10),v(),P(16,qU,10,16,"div",11),v()),e&2&&(f(),x("color",i.colorFont)("background-color",i.colorBackground)("border-radius",i.borderRadius,"px")("border-width",i.border,"px")("border-color",i.borderColor),f(),x("color",i.colorFontHeader),f(3),ae(A(6,19,"nickname")),f(3),ae(A(9,21,"correct-highscore")),f(3),x("background-image",i.frontImageUrl)("margin-right",i.borderRadius*.5,"px"),f(2),ut(i.gameScoreService.signalTopGameScores()),f(3),k(i.userGameService.signalGameScore()&&i.userGameService.signalGameScore().nickname.length>0||i.iFrameEventRuleService.signalIsActivated()?16:-1))},dependencies:[Ss,ge],styles:['.game-score-table-container[_ngcontent-%COMP%]{margin-top:40px}.game-score-table-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:15% 48% 17% 20%;grid-template-rows:auto;grid-template-areas:"col1 col2 col3 col4"}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]{background-color:#ffffff17;display:grid;grid-template-columns:15% 55% 15% 15%;grid-template-rows:auto;grid-template-areas:"header header header header" "main main main main" "footer footer footer footer";font-size:.9em;overflow:hidden;border-style:solid;border-width:0;border-radius:0}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]   .t-col[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]   .t-col[_ngcontent-%COMP%]:last-child{padding-right:16px;justify-content:flex-end}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]{grid-area:col1}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]{grid-area:col2}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]   .col3[_ngcontent-%COMP%]{grid-area:col3;white-space:nowrap}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]   .col4[_ngcontent-%COMP%]{grid-area:col4}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;font-weight:700}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .t-col[_ngcontent-%COMP%]{padding:0 5px}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{grid-area:main;height:870px;overflow:auto}.game-score-table-container[_ngcontent-%COMP%]   .game-score-table[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .t-row[_ngcontent-%COMP%]:nth-child(odd){--table-row-odd-bg: #ffffff1a;background-color:var(--table-row-odd-bg, rgba(255, 255, 255, .1019607843))}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]{background-color:#5e5e5e;border-style:solid;border-width:0;border-radius:0;overflow:hidden;margin-top:70px}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]   .t-col[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]   .t-col[_ngcontent-%COMP%]:last-child{padding-right:16px;justify-content:flex-end}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]   .col1[_ngcontent-%COMP%]{grid-area:col1}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]   .col2[_ngcontent-%COMP%]{grid-area:col2}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]   .col3[_ngcontent-%COMP%]{grid-area:col3;white-space:nowrap}.game-score-table-container[_ngcontent-%COMP%]   .user-score-container[_ngcontent-%COMP%]   .col4[_ngcontent-%COMP%]{grid-area:col4}.game-score-table-container[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:2.5em;border-style:solid;border-width:0;border-radius:0;background-size:100% 100%;background-attachment:fixed;background-image:linear-gradient(329deg,#71afa540 3%,#00897e80 58%,#71afa540 68%,#00917e1a 98%);animation:_ngcontent-%COMP%_rankScroll 2s infinite linear}@keyframes _ngcontent-%COMP%_rankScroll{0%{background-position-y:0}to{background-position-y:65px}}.game-score-table-container[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:12.5em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.game-score-table-container[_ngcontent-%COMP%]   .correct-rate[_ngcontent-%COMP%]{margin-left:-40px}.game-score-table-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.game-score-table-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .score-image[_ngcontent-%COMP%]{width:60px;height:60px;background-repeat:no-repeat;background-size:contain;background-position:center}.game-score-table-container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{height:9px;width:60px;--loader-color: #000;--c: no-repeat linear-gradient(var(--loader-color) 0%, var(--loader-color) 100%);background:var(--c),var(--c),var(--c),var(--c);background-size:26% 3px;animation:_ngcontent-%COMP%_l3 1s infinite}@keyframes _ngcontent-%COMP%_l3{0%,10%{background-position:0% 100%,33.3333333333% 100%,66.6666666667% 100%,100% 100%}17.5%{background-position:0% 0,33.3333333333% 100%,66.6666666667% 100%,100% 100%}25%{background-position:0% 0,33.3333333333% 0,66.6666666667% 100%,100% 100%}32.5%{background-position:0% 0,33.3333333333% 0,66.6666666667% 0,100% 100%}40%,60%{background-position:0% 0,33.3333333333% 0,66.6666666667% 0,100% 0}67.5%{background-position:0% 100%,33.3333333333% 0,66.6666666667% 0,100% 0}75%{background-position:0% 100%,33.3333333333% 100%,66.6666666667% 0,100% 0}82.5%{background-position:0% 100%,33.3333333333% 100%,66.6666666667% 100%,100% 0}90%,to{background-position:0% 100%,33.3333333333% 100%,66.6666666667% 100%,100% 100%}}'],changeDetection:0})}};mm=Kt([nn()],mm);var jU=["buttonSoundOnOffComponent"],WU=["buttonFullscreenComponent"],QU=(n,t)=>t.url;function YU(n,t){n&1&&D(0,"div",15)}function XU(n,t){if(n&1){let e=ne();C(0,"app-base-button",13),N("clickButton",function(){let o=O(e).$implicit,r=y();return R(r.onClickTimespan(o.url))}),D(1,"span",14),v(),P(2,YU,1,0,"div",15)}if(n&2){let e=t.$implicit,i=t.$index,o=y();I("configBtn",o.gameService.signalGameConfig()?o.gameService.signalGameConfig().screenHighscore.btnFilter:null)("backgroundImageUrl",o.initService.signalBtnBackgroundImageUrl())("btnContentWidth","120px")("btnContentHeight","120px")("btnContentPadding",15-(o.gameService.signalGameConfig()?o.gameService.signalGameConfig().screenHighscore.btnFilter.border*.5:0)+"px")("btnContentFontSize","1em"),f(),x("background-color",o.gameService.signalGameConfig()?o.gameService.signalGameConfig().screenHighscore.btnFilter.fontColor:null)("border-radius",o.gameService.signalGameConfig()?o.gameService.signalGameConfig().screenHighscore.btnFilter.radius:null,"px")("mask-image",e.image),f(),k(i<o.timespanList.length-1?2:-1)}}var xl=class S_{constructor(){this.initService=p(de),this.gameService=p(ye),this.userGameService=p(zt),this.gameScoreBackendService=p(Bh),this.gameScoreService=p(Eo),this.soundService=p(Ce),this.imageLoadService=p(we),this.router=p(Cn),this.activatedRoute=p(Co),this.timespanList=[{url:G.highScoreWeekly,localizationKey:"highscore.weekly",imageKey:"highscoreWeekly",image:void 0},{url:G.highScoreMonthly,localizationKey:"highscore.monthly",imageKey:"highscoreMonthly",image:void 0},{url:G.highScore,localizationKey:"highscore.all-time",imageKey:"highscoreAllTime",image:void 0}],this.currentTimespan="all-time",this.backgroundSoundTimeoutSubscription=null,this.addImageSubscription=null,this.AppConfig=g,this.SoundNameEnum=V,this.document=document}ngOnInit(){if(this.initService.isScormPackage||this.gameService.signalGameConfig()&&!this.gameService.signalGameConfig().includesHighscore){this.initService.navigateToRoute(G.base).then();return}let t=this.activatedRoute.snapshot.routeConfig?.path,e=$s.allTime;t&&t!==G.highScore&&(e=t.substring(11)),e===$s.allTime?this.currentTimespan="all-time":this.currentTimespan=e,this.gameScoreBackendService.getHighScore(e).pipe(yo(this)).subscribe({next:i=>{i&&this.gameScoreService.setScores(i)},error:i=>{console.error(i)}}),this.addImageSubscription=this.imageLoadService.addImageEmitter.subscribe(i=>{(i==="btnSoundOn"||i==="btnSoundOff"||i==="btnFullscreenOn"||i==="btnFullscreenOff"||this.isHighscoreImage(i))&&this.getImages()})}isHighscoreImage(t){for(let e of this.timespanList)if(t===e.imageKey)return!0;return!1}ngAfterViewInit(){this.initService.isScormPackage||this.gameService.signalGameConfig()&&!this.gameService.signalGameConfig().includesHighscore||this.getImages()}ngOnDestroy(){this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.addImageSubscription&&(this.addImageSubscription.unsubscribe(),this.addImageSubscription=null)}onClickTimespan(t){this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(t).then()}onClickClose(){this.soundService.playSound(V.click,!0),this.initService.navigateToRoute(this.gameService.highscorePageBackRoute).then()}getImages(){let t=this.imageLoadService.getImage("btnSoundOn"),e=this.imageLoadService.getImage("btnSoundOff"),i=this.imageLoadService.getImage("btnFullscreenOn"),o=this.imageLoadService.getImage("btnFullscreenOff");t&&e&&i&&o&&(this.buttonFullscreenComponent.initImages(i.src,o.src),this.buttonSoundOnOffComponent.initImages(t.src,e.src));let r;for(let s of this.timespanList)r=this.imageLoadService.getImage(s.imageKey),r&&(s.image=`url('${r.src}')`)}static{this.\u0275fac=function(e){return new(e||S_)}}static{this.\u0275cmp=W({type:S_,selectors:[["app-game-high-score-page"]],viewQuery:function(e,i){if(e&1&&(ie(jU,5),ie(WU,5)),e&2){let o;ee(o=te())&&(i.buttonSoundOnOffComponent=o.first),ee(o=te())&&(i.buttonFullscreenComponent=o.first)}},standalone:!1,decls:22,vars:71,consts:[["buttonSoundOnOffComponent",""],["buttonFullscreenComponent",""],[1,"content"],[1,"content-container"],[1,"empty-line"],[1,"title"],[1,"timespan-container"],[1,"current-timespan"],[3,"isLoading","colorFont","colorFontHeader","colorBackground","colorBackgroundRowOdd","borderRadius","border","borderColor","fontColorRank","rankColorBackground1","rankColorBackground2","rankColorBackground3","rankColorBackground4","rankAniDuration","rankBorderRadius","rankBorder","rankBorderColor","userRowColorFont","userRowColorBackground","userRowBorderRadius","userRowBorder","userRowBorderColor","userRankColorFont","userRankColorBackground1","userRankColorBackground2","userRankColorBackground3","userRankColorBackground4","userRankAniDuration","userRankBorderRadius","userRankBorder","userRankBorderColor"],[1,"button-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentPadding"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled","right"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentHeight","btnContentPadding","btnContentFontSize"],[1,"img-icon"],[1,"empty-col"]],template:function(e,i){if(e&1){let o=ne();C(0,"div",2)(1,"div",3),D(2,"div",4),C(3,"h5",5),M(4),E(5,"nativeTranslate"),v(),C(6,"div",6),ct(7,XU,3,13,null,null,QU),v(),C(9,"div",7),M(10),E(11,"nativeTranslate"),v(),D(12,"app-game-score-table",8),E(13,"async"),C(14,"div",9)(15,"app-base-button",10),N("clickButton",function(){return O(o),R(i.onClickClose())}),M(16),E(17,"nativeTranslate"),v()()(),C(18,"app-button-sound-on-off",11,0),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),C(20,"app-button-fullscreen",12,1),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v()()}if(e&2){let o,r,s,a,l,c;f(3),x("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.titleFontColor:void 0)("text-align",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.titleAlignment:void 0),f(),ae(A(5,63,"high-score")),f(2),x("text-align",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.titleAlignment:void 0),f(),ut(i.timespanList),f(2),x("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.curFilterFontColor:void 0)("text-align",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.titleAlignment:void 0),f(),z("",A(11,65,"highscore."+i.currentTimespan)," "),f(2),I("isLoading",!!A(13,67,i.gameScoreBackendService.isLoading$))("colorFont",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.tableFontColor:i.AppConfig.quizGameDefaultFontColorMain)("colorFontHeader",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.fCTitleHead:i.AppConfig.quizGameDefaultFontColorMain)("colorBackground",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.tableColorBg:i.AppConfig.quizGameDefaultTableBackgroundColor)("colorBackgroundRowOdd",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.tableColorBgRowOdd:i.AppConfig.quizGameDefaultTableBackgroundRowOddColor)("borderRadius",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.tableRadius:i.AppConfig.quizGameDefaultTableRadiusPx)("border",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.tableBorder:i.AppConfig.quizGameDefaultTableBorderPx)("borderColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.tableBorderColor:i.AppConfig.quizGameDefaultTableBorderColor)("fontColorRank",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.fontColorRank:i.AppConfig.quizGameDefaultTableRankFontColor)("rankColorBackground1",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankColorBackground1:i.AppConfig.quizGameDefaultTableRankBackgroundColor1)("rankColorBackground2",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankColorBackground2:i.AppConfig.quizGameDefaultTableRankBackgroundColor2)("rankColorBackground3",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankColorBackground3:i.AppConfig.quizGameDefaultTableRankBackgroundColor3)("rankColorBackground4",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankColorBackground4:i.AppConfig.quizGameDefaultTableRankBackgroundColor4)("rankAniDuration",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankAniDuration:i.AppConfig.quizGameDefaultTableRankAniDuration)("rankBorderRadius",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankRadius:i.AppConfig.quizGameDefaultTableRankRadiusPx)("rankBorder",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankBorder:i.AppConfig.quizGameDefaultTableRankBorderPx)("rankBorderColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.rankBorderColor:i.AppConfig.quizGameDefaultTableRankBorderColor)("userRowColorFont",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRow.fontColor:i.AppConfig.quizGameDefaultFontColorMain)("userRowColorBackground",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRow.colorBg:i.AppConfig.quizGameDefaultTableBackgroundColor)("userRowBorderRadius",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRow.radius:i.AppConfig.quizGameDefaultTableRadiusPx)("userRowBorder",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRow.border:i.AppConfig.quizGameDefaultTableBorderPx)("userRowBorderColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRow.borderColor:i.AppConfig.quizGameDefaultTableBorderColor)("userRankColorFont",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowFontColorRank:i.AppConfig.quizGameDefaultTableRankFontColor)("userRankColorBackground1",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankColorBackground1:i.AppConfig.quizGameDefaultTableRankBackgroundColor1)("userRankColorBackground2",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankColorBackground2:i.AppConfig.quizGameDefaultTableRankBackgroundColor2)("userRankColorBackground3",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankColorBackground3:i.AppConfig.quizGameDefaultTableRankBackgroundColor3)("userRankColorBackground4",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankColorBackground4:i.AppConfig.quizGameDefaultTableRankBackgroundColor4)("userRankAniDuration",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankAniDuration:i.AppConfig.quizGameDefaultTableRankAniDuration)("userRankBorderRadius",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankRadius:i.AppConfig.quizGameDefaultTableRankRadiusPx)("userRankBorder",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankBorder:i.AppConfig.quizGameDefaultTableRankBorderPx)("userRankBorderColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.userRowRankBorderColor:i.AppConfig.quizGameDefaultTableRankBorderColor),f(3),I("configBtn",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.btnClose:null)("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnContentWidth","400px")("btnContentPadding","30px 10px"),f(),z("",A(17,69,"close")," "),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.btnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.btnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(o=i.gameService.signalGameConfig())==null?null:o.screenHighscore.btnIcon.radius)("borderWidthPx",(r=i.gameService.signalGameConfig())==null?null:r.screenHighscore.btnIcon.border)("borderColor",(s=i.gameService.signalGameConfig())==null?null:s.screenHighscore.btnIcon.borderColor)("disabled",!1)("right",i.document.fullscreenEnabled?"115px":"20px"),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.btnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenHighscore.btnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(a=i.gameService.signalGameConfig())==null?null:a.screenHighscore.btnIcon.radius)("borderWidthPx",(l=i.gameService.signalGameConfig())==null?null:l.screenHighscore.btnIcon.border)("borderColor",(c=i.gameService.signalGameConfig())==null?null:c.screenHighscore.btnIcon.borderColor)("disabled",!1)}},dependencies:[mm,xo,To,Ee,ji,ge],styles:[".title[_ngcontent-%COMP%]{margin-bottom:80px}.timespan-container[_ngcontent-%COMP%]{width:100%;padding-left:4px;margin-bottom:10px}.timespan-container[_ngcontent-%COMP%]   .empty-col[_ngcontent-%COMP%]{display:inline-block;width:55px}.timespan-container[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;-webkit-mask-image:none;mask-image:none;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;background-color:#fff}.button-container[_ngcontent-%COMP%]{width:100%;margin-top:60px;display:flex;flex-direction:column;align-items:center;justify-content:center}"]})}};xl=Kt([nn()],xl);var pm=(()=>{class n extends pt{constructor(){super(),this.initService=p(de)}generateToken(e){return ue(this,null,function*(){let o=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")})}getCRMValuesSaveToken(e){let i={};this.initService.qz&&(i.qz=this.initService.qz);let o=JSON.stringify(e)+"|}-9#cv.";return Ke(this.generateToken(o)).pipe(Lt(r=>{i.crm=e,i.token=r;let s=pt.getBaseApiUrl()+"api/user-crm/get-save-token",a=new tn(s,dt.post,null,null,null,i);return this.doHttpRequest(a,l=>{let c=l.body;return{timestamp:c.timestamp??null,token:c.token??null}},l=>this.onLoadError(l))}))}save(e,i,o){let r={timestamp:e,token:i,crm:o};this.initService.qz&&(r.qz=this.initService.qz);let s=pt.getBaseApiUrl()+"api/user-crm/create",a=new tn(s,dt.post,null,null,null,r);return this.doHttpRequest(a,l=>l.body.done===!0&&l.body.highScore?l.body:null,l=>this.onLoadError(l))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Tl=class{static validatorEmail(t){let e=/^(([^<>()\[\].,;:\s@"]+(\.[^<>()\[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i,i=new RegExp(e);return t.value===null||t.value?.length===0||i.test(t.value)?null:{validEmail:!1}}static validatorPassword(t){let e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!"$%&/(){}|=?'#*+^\\~;,:@._-]{8,}$/;return new RegExp(e).test(t.value)?null:{validPassword:!1}}static validatorDate(t){let e=/^\d{4}[-]\d{2}[-]\d{2}$/;return new RegExp(e).test(t.value)?null:{validDate:!1}}static validatorTime(t){let e=/^\d{2}[:]\d{2}$/;return new RegExp(e).test(t.value)?null:{validTime:!1}}static validatorDateAtLeastXYearsOld(t=16){return e=>{let i={validDateX:!1},o=/^\d{4}[./-]\d{2}[./-]\d{2}$/;if(new RegExp(o).test(e.value)){let s=new Date;s.setHours(0,0,0,0),s.setFullYear(s.getFullYear()-t);let a=new Date(e.value);return a.setHours(0,0,0,0),a.getTime()<=s.getTime()?null:i}return i}}static asyncValidatorDoesUsernameExist(t,e="",i=null){return function(o){return ca(500).pipe(Lt(()=>o.value===e?_e(null):t.doesUsernameExists(o.value,i).pipe(Te(function(r){return r?{uniqueUsername:!1}:null}))))}}static asyncValidatorDoesEmailExist(t,e="",i=null){return function(o){return ca(500).pipe(Lt(()=>o.value===e?_e(null):t.doesEmailExists(o.value,i).pipe(Te(function(r){return r?{uniqueEmail:!1}:null}))))}}};var Cm=class{constructor(t,e,i,o,r,s){this.firstName=t,this.lastName=e,this.birthdate=i,this.organisation=o,this.email=r,this.message=s}};var Dl=n=>({"is-invalid":n});function KU(n,t){if(n&1&&(D(0,"div",5),E(1,"async")),n&2){let e=y(2);I("innerHTML",A(1,1,e.userCrmService.error$),Le)}}function ZU(n,t){n&1&&(M(0),E(1,"nativeTranslate")),n&2&&z(" ",A(1,1,"warning.is-required")," ")}function JU(n,t){if(n&1&&(C(0,"div",15),P(1,ZU,2,3),v()),n&2){let e=y(3);f(),k(e.f.firstName.errors.required||e.f.firstName.errors.minlength?1:-1)}}function e5(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"label",13),M(2),E(3,"nativeTranslate"),v(),C(4,"input",14),N("input",function(){O(e);let o=y(2);return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y(2);return R(r.onFocusIn(o,"text",20))}),v(),P(5,JU,2,1,"div",15),v()}if(n&2){let e=y(2);f(),I("for","firstName"+e.uid),f(),z("",A(3,6,"user.first-name"),"*"),f(2),I("id","firstName"+e.uid)("maxlength",e.maxLengthFirstName)("ngClass",ot(8,Dl,e.isFormSubmitted&&e.f.firstName.errors)),f(),k(e.isFormSubmitted&&e.f.firstName.errors?5:-1)}}function t5(n,t){n&1&&(M(0),E(1,"nativeTranslate")),n&2&&z(" ",A(1,1,"warning.is-required")," ")}function n5(n,t){if(n&1&&(C(0,"div",15),P(1,t5,2,3),v()),n&2){let e=y(3);f(),k(e.f.lastName.errors.required||e.f.lastName.errors.minlength?1:-1)}}function i5(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"label",16),M(2),E(3,"nativeTranslate"),v(),C(4,"input",17),N("input",function(){O(e);let o=y(2);return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y(2);return R(r.onFocusIn(o,"text",20))}),v(),P(5,n5,2,1,"div",15),v()}if(n&2){let e=y(2);f(),I("for","lastName"+e.uid),f(),z("",A(3,6,"user.last-name"),"*"),f(2),I("id","lastName"+e.uid)("maxlength",e.maxLengthLastName)("ngClass",ot(8,Dl,e.isFormSubmitted&&e.f.lastName.errors)),f(),k(e.isFormSubmitted&&e.f.lastName.errors?5:-1)}}function o5(n,t){n&1&&(M(0),E(1,"nativeTranslate")),n&2&&z(" ",A(1,1,"warning.is-required")," ")}function r5(n,t){if(n&1&&(C(0,"div",15),P(1,o5,2,3),v()),n&2){let e=y(3);f(),k(e.f.birthdate.errors.required?1:-1)}}function s5(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"label",18),M(2),E(3,"nativeTranslate"),v(),C(4,"input",19),N("input",function(){O(e);let o=y(2);return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y(2);return R(r.onFocusIn(o,"text",20))}),v(),P(5,r5,2,1,"div",15),v()}if(n&2){let e=y(2);f(),I("for","birthdate"+e.uid),f(),z("",A(3,5,"user.birthdate"),"*"),f(2),I("id","birthdate"+e.uid)("ngClass",ot(7,Dl,e.isFormSubmitted&&e.f.birthdate.errors)),f(),k(e.isFormSubmitted&&e.f.birthdate.errors?5:-1)}}function a5(n,t){n&1&&(M(0),E(1,"nativeTranslate")),n&2&&z(" ",A(1,1,"warning.is-required")," ")}function l5(n,t){if(n&1&&(C(0,"div",15),P(1,a5,2,3),v()),n&2){let e=y(3);f(),k(e.f.organisation.errors.required||e.f.organisation.errors.minlength?1:-1)}}function c5(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"label",20),M(2),E(3,"nativeTranslate"),v(),C(4,"input",21),N("input",function(){O(e);let o=y(2);return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y(2);return R(r.onFocusIn(o,"text",20))}),v(),P(5,l5,2,1,"div",15),v()}if(n&2){let e=y(2);f(),I("for","organisation"+e.uid),f(),z("",A(3,6,"user.organisation-company")," *"),f(2),I("id","organisation"+e.uid)("maxlength",e.maxLengthOrganisation)("ngClass",ot(8,Dl,e.isFormSubmitted&&e.f.organisation.errors)),f(),k(e.isFormSubmitted&&e.f.organisation.errors?5:-1)}}function u5(n,t){n&1&&(M(0),E(1,"nativeTranslate")),n&2&&z(" ",A(1,1,"warning.is-required")," ")}function d5(n,t){if(n&1&&(C(0,"div",15),P(1,u5,2,3),v()),n&2){let e=y(3);f(),k(e.f.email.errors.required||e.f.email.errors.minlength?1:-1)}}function f5(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"label",22),M(2),E(3,"nativeTranslate"),v(),C(4,"input",23),N("input",function(){O(e);let o=y(2);return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y(2);return R(r.onFocusIn(o,"text",20))}),v(),P(5,d5,2,1,"div",15),v()}if(n&2){let e=y(2);f(),I("for","email"+e.uid),f(),z("",A(3,6,"user.email"),"*"),f(2),I("id","email"+e.uid)("maxlength",e.maxLengthEmail)("ngClass",ot(8,Dl,e.isFormSubmitted&&e.f.email.errors)),f(),k(e.isFormSubmitted&&e.f.email.errors?5:-1)}}function g5(n,t){n&1&&(C(0,"div"),M(1),E(2,"nativeTranslate"),v()),n&2&&(f(),ae(A(2,1,"warning.is-required")))}function h5(n,t){if(n&1&&(C(0,"div",15),P(1,g5,3,3,"div"),v()),n&2){let e=y(3);f(),k(e.f.message.errors.required?1:-1)}}function m5(n,t){if(n&1){let e=ne();C(0,"div",6)(1,"label",24),M(2),E(3,"nativeTranslate"),v(),C(4,"textarea",25),N("input",function(){O(e);let o=y(2);return R(o.onChangeFormInput())})("focusin",function(o){O(e);let r=y(2);return R(r.onFocusIn(o,"text",400))}),v(),P(5,h5,2,1,"div",15),v()}if(n&2){let e=y(2);f(),I("for","message"+e.uid),f(),ae(A(3,6,"user.message")),f(2),I("id","message"+e.uid)("maxlength",e.maxLengthMessage)("ngClass",ot(8,Dl,e.isFormSubmitted&&e.f.message.errors)),f(),k(e.isFormSubmitted&&e.f.message.errors?5:-1)}}function p5(n,t){n&1&&(C(0,"div",7),M(1),E(2,"nativeTranslate"),v()),n&2&&(f(),z("* ",A(2,1,"warning.is-required")))}function C5(n,t){n&1&&D(0,"span",11)}function v5(n,t){n&1&&D(0,"span",11)}function y5(n,t){if(n&1){let e=ne();C(0,"form",2),N("ngSubmit",function(){O(e);let o=y();return R(o.onSubmitForm())}),C(1,"div",3)(2,"div",4),P(3,KU,2,3,"div",5),E(4,"async"),P(5,e5,6,10,"div",6),P(6,i5,6,10,"div",6),P(7,s5,6,9,"div",6),P(8,c5,6,10,"div",6),P(9,f5,6,10,"div",6),P(10,m5,6,10,"div",6),P(11,p5,3,3,"div",7),v()(),D(12,"div",8),C(13,"div",9)(14,"app-base-button",10),E(15,"async"),N("clickButton",function(){O(e);let o=y();return R(o.onClickCancel())}),P(16,C5,1,0,"span",11),E(17,"async"),M(18),E(19,"nativeTranslate"),v(),D(20,"div",8),C(21,"app-base-button",12),E(22,"async"),P(23,v5,1,0,"span",11),E(24,"async"),M(25),E(26,"nativeTranslate"),v()()()}if(n&2){let e,i,o,r,s,a,l,c,u,d=y();I("formGroup",d.formGroup),f(3),k(A(4,26,d.userCrmService.error$)&&d.isFormSubmitted?3:-1),f(2),k(!((e=d.gameService.signalGameConfig())==null||e.quizConfigCrm==null)&&e.quizConfigCrm.isFirstNameEnabled?5:-1),f(),k(!((i=d.gameService.signalGameConfig())==null||i.quizConfigCrm==null)&&i.quizConfigCrm.isLastNameEnabled?6:-1),f(),k(!((o=d.gameService.signalGameConfig())==null||o.quizConfigCrm==null)&&o.quizConfigCrm.isBirthdateEnabled?7:-1),f(),k(!((r=d.gameService.signalGameConfig())==null||r.quizConfigCrm==null)&&r.quizConfigCrm.isOrganisationEnabled?8:-1),f(),k(!((s=d.gameService.signalGameConfig())==null||s.quizConfigCrm==null)&&s.quizConfigCrm.isEmailEnabled?9:-1),f(),k(!((a=d.gameService.signalGameConfig())==null||a.quizConfigCrm==null)&&a.quizConfigCrm.isMessageEnabled?10:-1),f(),k(!((l=d.gameService.signalGameConfig())==null||l.quizConfigCrm==null)&&l.quizConfigCrm.isFirstNameEnabled||!((l=d.gameService.signalGameConfig())==null||l.quizConfigCrm==null)&&l.quizConfigCrm.isLastNameEnabled||!((l=d.gameService.signalGameConfig())==null||l.quizConfigCrm==null)&&l.quizConfigCrm.isBirthdateEnabled||!((l=d.gameService.signalGameConfig())==null||l.quizConfigCrm==null)&&l.quizConfigCrm.isOrganisationEnabled||!((l=d.gameService.signalGameConfig())==null||l.quizConfigCrm==null)&&l.quizConfigCrm.isEmailEnabled?11:-1),f(3),I("configBtn",((c=d.gameService.signalGameConfig())==null?null:c.defaultBtn)??null)("backgroundImageUrl",d.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentWidth","100%")("btnContentPadding","15px 10px")("btnDisabled",A(15,28,d.userCrmService.isLoading$)||!1),f(2),k(A(17,30,d.userCrmService.isLoading$)?16:-1),f(2),z(" ",A(19,32,"cancel")," "),f(3),I("configBtn",((u=d.gameService.signalGameConfig())==null?null:u.defaultBtn)??null)("btnType","submit")("backgroundImageUrl",d.initService.signalBtnBackgroundImageUrl())("btnWidth","100%")("btnContentWidth","100%")("btnContentPadding","15px 10px")("btnDisabled",A(22,34,d.userCrmService.isLoading$)||!1),f(2),k(A(24,36,d.userCrmService.isLoading$)?23:-1),f(2),z(" ",A(26,38,"continue")," ")}}var XI=(()=>{class n{constructor(){this.userCrmService=p(pm),this.initService=p(de),this.gameService=p(ye),this.soundService=p(Ce),this.editValue=null,this.cancelForm=new Z,this.submitForm=new Z,this.focusElement=null,this.focusInputMode=null,this.focusElementMaxLength=0,this.uid=Xi.getRandomString(5),this.isFormChanged=!1,this.isFormSubmitted=!1,this.formModels=[],this.maxLengthFirstName=20,this.maxLengthLastName=20,this.maxLengthOrganisation=20,this.maxLengthEmail=40,this.maxLengthMessage=400}get f(){return this.formGroup?this.formGroup.controls:{}}ngOnInit(){this.formModels=zr.getFilledUpFormModels(this.formModels);let e=this.getControlsConfig();this.formGroup=new Sl(e),this.resetForm()}ngAfterViewInit(){K.setTimeout(()=>{this.resetForm(),this.updateEditForm()})}ngOnChanges(e){"editValue"in e&&(this.resetForm(),this.updateEditForm())}onFocusIn(e,i,o){e.stopImmediatePropagation(),this.initService.signalAppConfig().windowsOnScreenKeyboard||(this.focusElement=e.target,this.focusInputMode=i,this.focusElementMaxLength=o)}onBlurElement(){this.focusElement&&(this.focusElement=null,this.focusInputMode=null,this.focusElementMaxLength=0)}onChangeFormInput(){this.isFormChanged=!0,this.f.firstName?.patchValue(e(this.f.firstName.value,this.maxLengthFirstName)),this.f.lastName?.patchValue(e(this.f.lastName.value,this.maxLengthLastName)),this.f.organisation?.patchValue(e(this.f.organisation.value,this.maxLengthOrganisation)),this.f.message?.patchValue(e(this.f.message.value,this.maxLengthMessage));function e(i,o){if(!i)return"";if(i.length>o)return i.slice(0,o);let r=/[^\w\s!$%&=?.\-_+#*~^]+/g;return i=i.replace(r,""),i}}getControlsConfig(){let e={};return this.gameService.signalGameConfig()?.quizConfigCrm?.isFirstNameEnabled&&(e.firstName=new Ci("",[yt.required,yt.minLength(2),yt.maxLength(this.maxLengthFirstName)])),this.gameService.signalGameConfig()?.quizConfigCrm?.isLastNameEnabled&&(e.lastName=new Ci("",[yt.required,yt.minLength(2),yt.maxLength(this.maxLengthLastName)])),this.gameService.signalGameConfig()?.quizConfigCrm?.isBirthdateEnabled&&(e.birthdate=new Ci("",[yt.required,Tl.validatorDate,Tl.validatorDateAtLeastXYearsOld(18)])),this.gameService.signalGameConfig()?.quizConfigCrm?.isOrganisationEnabled&&(e.organisation=new Ci("",[yt.required,yt.minLength(2),yt.maxLength(this.maxLengthOrganisation)])),this.gameService.signalGameConfig()?.quizConfigCrm?.isEmailEnabled&&(e.email=new Ci("",[yt.required,yt.minLength(2),yt.maxLength(this.maxLengthEmail),Tl.validatorEmail])),this.gameService.signalGameConfig()?.quizConfigCrm?.isMessageEnabled&&(e.message=new Ci("",[yt.maxLength(this.maxLengthMessage)])),e=Object.assign(e,zr.getControlsConfig(this.formModels)),e}onSubmitForm(){if(this.isFormSubmitted=!0,this.soundService.playSound(V.click,!0),this.formGroup.invalid)return;let e=this.f.firstName?.value?.length>0?this.f.firstName.value.trim():null,i=this.f.lastName?.value?.length>0?this.f.lastName.value.trim():null,o=this.f.birthdate?.value?.length>0?this.f.birthdate.value.trim():null,r=this.f.organisation?.value?.length>0?this.f.organisation.value.trim():null,s=this.f.email?.value?.length>0?this.f.email.value.trim():null,a=this.f.message?.value?.length>0?this.f.message.value.trim():null,l=new Cm(e,i,o,r,s,a);this.submitForm.next(l)}onClickCancel(){this.resetForm(),this.soundService.playSound(V.click,!0),this.cancelForm.emit(!1)}resetForm(){this.isFormSubmitted=!1,this.formGroup&&this.formGroup.reset()}updateEditForm(){this.editValue&&(this.f.firstName?.patchValue(this.editValue.firstName),this.f.lastName?.patchValue(this.editValue.lastName),this.f.birthdate?.patchValue(this.editValue.birthdate),this.f.organisation?.patchValue(this.editValue.organisation),this.f.email?.patchValue(this.editValue.email),this.f.message?.patchValue(this.editValue.message),this.onChangeFormInput())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-user-crm-form"]],inputs:{editValue:"editValue"},outputs:{cancelForm:"cancelForm",submitForm:"submitForm"},standalone:!1,features:[Pe],decls:2,vars:1,consts:[[1,"user-crm-form"],["enctype","multipart/form-data",3,"formGroup"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,""],[1,"form-content","mx-auto"],[1,"alert","alert-danger",3,"innerHTML"],[1,"form-group"],[1,"text-end","mt-3"],[1,"empty-line"],[1,"button-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnWidth","btnContentWidth","btnContentPadding","btnDisabled"],[1,"spinner-border","spinner-border-sm","me-1"],[3,"configBtn","btnType","backgroundImageUrl","btnWidth","btnContentWidth","btnContentPadding","btnDisabled"],["for","firstName",3,"for"],["id","firstName","type","text","inputmode","none","formControlName","firstName","placeholder","","minlength","2","autocomplete","off",1,"form-control",3,"input","focusin","id","maxlength","ngClass"],[1,"invalid-feedback"],["for","lastName",3,"for"],["id","lastName","type","text","inputmode","none","formControlName","lastName","placeholder","","minlength","2","autocomplete","off",1,"form-control",3,"input","focusin","id","maxlength","ngClass"],["for","birthdate",3,"for"],["id","birthdate","type","date","inputmode","none","formControlName","birthdate","placeholder","","autocomplete","off",1,"form-control",3,"input","focusin","id","ngClass"],["for","organisation",3,"for"],["id","organisation","type","text","inputmode","none","formControlName","organisation","placeholder","","minlength","2","autocomplete","off",1,"form-control",3,"input","focusin","id","maxlength","ngClass"],["for","email",3,"for"],["id","email","type","email","inputmode","none","formControlName","email","placeholder","","minlength","2","autocomplete","off",1,"form-control",3,"input","focusin","id","maxlength","ngClass"],["for","message",3,"for"],["id","message","formControlName","message","placeholder","",1,"form-control",3,"input","focusin","id","maxlength","ngClass"]],template:function(i,o){i&1&&(C(0,"div",0),P(1,y5,27,40,"form",1),v()),i&2&&(f(),k(o.formGroup?1:-1))},dependencies:[si,Jh,Vr,wl,Yh,Eu,Pu,Iu,Du,Ee,ji,ge],styles:[".form-control[_ngcontent-%COMP%]{font-size:48px;border-radius:0}.invalid-feedback[_ngcontent-%COMP%]{color:#ffbcc2}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:100%}.button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#d4d4d442;background-repeat:no-repeat;background-position:center;background-size:cover;margin-bottom:20px}.button-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{color:#ffffff5c}"]})}}return n})();var b5=["buttonSoundOnOffComponent"],S5=["buttonFullscreenComponent"],w5=(n,t)=>({current:n,max:t});function M5(n,t){if(n&1){let e=ne();C(0,"div",9),it("fade-in-800ms"),C(1,"app-base-button",17),N("clickButton",function(){O(e);let o=y();return R(o.onClickLegalText("crm-info"))}),M(2),E(3,"nativeTranslate"),v()()}if(n&2){let e,i=y();f(),I("configBtn",((e=i.gameService.signalGameConfig())==null?null:e.defaultBtn)??null)("backgroundImageUrl",i.initService.signalBtnBackgroundImageUrl())("btnContentWidth","670px")("btnContentPadding","30px 10px"),f(),z("",A(3,5,"what-this-data-is-for")," ")}}function x5(n,t){if(n&1){let e=ne();C(0,"button",18),N("click",function(){O(e);let o=y();return R(o.onClickLegalText("imprint"))}),M(1),E(2,"nativeTranslate"),v()}if(n&2){let e,i=y();x("color",(e=i.gameService.signalGameConfig())==null?null:e.fontColorLink),f(),z("",A(2,3,"imprint")," ")}}function T5(n,t){if(n&1){let e=ne();C(0,"button",18),N("click",function(){O(e);let o=y();return R(o.onClickLegalText("privacy-policy"))}),M(1),E(2,"nativeTranslate"),v()}if(n&2){let e,i=y();x("color",(e=i.gameService.signalGameConfig())==null?null:e.fontColorLink),f(),z("",A(2,3,"privacy-policy")," ")}}function D5(n,t){if(n&1){let e=ne();C(0,"div",16),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-legal",19),N("cancelDialog",function(o){O(e);let r=y();return R(r.onClickCloseLegal(o))}),v()()}if(n&2){let e=y();f(),I("type",e.legalTextDialogType())}}function I5(n,t){if(n&1){let e=ne();C(0,"div",16),Vt("dialog-leave"),it("dialog-enter"),C(1,"app-dialog-confirm",20),N("cancelDialog",function(o){O(e);let r=y();return R(r.onClickNoHighscoreSaving(o))}),v()()}n&2&&(f(),I("titleKey","cancel")("contentKey","modal-dialog.discard-high-score")("isJsonContent",!1)("hasSafetyCheck",!1))}var vm=class w_{constructor(){this.initService=p(de),this.swipeYesNoService=p(Qn),this.gameService=p(ye),this.userCrmService=p(pm),this.userGameService=p(zt),this.soundService=p(Ce),this.toastService=p(Ki),this.imageLoadService=p(we),this.legalTextDialogType=w(null),this.isShowingConfirmCancelDialog=w(!1),this.signalIsNoScreenOverflow=w(!1),this.backgroundSoundTimeoutSubscription=null,this.addImageSubscription=null,this.AppConfig=g,this.SoundNameEnum=V,this.document=document}ngOnInit(){if(!this.gameService.signalGameConfig()?.quizConfigCrm||!this.gameService.signalGameConfig()?.quizConfigCrm?.isEnabled){this.initService.navigateToRoute(G.endGame).then();return}this.backgroundSoundTimeoutSubscription=K.setTimeout(()=>{this.backgroundSoundTimeoutSubscription=null,this.soundService.playBackgroundSound(V.endGameMusic)},500),this.addImageSubscription=this.imageLoadService.addImageEmitter.subscribe(t=>{(t==="btnSoundOn"||t==="btnSoundOff"||t==="btnFullscreenOn"||t==="btnFullscreenOff")&&this.getImages()})}ngAfterViewInit(){this.getImages()}ngOnDestroy(){this.backgroundSoundTimeoutSubscription&&(this.backgroundSoundTimeoutSubscription.unsubscribe(),this.backgroundSoundTimeoutSubscription=null),this.addImageSubscription&&(this.addImageSubscription.unsubscribe(),this.addImageSubscription=null)}onClickLegalText(t){this.soundService.playSound(V.click,!0);let e=null;if(t==="imprint"){if(this.gameService.signalGameConfig()?.typeImprint==="url"&&this.gameService.signalGameConfig()?.urlImprint)e=this.gameService.signalGameConfig()?.urlImprint??null;else if(this.gameService.signalGameConfig()?.typeImprint==="text"){this.legalTextDialogType.set("imprint");return}}else if(t==="privacy-policy"){if(this.gameService.signalGameConfig()?.typePrivacyPolicy==="url"&&this.gameService.signalGameConfig()?.urlPrivacyPolicy)e=this.gameService.signalGameConfig()?.urlPrivacyPolicy??null;else if(this.gameService.signalGameConfig()?.typePrivacyPolicy==="text"){this.legalTextDialogType.set("privacy-policy");return}}else if(t==="crm-info"){if(this.gameService.signalGameConfig()?.quizConfigCrm?.typeCollectInformation==="url"&&this.gameService.signalGameConfig()?.quizConfigCrm?.urlCollectInformation)e=this.gameService.signalGameConfig()?.quizConfigCrm?.urlCollectInformation??null;else if(this.gameService.signalGameConfig()?.quizConfigCrm?.typeCollectInformation==="text"){this.legalTextDialogType.set("crm-info");return}}e&&window.open(e,"_blank")}onClickCloseLegal(t){this.legalTextDialogType.set(null)}onClickNoHighscoreSaving(t){this.isShowingConfirmCancelDialog.set(!1),t&&(this.signalIsNoScreenOverflow.set(!0),K.setTimeout(()=>{this.soundService.fadeOutSound(V.endGameMusic,500,pi.stop),this.initService.navigateToRoute(G.base).then()},350))}onSubmitForm(t){this.soundService.playSound(V.click,!0),this.userCrmService.getCRMValuesSaveToken(t).pipe(yo(this)).subscribe({next:e=>{e&&this.userCrmService.save(e.timestamp,e.token,t).pipe(yo(this)).subscribe({complete:()=>{this.initService.navigateToRoute(G.endGame).then()},error:i=>{this.toastService.showToast(i,fn.error)}})},error:e=>{this.toastService.showToast(e,fn.error)}})}onCancelForm(t){this.soundService.playSound(V.click,!0),this.isShowingConfirmCancelDialog.set(!0),this.soundService.playSound("modalFadeIn",!0)}getImages(){let t=this.imageLoadService.getImage("btnSoundOn"),e=this.imageLoadService.getImage("btnSoundOff"),i=this.imageLoadService.getImage("btnFullscreenOn"),o=this.imageLoadService.getImage("btnFullscreenOff");t&&e&&i&&o&&(this.buttonFullscreenComponent.initImages(i.src,o.src),this.buttonSoundOnOffComponent.initImages(t.src,e.src))}static{this.\u0275fac=function(e){return new(e||w_)}}static{this.\u0275cmp=W({type:w_,selectors:[["app-end-game-crm-page"]],viewQuery:function(e,i){if(e&1&&(ie(b5,5),ie(S5,5)),e&2){let o;ee(o=te())&&(i.buttonSoundOnOffComponent=o.first),ee(o=te())&&(i.buttonFullscreenComponent=o.first)}},standalone:!1,decls:23,vars:33,consts:[["userCrmForm",""],["buttonSoundOnOffComponent",""],["buttonFullscreenComponent",""],[1,"content"],[1,"content-container"],[1,"empty-line"],[1,"mb-5"],[1,""],[1,"enter-high-score-container"],[1,"button-container"],[1,"user-crm"],[3,"submitForm","cancelForm","editValue"],[1,"legal-links"],["type","button",1,"btn","btn-link","btn-legal",3,"color"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled","right"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled"],[1,"dialog-animation-container"],[3,"clickButton","configBtn","backgroundImageUrl","btnContentWidth","btnContentPadding"],["type","button",1,"btn","btn-link","btn-legal",3,"click"],[3,"cancelDialog","type"],[3,"cancelDialog","titleKey","contentKey","isJsonContent","hasSafetyCheck"]],template:function(e,i){if(e&1){let o=ne();C(0,"div",3)(1,"div",4),D(2,"div",5),C(3,"h5",6),M(4),E(5,"nativeTranslate"),v(),C(6,"p",7),M(7),E(8,"nativeTranslate"),v(),C(9,"div",8),P(10,M5,4,7,"div",9),C(11,"div",10),it("fade-in-800ms"),C(12,"app-user-crm-form",11,0),N("submitForm",function(s){return O(o),R(i.onSubmitForm(s))})("cancelForm",function(s){return O(o),R(i.onCancelForm(s))}),v()()()(),C(14,"div",12),P(15,x5,3,5,"button",13),P(16,T5,3,5,"button",13),v(),C(17,"app-button-sound-on-off",14,1),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),C(19,"app-button-fullscreen",15,2),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v()(),P(21,D5,2,1,"div",16),P(22,I5,2,4,"div",16)}if(e&2){let o,r,s,a,l,c,u,d,h;se("no-overflow",i.signalIsNoScreenOverflow()),f(4),ae(A(5,25,"crm-title")),f(3),z(" ",pn(8,27,"crm-content",_s(30,w5,i.swipeYesNoService.currentQuestionNr,i.swipeYesNoService.maxQuestionCount))," "),f(3),k(!((o=i.gameService.signalGameConfig())==null||o.quizConfigCrm==null)&&o.quizConfigCrm.typeCollectInformation?10:-1),f(2),I("editValue",null),f(3),k((r=i.gameService.signalGameConfig())!=null&&r.typeImprint?15:-1),f(),k((s=i.gameService.signalGameConfig())!=null&&s.typePrivacyPolicy?16:-1),f(),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(a=i.gameService.signalGameConfig())==null?null:a.screenEndGameBtnIcon.radius)("borderWidthPx",(l=i.gameService.signalGameConfig())==null?null:l.screenEndGameBtnIcon.border)("borderColor",(c=i.gameService.signalGameConfig())==null?null:c.screenEndGameBtnIcon.borderColor)("disabled",!1)("right",i.document.fullscreenEnabled?"115px":"20px"),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().screenEndGameBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(u=i.gameService.signalGameConfig())==null?null:u.screenEndGameBtnIcon.radius)("borderWidthPx",(d=i.gameService.signalGameConfig())==null?null:d.screenEndGameBtnIcon.border)("borderColor",(h=i.gameService.signalGameConfig())==null?null:h.screenEndGameBtnIcon.borderColor)("disabled",!1),f(2),k(i.legalTextDialogType()?21:-1),f(),k(i.isShowingConfirmCancelDialog()?22:-1)}},dependencies:[XI,tm,xo,To,ml,Ee,ge],styles:[".content[_ngcontent-%COMP%]{padding-bottom:250px}.content.no-overflow[_ngcontent-%COMP%]{overflow:hidden;max-height:100%}.enter-high-score-container[_ngcontent-%COMP%]{position:relative}.enter-high-score-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{width:100%;margin:50px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.enter-high-score-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{pointer-events:auto}.enter-high-score-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{display:block;width:670px;padding:30px 10px;min-width:auto;font-size:1em;background-color:#d4d4d442;background-repeat:no-repeat;background-position:center;background-size:cover}.enter-high-score-container[_ngcontent-%COMP%]   .nickname-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center}.legal-links[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:0;width:100%;text-align:left;display:flex;flex-direction:row;align-items:flex-start;justify-content:center;flex-wrap:nowrap}.legal-links[_ngcontent-%COMP%]   .btn-legal[_ngcontent-%COMP%]{padding:0 20px;margin-bottom:9px;font-size:36px;background-color:transparent}"]})}};vm=Kt([nn()],vm);var E5=[{path:G.base,component:mh,data:{animation:"BasePage"}},{path:G.idle,component:Ch,data:{animation:"StartPage"}},{path:G.howToPlay,component:ND,data:{animation:"HowToPlayPage"}},{path:G.highScore,component:xl,data:{animation:"GameHighScorePage"}},{path:G.highScoreWeekly,component:xl,data:{animation:"GameHighScoreWeeklyPage"}},{path:G.highScoreMonthly,component:xl,data:{animation:"GameHighScoreMonthlyPage"}},{path:G.game,component:bh,data:{animation:"GamePage"}},{path:G.gameBetting,component:UD,data:{animation:"GameBettingPage"}},{path:G.gameMultiplier,component:XD,data:{animation:"GameMultiplierPage"}},{path:G.gameTopic,component:ZD,data:{animation:"GameTopicPage"}},{path:G.endGameCrm,component:vm,data:{animation:"EndGameCrmPage"}},{path:G.endGame,component:fm,data:{animation:"EndGamePage"}},{path:"",pathMatch:"full",redirectTo:"/"},{path:"**",component:dT,data:{animation:"NotFoundPage"}}],KI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[Fg.forRoot(E5,{enableViewTransitions:!1}),Fg]})}}return n})();var ZI=(()=>{class n{setVideoBlobInHTMLVideoElement(e,i,o){for(let r of i)if(r.nativeElement.id===e){let s=URL.createObjectURL(o),a=r.nativeElement.currentSrc;if(a&&a.startsWith("blob:")&&(r.nativeElement.src="",URL.revokeObjectURL(a)),r.nativeElement.hasChildNodes()){let c=r.nativeElement.getElementsByTagName("source");for(let u=0,d=c.length;u<d;u++){let h=c[u],m=h.src;h.src="",URL.revokeObjectURL(m)}for(;r.nativeElement.firstChild;)r.nativeElement.removeChild(r.nativeElement.firstChild)}let l=document.createElement("source");l.src=s,l.type=o.type,r.nativeElement.appendChild(l),r.nativeElement.load();break}}showVideo(e,i){for(let o of i)o.nativeElement.id===e?(o.nativeElement.style.display="unset",this.tryPlay(o.nativeElement),K.setTimeout(()=>{o.nativeElement.classList.add("show")},0)):o.nativeElement.classList.remove("show");K.setTimeout(()=>{for(let o of i)o.nativeElement.id!==e&&(o.nativeElement.style.display="none",o.nativeElement.pause())},800)}tryPlay(e){let i=-1;o();function o(){e.play().then(()=>{i>-1&&clearInterval(i)}).catch(()=>{r()})}function r(){i=window.setTimeout(()=>{o()},500)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var JI=(()=>{class n{constructor(){this.videoService=p(ZI),this.signalIsExitButtonEnabled=w(!1),this.signalVideoState=w(0),this.exitButtonUrls=[G.base,G.game,G.endGameCrm,G.endGame].map(e=>"/"+e),this.videoBackgroundPachinkoUrls=[G.gameMultiplier].map(e=>"/"+e)}updateRoute(e,i){this.signalIsExitButtonEnabled.set(this.exitButtonUrls.indexOf(e)!==-1);let o=0;this.videoBackgroundPachinkoUrls.indexOf(e)!==-1&&(o=1),this.signalVideoState()!==o&&(o===0?this.videoService.showVideo("videoMain",i):o===1&&(i.length>1&&(i[1].nativeElement.currentTime=0),this.videoService.showVideo("videoPachinko",i))),this.signalVideoState.set(o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var eE=(()=>{class n{constructor(){this.signalIsGameHeaderEnabled=w(!1),this.gameHeaderUrls=[G.startGame,G.gameCountdown,G.gameTopic,G.game,G.gameBetting,G.gameMultiplier].map(e=>"/"+e)}updateRoute(e){this.signalIsGameHeaderEnabled.set(this.gameHeaderUrls.indexOf(e)!==-1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ym=(()=>{class n{constructor(){this.signalShape=w(null)}init(){this.signalShape.set(null)}setShape(e){this.signalShape.set(e)}updateRoute(e){this.signalShape.set(null)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var P5=["gameBackground"],k5=["animImage"],O5=(n,t)=>t.nr;function R5(n,t){if(n&1&&D(0,"div",7,1),n&2){let e=t.$implicit,i=t.$index;x("background-image",e.url),sn("data-index",i)("data-running",!1)}}var tE=(()=>{class n{constructor(){this.backgroundShapeService=p(ym),this.backgroundImageService=p(Cl),this.backgroundGradientService=p(Lr),this.backgroundAnimationService=p(Io),this.changeDetectorRef=p(Ve),this.pageHeight=0,this.scaling=1,this.onInitCompleteSubscription=null,this.signalBottom=w(0),this.signalIsIPhoneSafari=w(!1)}ngOnInit(){this.onInitCompleteSubscription=this.backgroundAnimationService.onInitComplete.subscribe(()=>{this.changeDetectorRef.detectChanges();let e=this.animImageRefs.map(i=>i.nativeElement);this.backgroundAnimationService.callTween(e)}),this.signalIsIPhoneSafari.set(vo.isIPhoneSafari())}ngOnChanges(e){if(this.gameBackgroundRef&&this.scaling>0&&("pageHeight"in e||"scaling"in e)){let i=(this.pageHeight-window.innerHeight)/this.scaling;this.signalBottom.set(i)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-background"]],viewQuery:function(i,o){if(i&1&&(ie(P5,5),ie(k5,5)),i&2){let r;ee(r=te())&&(o.gameBackgroundRef=r.first),ee(r=te())&&(o.animImageRefs=r)}},inputs:{pageHeight:"pageHeight",scaling:"scaling"},standalone:!1,features:[Pe],decls:7,vars:26,consts:[["gameBackground",""],["animImage",""],[1,"game-background"],[1,"image1"],[1,"image2"],[1,"background-shape"],[1,"anim-image",3,"background-image"],[1,"anim-image"]],template:function(i,o){if(i&1&&(C(0,"div",2,0),D(2,"div",3)(3,"div",4)(4,"div",5),ct(5,R5,2,4,"div",6,O5),v()),i&2){let r,s,a,l,c;x("bottom",o.signalBottom(),"px")("background-image",o.backgroundGradientService.signalBackgroundImageUrl())("animation-duration",o.backgroundGradientService.signalBackgroundColorsDuration(),"s"),f(2),x("background-image",o.backgroundImageService.signalUrl1()),se("enabled",o.backgroundImageService.signalState()===1),f(),x("background-image",o.backgroundImageService.signalUrl2()),se("enabled",o.backgroundImageService.signalState()===2),f(),x("top",(r=o.backgroundShapeService.signalShape())==null?null:r.top)("bottom",(s=o.backgroundShapeService.signalShape())==null?null:s.bottom)("left",(a=o.backgroundShapeService.signalShape())==null?null:a.left)("right",(l=o.backgroundShapeService.signalShape())==null?null:l.right)("background",(c=o.backgroundShapeService.signalShape())==null?null:c.backgroundCSS),se("enabled",o.backgroundShapeService.signalShape()),f(),ut(o.backgroundAnimationService.signalImageUrls())}},styles:[".game-background[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(-45deg,#ee775288,#e73c7e88,#23a6d588,#23d5ab88);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 25s ease infinite;overflow:hidden;touch-action:none;pointer-events:none}.game-background[_ngcontent-%COMP%]   .background-shape[_ngcontent-%COMP%]{position:absolute;scale:0;transition:scale 1s}.game-background[_ngcontent-%COMP%]   .background-shape.enabled[_ngcontent-%COMP%]{scale:1}.game-background[_ngcontent-%COMP%]   .image1[_ngcontent-%COMP%], .game-background[_ngcontent-%COMP%]   .image2[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:none;background-repeat:no-repeat;background-size:cover;background-position:top;opacity:0;transition:opacity 1s}.game-background[_ngcontent-%COMP%]   .image1.enabled[_ngcontent-%COMP%], .game-background[_ngcontent-%COMP%]   .image2.enabled[_ngcontent-%COMP%]{opacity:1}.game-background[_ngcontent-%COMP%]   .anim-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100px;height:100px;background-image:none;background-repeat:no-repeat;background-size:contain;background-position:top;will-change:transform,scale,opacity,left,top}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0 25%}50%{background-position:100% 75%}to{background-position:0 25%}}"],changeDetection:0})}}return n})();var N5=["coin"];function B5(n,t){if(n&1&&(C(0,"div",2,0)(2,"div",3),D(3,"div",4)(4,"div",5),v()()),n&2){let e=t.$index,i=y().$index,o=y();sn("data-list-index",i)("data-index",e),f(2),se("is-rotating-flying-ani",o.gameCoinsService.signalIsRotatingFlyingAni()),f(),x("background-image",o.gameCoinsService.backImageUrl),f(),x("background-image",o.gameCoinsService.frontImageUrl)}}function F5(n,t){if(n&1&&ct(0,B5,5,8,"div",2,Fn),n&2){let e=t.$implicit;ut(e)}}var nE=(()=>{class n{constructor(){this.gameCoinsService=p(Pi),this.changeDetectorRef=p(Ve),this.onInitCompleteSubscription=null,this.onAnimationCompleteSubscription=null}ngOnInit(){this.onInitCompleteSubscription=this.gameCoinsService.onInitComplete.subscribe(()=>{this.changeDetectorRef.detectChanges();let e=this.coinRefs.map(i=>i.nativeElement);this.gameCoinsService.callTween(e)}),this.onAnimationCompleteSubscription=this.gameCoinsService.onAnimationComplete.subscribe(()=>{this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.onInitCompleteSubscription&&(this.onInitCompleteSubscription.unsubscribe(),this.onInitCompleteSubscription=null),this.onAnimationCompleteSubscription&&(this.onAnimationCompleteSubscription.unsubscribe(),this.onAnimationCompleteSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-game-coins"]],viewQuery:function(i,o){if(i&1&&ie(N5,5),i&2){let r;ee(r=te())&&(o.coinRefs=r)}},standalone:!1,decls:3,vars:0,consts:[["coin",""],[1,"game-coins"],[1,"coin"],[1,"coin-inner"],[1,"tails"],[1,"heads"]],template:function(i,o){i&1&&(C(0,"div",1),ct(1,F5,2,0,null,null,Fn),v()),i&2&&(f(),ut(o.gameCoinsService.coinLists))},styles:['.game-coins[_ngcontent-%COMP%]{position:absolute;inset:0;touch-action:none}.game-coins[_ngcontent-%COMP%]   .coin[_ngcontent-%COMP%]{position:absolute;z-index:10;left:-24px;top:-24px}.game-coins[_ngcontent-%COMP%]   .coin-inner[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;transform-style:preserve-3d}.game-coins[_ngcontent-%COMP%]   .coin-inner.is-rotating-flying-ani[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 3s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotateY(0)}to{transform:rotate3d(.1,1,.1,360deg)}}.game-coins[_ngcontent-%COMP%]   .coin-inner[_ngcontent-%COMP%]:before{content:"";position:absolute;height:48px;width:48px;transform:translateZ(-6px)}.game-coins[_ngcontent-%COMP%]   .coin-inner[_ngcontent-%COMP%]:after{content:"";left:43%;position:absolute;height:48px;width:6px;z-index:-10;transform:rotateY(-90deg);transform-origin:100% 50%}.game-coins[_ngcontent-%COMP%]   .coin-inner[_ngcontent-%COMP%]   .tails[_ngcontent-%COMP%]{position:absolute;content:"";height:48px;width:48px;transform:translateZ(0);background-repeat:no-repeat;background-size:contain;background-position:top}.game-coins[_ngcontent-%COMP%]   .coin-inner[_ngcontent-%COMP%]   .heads[_ngcontent-%COMP%]{position:absolute;content:"";height:48px;width:48px;transform:translateZ(-6px);background-repeat:no-repeat;background-size:contain;background-position:top}']})}}return n})();var G5=["buttonSoundOnOffComponent"],V5=["buttonFullscreenComponent"],z5=["coinImage"],H5=["score"],_m=class M_{constructor(){this.gameService=p(ye),this.userGameService=p(zt),this.gameHeaderService=p(Mo),this.initService=p(de),this.soundService=p(Ce),this.imageLoadService=p(we),this.SoundNameEnum=V,this.AppConfig=g,this.frontImageUrl="none",this.backImageUrl="none",this.onUpdateGameScoreSubscription=null,this.addImageSubscription=null}ngOnInit(){this.onUpdateGameScoreSubscription=this.gameHeaderService.onUpdateGameScore.subscribe(()=>{this.gameHeaderService.callScoreTween(this.scoreRef,()=>{this.gameHeaderService.callScoreIconTween(this.coinImage,null)})}),this.addImageSubscription=this.imageLoadService.addImageEmitter.subscribe(t=>{(t==="btnSoundOn"||t==="btnSoundOff"||t==="btnFullscreenOn"||t==="btnFullscreenOff")&&this.getImages()})}ngAfterViewInit(){this.getImages(),this.gameHeaderService.init(this.scoreRef)}ngOnDestroy(){this.onUpdateGameScoreSubscription&&(this.onUpdateGameScoreSubscription.unsubscribe(),this.onUpdateGameScoreSubscription=null),this.addImageSubscription&&(this.addImageSubscription.unsubscribe(),this.addImageSubscription=null)}init(){let t;t=this.imageLoadService.getImage("crabFrontImage"),t&&(this.frontImageUrl=`url('${t.src}')`),t=this.imageLoadService.getImage("crabBackImage"),t&&(this.backImageUrl=`url('${t.src}')`)}onClickEndGame(){this.soundService.playSound(V.click,!0)}getImages(){let t=this.imageLoadService.getImage("btnSoundOn"),e=this.imageLoadService.getImage("btnSoundOff"),i=this.imageLoadService.getImage("btnFullscreenOn"),o=this.imageLoadService.getImage("btnFullscreenOff");t&&e&&i&&o&&(this.buttonFullscreenComponent.initImages(i.src,o.src),this.buttonSoundOnOffComponent.initImages(t.src,e.src))}static{this.\u0275fac=function(e){return new(e||M_)}}static{this.\u0275cmp=W({type:M_,selectors:[["app-game-header"]],viewQuery:function(e,i){if(e&1&&(ie(G5,5),ie(V5,5),ie(z5,5),ie(H5,5)),e&2){let o;ee(o=te())&&(i.buttonSoundOnOffComponent=o.first),ee(o=te())&&(i.buttonFullscreenComponent=o.first),ee(o=te())&&(i.coinImage=o.first),ee(o=te())&&(i.scoreRef=o.first)}},standalone:!1,decls:13,vars:36,consts:[["buttonSoundOnOffComponent",""],["buttonFullscreenComponent",""],["coinImage",""],["score",""],[1,"game-header"],[1,"start"],[1,"middle"],[1,"end"],[3,"click","imageBackgroundUrl","color","backgroundColor","borderRadiusPx","borderWidthPx","borderColor","disabled","top","bottom","right","left"],[1,"score"],[1,"coin-image"]],template:function(e,i){if(e&1){let o=ne();C(0,"div",4),D(1,"div",5)(2,"div",6),C(3,"div",7)(4,"app-button-sound-on-off",8,0),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),C(6,"app-button-fullscreen",8,1),N("click",function(){return O(o),R(i.soundService.playSound(i.SoundNameEnum.click,!0))}),v(),C(8,"div",9),D(9,"div",10,2)(11,"span",null,3),v()()()}if(e&2){let o,r,s,a,l,c,u;x("background-color",((o=i.gameService.signalGameConfig())==null?null:o.gameHeaderColorBg)??i.AppConfig.quizGameDefaultGameHeaderColorBg),f(4),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(r=i.gameService.signalGameConfig())==null?null:r.headerBtnIcon.radius)("borderWidthPx",(s=i.gameService.signalGameConfig())==null?null:s.headerBtnIcon.border)("borderColor",(a=i.gameService.signalGameConfig())==null?null:a.headerBtnIcon.borderColor)("disabled",!1)("top","12px")("bottom","auto")("right","auto")("left","35px"),f(2),I("imageBackgroundUrl",i.initService.signalBtnBackgroundImageUrl())("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerBtnIcon.fontColor:i.AppConfig.quizGameDefaultFontColorIconButton)("backgroundColor",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerBtnIcon.colorBg:i.AppConfig.quizGameDefaultColorIconButtonBg)("borderRadiusPx",(l=i.gameService.signalGameConfig())==null?null:l.headerBtnIcon.radius)("borderWidthPx",(c=i.gameService.signalGameConfig())==null?null:c.headerBtnIcon.border)("borderColor",(u=i.gameService.signalGameConfig())==null?null:u.headerBtnIcon.borderColor)("disabled",!1)("top","12px")("bottom","auto")("right","auto")("left","130px"),f(2),x("color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerContainerScore.fontColor:void 0)("background-color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerContainerScore.colorBg:void 0)("border-radius",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerContainerScore.radius:void 0,"px")("border-width",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerContainerScore.border:void 0,"px")("border-color",i.gameService.signalGameConfig()?i.gameService.signalGameConfig().headerContainerScore.borderColor:void 0),f(),x("background-image",i.frontImageUrl)}},dependencies:[xo,To],styles:['.game-header[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 .75em;background-color:#ffffff4d;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center}.game-header[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{line-height:1;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;width:100%}.game-header[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%]{justify-content:flex-start}.game-header[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{justify-content:center}.game-header[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{justify-content:flex-end}.game-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{font-size:.9em;border-radius:1.25em;min-width:8.35em;padding:0 .85em;height:1.925em}.game-header[_ngcontent-%COMP%]   .runtime[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .tokens[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .gs-name[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;font-size:50px;min-width:300px;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;margin-left:.75em;padding:10px 20px;background-color:#00000036}.game-header[_ngcontent-%COMP%]   .runtime[_ngcontent-%COMP%]{margin-left:0}.game-header[_ngcontent-%COMP%]   .runtime[_ngcontent-%COMP%]   .clock-image[_ngcontent-%COMP%]{background-color:#212121;-webkit-mask-image:url("./media/clock-WV7ZH7J6.svg");mask-image:url("./media/clock-WV7ZH7J6.svg");-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;mask-size:1.35em;-webkit-mask-size:1.35em;margin-right:.15em;display:inline-block;width:1.3em;height:1.3em}.game-header[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{justify-content:space-between;padding:10px 20px 14px;line-height:1;border-style:solid;border-width:0;border-radius:0}.game-header[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .coin-image[_ngcontent-%COMP%]{width:42px;height:42px;background-repeat:no-repeat;background-size:contain;background-position:center;margin-top:4px}']})}};_m=Kt([nn()],_m);var q5=["inlineConsoleContainer"],$5=["inlineConsole"];function j5(n,t){if(n&1&&(C(0,"div"),M(1),v()),n&2){let e=t.$implicit;f(),z(" -- ",e," ")}}function W5(n,t){if(n&1&&(C(0,"div",8)(1,"span",9),M(2),v(),M(3),ct(4,j5,2,1,"div",null,Fn),v()),n&2){let e=t.$implicit;se("error",e.type==="ERROR")("log",e.type==="LOG")("debug",e.type==="DEBUG")("warn",e.type==="WARN")("info",e.type==="INFO")("hidden",e.type==="HIDDEN"),f(2),ae(e.type),f(),Uf(" ",e.time," ",e.id," ",e.message," "),f(),ut(e.argsList)}}function Q5(n,t){if(n&1){let e=ne();C(0,"div",2,0)(2,"div",3),M(3,"Inline console"),v(),C(4,"div",4,1),ct(6,W5,6,16,"div",5,Fn),v(),C(8,"div",6)(9,"button",7),N("click",function(){O(e);let o=y();return R(o.onClickClearConsole())}),M(10,"clear"),v()()()}if(n&2){let e=y();f(6),ut(e.signalMessageList())}}var x_=class{constructor(t,e,i,o,r){this.type=t,this.time=e,this.id=i,this.message=o,this.argsList=r}},iE=(()=>{class n{constructor(){this.changeDetectorRef=p(Ve),this.signalMessageList=w([]),this.logCount=0,this.watchEvents=[],this.startMs=new Date().getTime(),this.oldLog=console.log,this.oldDebug=console.debug,this.oldWarn=console.warn,this.oldInfo=console.info,this.oldError=console.error}ngOnInit(){window.onerror=(...e)=>{this.sendMsg("ERROR",e)},console.log=(...e)=>{this.sendMsg("LOG",e),this.oldLog.apply(console,e)},console.debug=(...e)=>{this.sendMsg("DEBUG",e),this.oldDebug.apply(console,e)},console.warn=(...e)=>{this.sendMsg("WARN",e),this.oldWarn.apply(console,e)},console.info=(...e)=>{this.sendMsg("INFO",e),this.oldInfo.apply(console,e)},console.error=(...e)=>{this.sendMsg("ERROR",e),this.oldError.apply(console,e)};for(let e=0,i=this.watchEvents.length;e<i;e++)document.addEventListener(this.watchEvents[e],o=>{this.sendMsg("EVENT",["An event type &quot;"+o.type+"&quot; was triggered by a &quot;"+o.target.nodeName+"&quot; node."])},!0)}onClickClearConsole(){this.signalMessageList.set([]),this.changeDetectorRef.detectChanges()}sendMsg(e,i){let o=e+"-"+ ++this.logCount,r=JSON.stringify(i[0]),s=new Date().getTime(),a=[];if(i.length>0)for(let u=0,d=i.length;u<d;u++)a.push(JSON.stringify(i[u]));a.length<=2&&(a=[]);let l=new x_(e,s-this.startMs,o,r,a),c=this.signalMessageList();c.push(l),this.signalMessageList.set(c),this.changeDetectorRef.detectChanges(),this.inlineConsole&&this.inlineConsoleContainer&&(this.inlineConsoleContainer.nativeElement.scrollTop=this.inlineConsoleContainer.nativeElement.scrollHeight)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-inline-console"]],viewQuery:function(i,o){if(i&1&&(ie(q5,5),ie($5,5)),i&2){let r;ee(r=te())&&(o.inlineConsoleContainer=r.first),ee(r=te())&&(o.inlineConsole=r.first)}},standalone:!1,decls:1,vars:1,consts:[["inlineConsoleContainer",""],["inlineConsole",""],[1,"inline-console-container"],[1,"title"],[1,"inline-console"],[1,"message",3,"error","log","debug","warn","info","hidden"],[1,"text-end"],["type","button",3,"click"],[1,"message"],[1,"type"]],template:function(i,o){i&1&&P(0,Q5,11,0,"div",2),i&2&&k(o.signalMessageList().length>0?0:-1)},styles:[".inline-console-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;max-height:100dvh;z-index:100000;background-color:#000;padding:10px;font-size:12px;line-height:1.5;border:none;color:#e4e4e4;resize:none;overflow-y:auto;font-family:monospace}.inline-console-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:.3em;margin:0;font-family:monospace}.inline-console-container[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{font-size:14px;float:right;color:#000}.inline-console-container[_ngcontent-%COMP%]   .inline-console[_ngcontent-%COMP%]   .message.log[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#6c6cff}.inline-console-container[_ngcontent-%COMP%]   .inline-console[_ngcontent-%COMP%]   .message.error[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#ff4343}.inline-console-container[_ngcontent-%COMP%]   .inline-console[_ngcontent-%COMP%]   .message.warning[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#fbcb6e}.inline-console-container[_ngcontent-%COMP%]   .inline-console[_ngcontent-%COMP%]   .message.info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#7effff}.inline-console-container[_ngcontent-%COMP%]   .inline-console[_ngcontent-%COMP%]   .message.debug[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#6767ff}"]})}}return n})();var X5=(n,t)=>t.message;function K5(n,t){if(n&1){let e=ne();C(0,"button",2),N("click",function(){let o=O(e).$implicit,r=y();return R(r.onClickToast(o))}),M(1),v()}if(n&2){let e=t.$implicit,i=y();x("top",e.top,"px")("right",e.right,"px")("font-size",i.fontSize,"px"),se("toast-message-info",e.type===i.ToastTypeEnum.info)("toast-message-success",e.type===i.ToastTypeEnum.success)("toast-message-warning",e.type===i.ToastTypeEnum.warning)("toast-message-error",e.type===i.ToastTypeEnum.error),f(),z("",e.message," ")}}var oE=(()=>{class n{constructor(){this.toastService=p(Ki),this.changeDetectorRef=p(Ve),this.fontSize=16,this.ToastTypeEnum=fn,this.eventSubscription=null}ngOnInit(){this.eventSubscription=this.toastService.eventEmitter.subscribe(()=>{this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.eventSubscription&&(this.eventSubscription.unsubscribe(),this.eventSubscription=null)}onClickToast(e){this.toastService.removeToast(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-toast"]],inputs:{fontSize:"fontSize"},standalone:!1,decls:3,vars:0,consts:[[1,"toast-container"],["type","button",1,"btn","toast-message",3,"toast-message-info","toast-message-success","toast-message-warning","toast-message-error","top","right","font-size"],["type","button",1,"btn","toast-message",3,"click"]],template:function(i,o){i&1&&(C(0,"div",0),ct(1,K5,2,15,"button",1,X5),v()),i&2&&(f(),ut(o.toastService.signalToastMessages()))},styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:10000}.toast-container[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]{color:#fff;background-color:#207300cc;padding:10px 20px;position:absolute;width:max-content;max-width:calc(100vw - 40px);border-radius:5px;box-shadow:0 4px 6px #0000001a;pointer-events:auto;transition:top .3s,right .3s;animation:_ngcontent-%COMP%_appear .3s linear 1}@keyframes _ngcontent-%COMP%_appear{0%{transform:translate(100%)}to{transform:translate(0)}}.toast-container[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.toast-container[_ngcontent-%COMP%]   .toast-message.toast-message-success[_ngcontent-%COMP%]{background-color:#207300cc}.toast-container[_ngcontent-%COMP%]   .toast-message.toast-message-error[_ngcontent-%COMP%]{background-color:#b90000cc}.toast-container[_ngcontent-%COMP%]   .toast-message.toast-message-info[_ngcontent-%COMP%]{background-color:#0073b9cc}.toast-container[_ngcontent-%COMP%]   .toast-message.toast-message-warning[_ngcontent-%COMP%]{background-color:#b97300cc}"]})}}return n})();var J5=["overlayContainer"],eq=["elementToScale"],tq=["main"],nq=["gameHeader"],iq=["gameCoins"];function oq(n,t){if(n&1&&D(0,"div",13),n&2){let e=y();x("background-image",e.signalBackgroundImage())}}function rq(n,t){n&1&&D(0,"app-inline-console")}var bm=class T_{constructor(){this.pageService=p(JI),this.panelService=p(eE),this.fileLoadService=p(Yi),this.initService=p(de),this.imageLoadService=p(we),this.gameService=p(ye),this.gameCoinsService=p(Pi),this.soundService=p(Ce),this.backgroundShapeService=p(ym),this.backgroundImageService=p(Cl),this.backgroundGradientService=p(Lr),this.backgroundAnimationService=p(Io),this.fontStyleService=p(gm),this.nativeTranslateService=p(Fe),this.swipeYesNoService=p(Qn),this.iFrameEventRuleService=p(hm),this.scormService=p(dh),this.router=p(Cn),this.titleService=p(ag),this.metaService=p(sx),this.changeDetectorRef=p(Ve),this.signalIsInlineConsoleVisible=w(g.isInlineConsoleVisible),this.signalBackgroundImage=w(null),this.signalPageWidth=w(0),this.signalPageHeight=w(0),this.signalScaleHeight=w(0),this.signalScaleMargin=w("0"),this.signalScaleTransform=w("none"),this.signalScaling=w(1),this.appWidth=1080,this.appHeight=1920,this.gameService.signalGameConfig()&&(this.gameService.signalGameConfig().backgroundColors&&this.backgroundGradientService.init(this.gameService.signalGameConfig().backgroundColors,this.gameService.signalGameConfig().backgroundColorsDuration),this.gameService.signalGameConfig().mainFont.length>0&&this.fontStyleService.applyFont("MainFont",this.gameService.signalGameConfig().mainFont,!0)),this.router.events.pipe(yo(this)).subscribe(t=>{if(t instanceof mo){let e=t.url.split("?")[0];this.main?.nativeElement&&this.main.nativeElement.scrollTo(0,0),this.pageService.updateRoute(e,[]),this.panelService.updateRoute(e),this.backgroundShapeService.updateRoute(e),this.backgroundImageService.updateRoute(e),this.backgroundGradientService.updateRoute(e),this.backgroundAnimationService.updateRoute(e,this.gameService.signalGameConfig()?.backgroundAnimationImageUrls??null,this.gameService.signalGameConfig()?this.gameService.signalGameConfig().backgroundAnimationType:Dn.oneStep),this.soundService.fadeOutSound(V.chooseTopicMusic01,500,pi.stop),this.soundService.fadeOutSound(V.mainMusic01,500,pi.stop),this.soundService.fadeOutSound(V.mainMusic02,500,pi.stop),this.soundService.fadeOutSound(V.mainMusic03,500,pi.stop),this.soundService.fadeOutSound(V.gameMultiplierMusic01,500,pi.stop),this.soundService.fadeOutSound(V.gameMultiplierMusic02,500,pi.stop),this.soundService.fadeOutSound(V.gameMultiplierMusic03,500,pi.stop)}else if(t instanceof ci){let e=t.url.split("?")[0];this.initService.checkSelectedRoute(e)&&this.gameCoinsService.stop()}})}ngOnInit(){this.initLocalization().then(()=>{if(this.gameService.signalGameConfig()){let t=this.nativeTranslateService.instant("quiz-name");this.titleService.setTitle(t),this.metaService.updateTag({property:"og:title",content:t})}else this.titleService.setTitle("ROY 50/50 Speed Quiz")}),this.onResize(),this.initService.signalAppQueryParams()&&this.initService.signalAppQueryParams().debug&&this.signalIsInlineConsoleVisible.set(!0),this.initGameTitleImage(),this.initBackgroundImage(),this.initSwipeYesNoGameBaseSettings(),this.initIFrameSubscription()}ngAfterViewInit(){this.onResize(),this.initService.isScormPackage&&this.initScorm(),K.setTimeout(()=>{let t=this.getLoadObjectList();this.loadFiles(t).then(e=>{for(let r of e)(r.blob.type==="image/jpeg"||r.blob.type==="image/png"||r.blob.type==="image/svg+xml")&&this.imageLoadService.addImage(r.name,r.blob);for(let r of e)(r.blob.type==="audio/mpeg"||r.blob.type==="audio/wav")&&(r.name.indexOf("Music")!==-1?this.soundService.addBackgroundSound(r.name,r.blob,.4):this.soundService.addSound(r.name,r.blob,1));this.gameHeaderComponent.init(),this.gameCoinsService.init(this.gameService.signalGameConfig()?this.gameService.signalGameConfig().isRotatingFlyingAni:!0);let i=this.imageLoadService.getImage("btnBackground");i&&this.initService.signalBtnBackgroundImageUrl.set(`url('${i.src}')`);let o=g.startRoute;g.startRoute!==G.base&&K.setTimeout(()=>{this.initService.navigateToRoute(o).then(()=>{K.setTimeout(()=>{this.changeDetectorRef.detectChanges()},100)})},300)})},100)}ngOnDestroy(){this.nfcUserHasChangedSubscription.unsubscribe(),this.soundService.stopAllBackgroundSounds(),this.iFrameEventRuleService.destroy()}onResize(){function t(){let i=window.innerWidth,o=window.innerHeight,r=9/16,s,a;return i/o>r?(s=o*r,a=o):(s=i,a=i/r),s=Math.ceil(s+1),a=Math.ceil(a+1),window.innerHeight>a&&(a=window.innerHeight),{width:s,height:a}}let e=()=>{let i=t();this.signalPageWidth.set(i.width),this.signalPageHeight.set(i.height),this.fitToParent(),this.backgroundAnimationService.onResize(this.signalPageHeight()/this.signalScaling())};K.setTimeout(()=>{e(),K.setTimeout(()=>{e()},200)},200)}scaleAmountNeededToFit(){let t=parseInt(this.signalScaleMargin(),10);if(!this.overlayContainer)return 1;let e=this.overlayContainer.nativeElement.clientWidth-t*2,i=this.overlayContainer.nativeElement.clientHeight-t*2,o=this.appWidth,r=this.appHeight;return Math.min(e/o,i/r)}fitToParent(){this.signalScaling.set(this.scaleAmountNeededToFit()),this.signalScaleTransform.set(`translate(0, 0) scale(${this.signalScaling()})`),this.signalScaleHeight.set(window.innerHeight/this.signalScaling())}getLoadObjectList(){let t=[],e=this.gameService.signalGameConfig()?.soundDefinitions??null,i="";this.gameService.signalGameConfig()&&(i=this.gameService.signalGameConfig()?.companyPath+"/");let o="assets/sounds/",r="assets/games/swipe-yes-no/",s="assets/games/ball-game/",a="assets/games/pachinko/",l="assets/games/roulette/",c="assets/games/point-shooter/",u=!this.gameService.signalGameConfig()||(this.gameService.signalGameConfig()?.activeMiniGames.includes(1)??!1),d=!this.gameService.signalGameConfig()||(this.gameService.signalGameConfig()?.activeMiniGames.includes(2)??!1),h=!this.gameService.signalGameConfig()||(this.gameService.signalGameConfig()?.activeMiniGames.includes(3)??!1),m=[{key:"mainScreen",sG:V.introMusic,oUrl:"music-main-screen.mp3"},{key:"categorySelection",sG:V.chooseTopicMusic01,oUrl:"music-category-selection.mp3"},{key:"quizGame",sG:V.mainMusic01,oUrl:"music-quiz-game.mp3"},{key:"endScreen",sG:V.endGameMusic,oUrl:"music-end-game.mp3"},{key:V.click,oUrl:"click.mp3"},{key:V.modalFadeIn,oUrl:"modal-fade-in.mp3"},{key:V.modalFadeOut,oUrl:"modal-fade-out.mp3"},{key:V.buttonSelected,oUrl:"button-selected.mp3"},{key:V.cardFadeIn,oUrl:"card-fade-in.mp3"},{key:V.cardFadeOut,oUrl:"card-fade-out.mp3"},{key:V.answerRight,oUrl:"answer-right.mp3"},{key:V.answerWrong,oUrl:"answer-wrong.mp3"},{key:V.categoryFlash,oUrl:"category-flash.mp3"},{key:V.scoreArrive,oUrl:"score-arrive.mp3"},{key:V.endGame,oUrl:"end-game.mp3"}];if(u||d||h){m.push({key:"dropIn",path:s+"sounds/",oUrl:"drop-in.mp3"},{key:"bowDraw",path:s+"sounds/",oUrl:"bow-draw.mp3"});for(let S=1;S<=4;S++)m.push({key:"ballCollision"+S,path:s+"sounds/",oUrl:`ball-collision${(S<10?"0":"")+S}.mp3`});for(let S=1;S<=5;S++)m.push({key:`coinTarget${(S<10?"0":"")+S}`,path:s+"sounds/",oUrl:`coin-target${(S<10?"0":"")+S}.mp3`})}if(u){m.push({key:"miniGamePachinko",sG:V.gameMultiplierMusic01,oUrl:"music-pachinko.mp3"},{key:"pachinkoStart",path:a+"sounds/",oUrl:"start.mp3"});for(let S=1;S<=4;S++)m.push({key:"pachinkoNail"+S,path:a+"sounds/",oUrl:"nail"+(S<10?"0":"")+S+".mp3"})}d&&m.push({key:"miniGameRoulette",sG:V.gameMultiplierMusic02,oUrl:"music-roulette.mp3"},{key:"rouletteStart",path:l+"sounds/",oUrl:"start.mp3"},{key:"rouletteStep",path:l+"sounds/",oUrl:"step.mp3"},{key:"rouletteLogin",path:l+"sounds/",oUrl:"login.mp3"},{key:"rouletteLock",path:l+"sounds/",oUrl:"lock.mp3"},{key:"rouletteRolling01",path:l+"sounds/",oUrl:"rolling01.mp3"},{key:"rouletteRolling02",path:l+"sounds/",oUrl:"rolling02.mp3"},{key:"rouletteRolling03",path:l+"sounds/",oUrl:"rolling03.mp3"}),h&&m.push({key:"miniGamePointShooter",sG:V.gameMultiplierMusic03,oUrl:"music-point-shooter.mp3"},{key:"pointShooterStart",path:c+"sounds/",oUrl:"start.mp3"});for(let S of m){let T=S.sG?S.sG:S.key;if(e&&e[S.key]){if(e[S.key]!=="no-sound"){let B=e[S.key],H=this.gameService.signalGameConfig().isFtpReady?`${B}`:`../${i}${B}`;t.push({name:T,url:H})}}else{let B=S.path?S.path:o;t.push({name:T,url:B+S.oUrl})}}let b=this.getSwipeYesNoSwipeImagePath(r);b&&t.push({name:"swipeYesNoSwipeLeftRightImage",url:b});let _=this.getSwipeYesNoGreatImagePath(r);if(_&&t.push({name:"swipeYesNoGreatImage",url:_}),t.push({name:"swipeYesNoBtnCorrectImage",url:r+"images/quiz_assets_right.svg"},{name:"swipeYesNoBtnNotCorrectImage",url:r+"images/quiz_assets_wrong.svg"},{name:"swipeYesNoBtnQuestionImage",url:r+"images/btn-question.png"},{name:"btnBackground",url:"assets/images/btn-bg01.png"},{name:"btnClose",url:"assets/images/icons/btn-close.png"},{name:"btnSoundOn",url:"assets/images/icons/btn-sound-on.png"},{name:"btnSoundOff",url:"assets/images/icons/btn-sound-off.png"},{name:"btnFullscreenOn",url:"assets/images/icons/btn-fullscreen-on.png"},{name:"btnFullscreenOff",url:"assets/images/icons/btn-fullscreen-off.png"},{name:"giftClosedImage",url:"assets/images/icons/gift-closed.png"},{name:"giftOpenImage",url:"assets/images/icons/gift-open.png"},{name:"btnPlayImage",url:"assets/images/btn-play.png"},{name:"starImage",url:"assets/images/svg/star.svg"},{name:"iconReviewCorrect",url:"assets/images/svg/icon-review-correct.svg"},{name:"iconReviewWrong",url:"assets/images/svg/icon-review-wrong.svg"},{name:"arrowsDown",url:"assets/images/svg/arrows-down.svg"},{name:"highscoreAllTime",url:"assets/images/svg/highscore-all-time.svg"},{name:"highscoreMonthly",url:"assets/images/svg/highscore-monthly.svg"},{name:"highscoreWeekly",url:"assets/images/svg/highscore-weekly.svg"}),(u&&le.isUsingImages||d&&mi.isUsingImages||h&&kn.isUsingImages)&&t.push({name:"ballImage",url:s+"images/ball.png"},{name:"ballHolderImage",url:s+"images/ball-holder.png"},{name:"ballHolderOpenImage",url:s+"images/ball-holder-open.png"},{name:"borderImage",url:s+"images/border.png"}),u&&le.isUsingImages&&t.push({name:"nailImage",url:"assets/games/pachinko/images/nail.png"},{name:"nailActiveImage",url:"assets/games/pachinko/images/nail-active.png"}),d&&mi.isUsingImages&&t.push({name:"rouletteSlingshotImage",url:l+"images/slingshot.png"},{name:"rouletteWheelImage",url:l+"images/roulette-wheel.png"},{name:"rouletteWheelSegmentImage",url:l+"images/roulette-wheel-segment.png"},{name:"rouletteWheelSegmentSelectedImage",url:l+"images/roulette-wheel-segment-selected.png"}),h&&kn.isUsingImages&&t.push({name:"pointShooterSlingshotImage",url:c+"images/slingshot.png"},{name:"pointShooterTargetImage",url:c+"images/ball-target.png"},{name:"pointShooterTgtOverImg",url:c+"images/ball-target-overlay.png"},{name:"pointShooterTargetHitImage",url:c+"images/ball-target-hit.png"},{name:"pointShooterTarget2Image",url:c+"images/ball-target2.png"},{name:"pointShooterTarget2OverlayImage",url:c+"images/ball-target2-overlay.png"},{name:"pointShooterTarget2HitImage",url:c+"images/ball-target2-hit.png"},{name:"pointShooterBreakPadLeftImage",url:c+"images/break-pad-left.png"},{name:"pointShooterBreakPadRightImage",url:c+"images/break-pad-right.png"}),this.gameService.signalGameConfig()){if(this.gameService.signalGameConfig().imageScoreAni){let S=this.initService.qz,T=null;this.gameService.signalGameConfig().isFtpReady?T=`assets/images/${this.gameService.signalGameConfig().imageScoreAni}.png`:S&&(T=`../uploads/quiz-game/${S}/images/${this.gameService.signalGameConfig().imageScoreAni}.png`),T&&t.push({name:"crabFrontImage",url:T},{name:"crabBackImage",url:T})}}else t.push({name:"crabFrontImage",url:"assets/images/crab01-front.png"},{name:"crabBackImage",url:"assets/images/crab01-back.png"});if(this.updateCompanyLogoImage(t),this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().imageSplitScreenBg){let S=this.initService.qz,T=null;this.gameService.signalGameConfig().isFtpReady?T=`assets/images/${this.gameService.signalGameConfig().imageSplitScreenBg}.png`:S&&(T=`../uploads/quiz-game/${S}/images/${this.gameService.signalGameConfig().imageSplitScreenBg}.png`),T&&t.push({name:"splitScreenBgImage",url:T})}if(this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().imageMiniGameSplitScreenBg){let S=this.initService.qz,T=null;this.gameService.signalGameConfig().isFtpReady?T=`assets/images/${this.gameService.signalGameConfig().imageMiniGameSplitScreenBg}.png`:S&&(T=`../uploads/quiz-game/${S}/images/${this.gameService.signalGameConfig().imageMiniGameSplitScreenBg}.png`),T&&t.push({name:"miniGameSplitScreenBgImage",url:T})}return t}updateCompanyLogoImage(t){if(this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().imageCompanyLogo){let e=this.initService.qz,i=null;this.gameService.signalGameConfig().isFtpReady?i=`assets/images/${this.gameService.signalGameConfig().imageCompanyLogo}.png`:e&&(i=`../uploads/quiz-game/${e}/images/${this.gameService.signalGameConfig().imageCompanyLogo}.png`),i?t.push({name:"companyLogoImage",url:i}):t.push({name:"companyLogoImage",url:"assets/images/svg/ROY_white_full_coloured.svg"})}else t.push({name:"companyLogoImage",url:"assets/images/svg/ROY_white_full_coloured.svg"})}loadFiles(t){return ue(this,null,function*(){return yield this.fileLoadService.downloadFilesWithProgress(t,(e,i,o)=>{e===i?this.initService.signalLoadPercentage.set(100):o>this.initService.signalLoadPercentage()&&this.initService.signalLoadPercentage.set(o)})})}initScorm(){this.scormService.init();let t=this.scormService.initLMS();console.log("Init LMS?",t);let e=this.scormService.getValue("cmi.core.lesson_status");console.log("lessonStatus: "+e),e==="not attempted"&&(this.scormService.setValue("cmi.core.lesson_status","incomplete"),this.scormService.setValue("cmi.core.score.min",0),this.scormService.setValue("cmi.core.score.max",100),this.scormService.setValue("cmi.core.score.raw",0))}initLocalization(){Fe.TRANSLATION_FILE_PATH="assets/i18n/";let t=this.getBrowserLanguage(),e=[];if(!this.gameService.signalGameConfig()?.isFtpReady)if(this.initService.qz){let i=this.initService.qz;e=[`uploads/quiz-game/${i}/i18n/{{locale}}.json`,`api/game/get-localizations.php?qz=${i}&locale={{locale}}`]}else e=["uploads/quiz-game/base/i18n/{{locale}}.json"];return this.nativeTranslateService.use(t,e)}getBrowserLanguage(){let t=window.navigator.userLanguage||window.navigator.language,i=window.location.host.split(".")[0],o=Object.keys(Dr);for(let s=0,a=o.length;s<a;++s)if(o.includes(i)){t=o[s];break}t||(t=g.defaultLocale);let r=Xa.getQueryParams();if("locale"in r&&(t=r.locale.toString()),t){for(let s=0,a=o.length;s<a;++s)if(o[s].includes(t))return o[s]}return g.defaultLocale}initGameTitleImage(){if(this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().imageGameTitle){let t=this.initService.qz,e=null;this.gameService.signalGameConfig().isFtpReady?e=`assets/images/${this.gameService.signalGameConfig().imageGameTitle}.png`:t&&(e=`../uploads/quiz-game/${t}/images/${this.gameService.signalGameConfig().imageGameTitle}.png`),e&&this.gameService.signalGameTitleImage.set(e)}}initBackgroundImage(){if(this.gameService.signalGameConfig()){if(this.gameService.signalGameConfig().imageBg){let t=this.initService.qz,e=null;this.gameService.signalGameConfig().isFtpReady?e=`url('assets/images/${this.gameService.signalGameConfig().imageBg}.jpg')`:t&&(e=`url('../uploads/quiz-game/${t}/images/${this.gameService.signalGameConfig().imageBg}.jpg')`),e&&this.signalBackgroundImage.set(e)}}else this.signalBackgroundImage.set("url('../assets/images/ROY_Deepsea_Light.jpg')")}getSwipeYesNoSwipeImagePath(t){if(this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().screenQuiz.imageSwipe){let e=this.initService.qz,i=this.gameService.signalGameConfig().screenQuiz.imageSwipe;if(this.gameService.signalGameConfig().isFtpReady)return`assets/images/${i}.png`;if(e)return`../uploads/quiz-game/${e}/images/${i}.png`}return t+"images/swipe-left-right.png"}getSwipeYesNoGreatImagePath(t){if(this.gameService.signalGameConfig()&&this.gameService.signalGameConfig().screenQuiz.imageGreat){let e=this.initService.qz,i=this.gameService.signalGameConfig().screenQuiz.imageGreat;if(this.gameService.signalGameConfig().isFtpReady)return`assets/images/${i}.png`;if(e)return`../uploads/quiz-game/${e}/images/${i}.png`}return t+"images/great.png"}initSwipeYesNoGameBaseSettings(){this.gameService.signalGameConfig()?(this.swipeYesNoService.isStandardBaseGame=!1,this.swipeYesNoService.updateGlobalSettingsFromGameConfig(this.gameService.signalGameConfig().screenQuiz),this.swipeYesNoService.updateGoldenCardImage(this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg2,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg3,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg4,this.gameService.signalGameConfig().screenQuiz.questionCardGold.colorBg5),this.swipeYesNoService.timeBarColors[0]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg2,this.swipeYesNoService.timeBarColors[1]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg3,this.swipeYesNoService.timeBarColors[2]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg4,this.swipeYesNoService.timeBarColors[3]=this.gameService.signalGameConfig().screenQuiz.timeBar.colorBg5):this.swipeYesNoService.isStandardBaseGame=!0}initIFrameSubscription(){this.gameService.signalGameConfig()?.isFtpReady||this.iFrameEventRuleService.init(this.signalBackgroundImage,this.gameHeaderComponent,this.changeDetectorRef)}static{this.\u0275fac=function(e){return new(e||T_)}}static{this.\u0275cmp=W({type:T_,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&(ie(J5,5),ie(eq,5),ie(tq,5),ie(nq,5),ie(iq,5)),e&2){let o;ee(o=te())&&(i.overlayContainer=o.first),ee(o=te())&&(i.elementToScale=o.first),ee(o=te())&&(i.main=o.first),ee(o=te())&&(i.gameHeaderComponent=o.first),ee(o=te())&&(i.gameCoinsComponent=o.first)}},hostBindings:function(e,i){e&1&&N("resize",function(){return i.onResize()},jt)},standalone:!1,decls:17,vars:23,consts:[["overlayContainer",""],["elementToScale",""],["gameHeader",""],["main",""],["gameCoins",""],[1,"background-container",3,"background-image"],[1,"page-container"],[1,"element-to-scale"],[3,"pageHeight","scaling"],[1,"game-header"],[1,"main-content"],[1,"main","scrollbar"],[3,"fontSize"],[1,"background-container"]],template:function(e,i){if(e&1&&(P(0,oq,1,2,"div",5),C(1,"div",6,0)(3,"div",7,1),D(5,"app-game-background",8),C(6,"div",9),D(7,"app-game-header",null,2),v(),C(9,"div",10)(10,"div",11,3),D(12,"router-outlet"),v()(),D(13,"app-game-coins",null,4),v()(),D(15,"app-toast",12),P(16,rq,1,0,"app-inline-console")),e&2){let o,r;k(i.signalBackgroundImage()?0:-1),f(),x("width",i.signalPageWidth(),"px")("height",i.signalPageHeight(),"px"),f(2),x("transform",i.signalScaleTransform())("margin-block-start",i.signalScaleMargin())("height",i.signalScaleHeight(),"px")("color",(o=i.gameService.signalGameConfig())==null?null:o.fontColorMain)("--bs-table-color",(r=i.gameService.signalGameConfig())==null?null:r.fontColorMain),f(2),I("pageHeight",i.signalPageHeight())("scaling",i.signalScaling()),f(),se("game-header-enabled",i.panelService.signalIsGameHeaderEnabled()),f(3),se("game-header-enabled",i.panelService.signalIsGameHeaderEnabled()),f(6),I("fontSize",16),f(),k(i.signalIsInlineConsoleVisible()?16:-1)}},dependencies:[Kc,tE,nE,_m,iE,oE],styles:[".background-container[_ngcontent-%COMP%]{position:fixed;background-image:none;background-repeat:no-repeat;background-size:cover;background-position:top;width:100%;height:100%;touch-action:none;pointer-events:none}.page-container[_ngcontent-%COMP%]{position:fixed;left:50%;top:0;transform:translate(-50%);touch-action:none}.page-container[_ngcontent-%COMP%]   .element-to-scale[_ngcontent-%COMP%]{width:1080px;height:1920px;transform-origin:0 0;touch-action:none}.game-header[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:0;transition:height .3s;z-index:10}.game-header.game-header-enabled[_ngcontent-%COMP%]{height:100px}.main-content[_ngcontent-%COMP%]{position:relative;z-index:10;display:flex;flex-direction:row;flex-wrap:nowrap;height:100%;transition:height .3s;touch-action:none}.main-content.game-header-enabled[_ngcontent-%COMP%]{height:calc(100% - 100px)}.main-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex-basis:100%;transition:flex-basis .3s,width 3s;overflow:hidden auto;view-transition-name:main-content}@supports not (view-transition-name: main-content){.main-content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{view-transition-name:none}}.main-content[_ngcontent-%COMP%]   .warn-params[_ngcontent-%COMP%]{padding:100px;text-align:center}.btn-exit[_ngcontent-%COMP%]{position:absolute;top:60px;right:50px;z-index:11;width:83px;height:83px;background-color:#0007;border-radius:50%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center}.btn-exit[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{position:relative;width:55px;height:55px}"],changeDetection:0})}};bm=Kt([nn()],bm);var D_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze]})}}return n})();var I_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze]})}}return n})();var E_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,I_,I_]})}}return n})();var ko=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,D_,gi,E_,Rt,D_,gi,E_,Rt]})}}return n})();var lr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,ko,em,Ee]})}}return n})();var k_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,Rt,lr,gi]})}}return n})();var wm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[lr,k_,lr,k_]})}}return n})();var O_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,ko]})}}return n})();var R_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,Rt]})}}return n})();var A_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,Rt]})}}return n})();var N_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,ko,lr,Ee]})}}return n})();var B_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,Rt]})}}return n})();var Mm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,O_,R_,A_,B_,N_,lr,Rt,gi,Ee,O_,R_,A_,B_,N_]})}}return n})();function cq(n,t){if(n&1&&(Xl(),C(0,"svg",2),D(1,"path",3),v()),n&2){let e=y();x("width",e.width)("height",e.height),sn("viewBox",e.viewBox),f(),x("stroke",e.color)("stroke-width",e.strokeWidth),sn("d",e.quadraticPathData)}}function uq(n,t){if(n&1&&(Xl(),C(0,"svg",2),D(1,"path",3),v()),n&2){let e=y();x("width",e.width,"px")("height",e.height,"px"),sn("viewBox",e.viewBox),f(),x("stroke",e.color)("stroke-width",e.strokeWidth),sn("d",e.cubicPathData)}}function dq(n,t){if(n&1){let e=ne();C(0,"label"),M(1,"Control Point 2 X: "),C(2,"input",5),Gn("ngModelChange",function(o){O(e);let r=y(2);return ri(r.control2X,o)||(r.control2X=o),R(o)}),v(),M(3),v(),C(4,"label"),M(5,"Control Point 2 Y: "),C(6,"input",5),Gn("ngModelChange",function(o){O(e);let r=y(2);return ri(r.control2Y,o)||(r.control2Y=o),R(o)}),v(),M(7),v()}if(n&2){let e=y(2);f(2),Ln("ngModel",e.control2X),f(),kt("",e.control2X," ",e.control2X*e.width/100),f(3),Ln("ngModel",e.control2Y),f(),kt("",e.control2Y," ",e.control2Y*e.height/100)}}function fq(n,t){if(n&1){let e=ne();C(0,"div",1)(1,"label"),M(2,"Width: "),C(3,"input",4),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.width,o)||(r.width=o),R(o)}),v(),M(4),v(),C(5,"label"),M(6,"Height: "),C(7,"input",4),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.height,o)||(r.height=o),R(o)}),v(),M(8),v(),C(9,"label"),M(10,"Control Point 1 X: "),C(11,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.control1X,o)||(r.control1X=o),R(o)}),v(),M(12),v(),C(13,"label"),M(14,"Control Point 1 Y: "),C(15,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.control1Y,o)||(r.control1Y=o),R(o)}),v(),M(16),v(),P(17,dq,8,6),C(18,"label"),M(19,"Start X: "),C(20,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.startX,o)||(r.startX=o),R(o)}),v(),M(21),v(),C(22,"label"),M(23,"Start Y: "),C(24,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.startY,o)||(r.startY=o),R(o)}),v(),M(25),v(),C(26,"label"),M(27,"StrokeWidth: "),C(28,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.strokeWidth,o)||(r.strokeWidth=o),R(o)}),v(),M(29),v(),C(30,"label"),M(31,"End X: "),C(32,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.endX,o)||(r.endX=o),R(o)}),v(),M(33),v(),C(34,"label"),M(35,"End Y: "),C(36,"input",5),Gn("ngModelChange",function(o){O(e);let r=y();return ri(r.endY,o)||(r.endY=o),R(o)}),v(),M(37),v()()}if(n&2){let e=y();f(3),Ln("ngModel",e.width),f(),ae(e.width),f(3),Ln("ngModel",e.height),f(),ae(e.height),f(3),Ln("ngModel",e.control1X),f(),kt("",e.control1X," ",e.control1X*e.width/100),f(3),Ln("ngModel",e.control1Y),f(),kt("",e.control1Y," ",e.control1Y*e.height/100),f(),k(e.type==="cubic"?17:-1),f(3),Ln("ngModel",e.startX),f(),kt("",e.startX," ",e.startX*e.width/100),f(3),Ln("ngModel",e.startY),f(),kt("",e.startY," ",e.startY*e.height/100),f(3),Ln("ngModel",e.strokeWidth),f(),ae(e.strokeWidth),f(3),Ln("ngModel",e.endX),f(),kt("",e.endX," ",e.endX*e.width/100),f(3),Ln("ngModel",e.endY),f(),kt("",e.endY," ",e.endY*e.height/100)}}var rE=(()=>{class n{constructor(){this.color="#ff6600",this.width=100,this.height=100,this.startX=0,this.startY=0,this.control1X=0,this.control1Y=67,this.control2X=100,this.control2Y=25,this.endX=100,this.endY=100,this.strokeWidth=10,this.hasControls=!1}get viewBox(){return`0 0 ${this.width+this.strokeWidth} ${this.height+this.strokeWidth}`}get quadraticPathData(){return`M ${this.startX*this.width/100+this.strokeWidth*.5} ${this.startY*this.height/100+this.strokeWidth*.5}
		Q ${this.control1X*this.width/100} ${this.control1Y*this.height/100},
		${this.endX*this.width/100} ${this.endY*this.height/100}`}get cubicPathData(){return`M ${this.startX*this.width/100+this.strokeWidth*.5} ${this.startY*this.height/100+this.strokeWidth*.5}
		 C ${this.control1X*this.width/100} ${this.control1Y*this.height/100},
		 ${this.control2X*this.width/100} ${this.control2Y*this.height/100},
		  ${this.endX*this.width/100} ${this.endY*this.height/100}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=W({type:n,selectors:[["app-gfx-spline"]],inputs:{type:"type",color:"color",width:"width",height:"height",startX:"startX",startY:"startY",control1X:"control1X",control1Y:"control1Y",control2X:"control2X",control2Y:"control2Y",endX:"endX",endY:"endY",strokeWidth:"strokeWidth",hasControls:"hasControls"},decls:3,vars:3,consts:[["xmlns","http://www.w3.org/2000/svg",1,"spline",3,"width","height"],[1,"controls"],["xmlns","http://www.w3.org/2000/svg",1,"spline"],[1,"spline-path"],["type","range","min","0","max","1000",3,"ngModelChange","ngModel"],["type","range","min","0","max","100",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(P(0,cq,2,10,":svg:svg",0),P(1,uq,2,10,":svg:svg",0),P(2,fq,38,25,"div",1)),i&2&&(k(o.type==="quadratic"?0:-1),f(),k(o.type==="cubic"?1:-1),f(),k(o.hasControls?2:-1))},dependencies:[kI,Vr,d_,wl,u_],styles:[".spline[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.spline[_ngcontent-%COMP%]   .spline-path[_ngcontent-%COMP%]{fill:none;stroke:#f60;stroke-width:10px;stroke-linecap:round}.controls[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin-top:1rem}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}"]})}}return n})();var sE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=pe({imports:[ze,wm,em,Mm,ko,rE,ml,Ee,yl,hh]})}}return n})();var ph=(()=>{class n{static{this.initError=null}static initializeAppFactory(e,i,o){return()=>ue(null,null,function*(){try{yield Xm(Jm(i.getBaseConfig(),e.getBaseConfig()).pipe(Te(([r,s])=>({gameConfig:r,baseConfig:s})),Zt(({gameConfig:r,baseConfig:s})=>{o.setScores([])})))}catch(r){n.initError="An error occurred while getting the values. Please check internet connection and do a restart.",console.error("An error occurred while getting the values:",r)}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n,bootstrap:[bm]})}static{this.\u0275inj=pe({providers:[Ea(()=>n.initializeAppFactory(p(de),p(ye),p(Eo))()),{provide:bs,useValue:g.defaultLocale},Pv(kv())],imports:[Sv,KI,wm,sE,ko,Mm]})}}return n})();var gq=new URLSearchParams(window.location.search),hq=gq.get("qz"),mq="scorm-app"in window&&window["scorm-app"];bv([{provide:"APP_QUIZ_ID",useValue:hq},{provide:"IS_SCORM_PACKAGE",useValue:mq}]).bootstrapModule(ph,{applicationProviders:[_1()]}).catch(n=>console.error(n));
